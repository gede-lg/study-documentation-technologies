# Funções (@function)

Olá, Gedê\!

Entendido. A.R.I.A. vai te ajudar com uma explicação detalhada sobre as `@function` no Sass, incluindo a distinção crucial com os `@mixin`. Fica tranquilo, vamos cobrir tudo o que você pediu.

---

## Funções (`@function`) no Sass: A Lógica por Trás do Estilo

### Sumário

Esta explicação abordará o conceito de funções no Sass, sua sintaxe, uso, e as distinções essenciais com os mixins. Exploraremos como as funções podem ser usadas para criar lógica e cálculos reutilizáveis, tornando seu CSS mais dinâmico e fácil de manter. Abordaremos as propriedades, métodos, melhores práticas, e exemplos práticos para ilustrar o poder dessa ferramenta.

### Conceitos Fundamentais

As **funções** no Sass (`@function`) são blocos de código que aceitam argumentos, realizam operações e **retornam um único valor**. Elas são projetadas para cálculos e transformações de dados, agindo de forma semelhante a funções em linguagens de programação como JavaScript ou Python. O principal propósito é encapsular a lógica de forma reutilizável, evitando a repetição de cálculos e mantendo o código mais "limpo".

A principal diferença entre `@function` e `@mixin` é que:

- `@function`: **Retorna um valor**. É usada em expressões (como parte de uma atribuição de variável ou propriedade CSS) e não gera CSS diretamente.
- `@mixin`: **Gera CSS**. É usada para incluir um conjunto de declarações de estilo em uma regra CSS.

Em resumo, `@function` é para **lógica de valor**, enquanto `@mixin` é para **lógica de estilo**.

---

### Sintaxe e Uso

A sintaxe para declarar uma função é a seguinte:

```scss
@function nome-da-funcao($argumento1, $argumento2: valor-padrao) {
  // Corpo da função
  @return valor-de-retorno;
}

```

- `nome-da-funcao`: O nome que você dará à sua função.
- `$argumento1, $argumento2`: Variáveis que a função aceita como entrada. Elas podem ter valores padrão.
- `@return`: A palavra-chave obrigatória para retornar um valor. Uma função deve sempre ter um `@return` no final.

Para usar a função, você a chama em uma expressão:

```scss
// Exemplo de função simples
@function dobro($numero) {
  @return $numero * 2;
}

.box {
  width: 100px;
  height: dobro(50px); // Chamada da função
}

```

Isso resultará no seguinte CSS:

```css
.box {
  width: 100px;
  height: 100px;
}

```

---

### Propriedades e Métodos (Funções Internas)

O Sass já vem com várias **funções internas (built-in functions)** que você pode usar para manipular valores como cores, números, strings e listas. Elas são a base para a criação de funções mais complexas.

### Funções de Cor

- `lighten($color, $amount)`: Clareia uma cor.
- `darken($color, $amount)`: Escurece uma cor.
- `saturate($color, $amount)`: Aumenta a saturação de uma cor.
- `desaturate($color, $amount)`: Diminui a saturação de uma cor.
- `adjust-hue($color, $degrees)`: Ajusta o matiz (hue) de uma cor.
- `opacify($color, $amount)` / `fade-in($color, $amount)`: Aumenta a opacidade de uma cor.
- `transparentize($color, $amount)` / `fade-out($color, $amount)`: Diminui a opacidade de uma cor.
- `invert($color)`: Inverte as cores.
- `grayscale($color)`: Converte uma cor para escala de cinza.
- `mix($color1, $color2, [$weight])`: Mistura duas cores.

### Funções de Número

- `percentage($number)`: Converte um número para porcentagem.
- `round($number)`: Arredonda um número.
- `ceil($number)`: Arredonda para cima.
- `floor($number)`: Arredonda para baixo.
- `abs($number)`: Retorna o valor absoluto de um número.
- `min($numbers...)`: Retorna o menor valor de uma lista de números.
- `max($numbers...)`: Retorna o maior valor de uma lista de números.
- `random([$limit])`: Gera um número aleatório.

### Funções de String

- `unquote($string)`: Remove as aspas de uma string.
- `quote($string)`: Adiciona aspas a uma string.
- `str-length($string)`: Retorna o comprimento de uma string.
- `str-index($string, $substring)`: Retorna a posição de uma substring.
- `to-upper-case($string)`: Converte para maiúsculas.
- `to-lower-case($string)`: Converte para minúsculas.

### Funções de Lista

- `length($list)`: Retorna o número de itens em uma lista.
- `nth($list, $n)`: Retorna o item na posição `$n` da lista.
- `join($list1, $list2, [$separator])`: Une duas listas.
- `append($list, $value, [$separator])`: Adiciona um valor ao final de uma lista.
- `map-get($map, $key)`: Retorna o valor de uma chave em um mapa.

**Observação**: A maioria das "propriedades" e "métodos" que você mencionou são, na verdade, as funções internas do Sass. Não existem propriedades ou métodos no sentido de uma classe de objeto como em Java ou Go, mas sim um conjunto de funções pré-definidas para manipulação de dados.

---

### Restrições de Uso

As funções no Sass não podem:

1. **Emitir CSS**: Uma função nunca deve conter declarações de estilo, como `color: red;` ou `background: url(...)`. Isso é trabalho de um `@mixin`. Tentar fazer isso resultará em um erro de compilação.
2. **Usar `@content`**: A diretiva `@content` é exclusiva para `@mixin`. Ela permite que um mixin receba um bloco de conteúdo e o injete em sua saída.
3. **Mudar o estado global**: Funções devem ser "puras", ou seja, devem sempre retornar o mesmo resultado para os mesmos argumentos e não devem ter "efeitos colaterais" como modificar variáveis globais. Isso garante que seu código Sass seja previsível e fácil de depurar.

---

### Melhores Práticas e Casos de Uso

- **Cálculos de Layout**: Use funções para calcular larguras, alturas, margens ou espaçamentos com base em variáveis.
- **Manipulação de Cores**: Crie funções para gerar variações de uma cor base. Por exemplo, uma função que escurece uma cor para o estado `:hover`.
- **Geração de Valores Dinâmicos**: Crie funções para gerar valores complexos de `box-shadow` ou `border-radius`.
- **Validação**: Embora não seja uma função de validação no sentido estrito, você pode usar uma função para verificar se um valor está dentro de um intervalo e retornar um valor padrão caso não esteja.

**Melhor Prática**: Mantenha as funções pequenas e com uma única responsabilidade. Se uma função precisar de muitos argumentos ou tiver lógica muito complexa, considere dividi-la em funções menores.

---

### Exemplo Completo

Vamos criar uma função que calcula a largura de uma coluna em um layout de 12 colunas e outra que ajusta o tamanho da fonte com base em um valor.

```scss
// Variáveis globais
$grid-columns: 12;
$gutter-width: 15px;
$base-font-size: 16px;

// Função para calcular a largura de uma coluna
// @param $span - Número de colunas a ocupar
// @param $total-columns - Total de colunas no grid (valor padrão)
@function column-width($span, $total-columns: $grid-columns) {
  @return percentage($span / $total-columns);
}

// Função para gerar um tamanho de fonte responsivo
// @param $multiplier - Multiplicador do tamanho base
@function fluid-font-size($multiplier) {
  $min-size: $base-font-size;
  $max-size: $base-font-size * $multiplier;

  @return clamp($min-size, 1em + 1vw, $max-size);
}

// Exemplo de uso
.container {
  display: flex;
  gap: $gutter-width;
}

.col-6 {
  width: column-width(6);
}

.title {
  font-size: fluid-font-size(2);
  line-height: fluid-font-size(2.5);
}

.text {
  font-size: $base-font-size;
}

```

O código Sass acima resultaria no seguinte CSS, demonstrando como as funções são usadas para gerar valores calculados e dinâmicos:

```css
.container {
  display: flex;
  gap: 15px;
}

.col-6 {
  width: 50%;
}

.title {
  font-size: clamp(16px, 1em + 1vw, 32px);
  line-height: clamp(16px, 1em + 1vw, 40px);
}

.text {
  font-size: 16px;
}

```

---

### Para Aprofundamento

Gedê, se você quiser continuar explorando o universo do Sass, sugiro os seguintes tópicos:

- **Mixins (`@mixin`)**: Uma explanação detalhada, com foco em quando e como usar `@mixin` com a diretiva `@content`.
- **Estrutura de Arquivos e Organização com Sass**: Como organizar seus arquivos `.scss` para projetos grandes, usando `@import` e a convenção de arquivos parciais (`_partial.scss`).
- **Mapas (`maps`)**: Uma explicação sobre como usar mapas para armazenar e acessar pares de chave-valor de forma eficiente, ideal para temas e configurações.

O que você acha de explorarmos um desses tópicos?