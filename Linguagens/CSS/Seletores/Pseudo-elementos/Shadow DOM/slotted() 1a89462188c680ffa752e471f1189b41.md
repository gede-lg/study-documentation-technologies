# ::slotted()

# Pseudo-elemento ::slotted() em CSS

## 1. Introdução

O pseudo-elemento **::slotted()** é uma funcionalidade específica do CSS que permite estilizar os elementos distribuídos através do [**slot**](https://developer.mozilla.org/pt-BR/docs/Web/HTML/Element/slot) em componentes de Web Components. Essa ferramenta é fundamental para desenvolvedores que criam componentes encapsulados e desejam aplicar estilos a elementos que são inseridos externamente, mantendo a integridade do Shadow DOM. Em um cenário onde a modularização e o encapsulamento são essenciais para a criação de interfaces complexas, entender e dominar o ::slotted() é vital para garantir a consistência e o reaproveitamento de componentes.

### Conceitos Fundamentais

- **Web Components:** Conjunto de padrões que permitem criar elementos customizados reutilizáveis com encapsulamento de estilo e comportamento.
- **Shadow DOM:** Mecanismo que possibilita a criação de um DOM separado para o componente, isolando estilos e scripts.
- **Slot:** Área definida no Shadow DOM onde conteúdo externo pode ser injetado, permitindo flexibilidade e customização dos componentes.
- **Pseudo-elemento ::slotted():** Permite selecionar e aplicar estilos aos nós inseridos em slots, superando as limitações de isolamento do Shadow DOM.

## 2. Sumário

1. **Introdução**
    - Contextualização do ::slotted()
    - Relevância no desenvolvimento de Web Components
2. **Sintaxe e Estrutura**
    - Estrutura básica do ::slotted()
    - Exemplos de declaração e utilização
3. **Componentes Principais**
    - Função e comportamento do ::slotted()
    - Interação com Shadow DOM e slot
4. **Restrições de Uso**
    - Limitações e cuidados no uso do ::slotted()
5. **Exemplos de Código Otimizados**
    - Casos de uso básicos e avançados
6. **Informações Adicionais**
    - Dicas e nuances para desenvolvedores
7. **Referências para Estudo Independente**
    - Documentação e recursos complementares

## 3. Conteúdo Detalhado

### Sintaxe e Estrutura

O pseudo-elemento ::slotted() é utilizado para aplicar estilos diretamente aos elementos que são passados para um slot em um componente. A sintaxe básica é:

```css
::slotted(selector) {
  /* propriedades CSS */
}

```

- **selector:** É o seletor CSS que define quais elementos dentro do slot serão estilizados. Esse seletor pode ser simples (ex: `p`, `.classe`, `#id`) mas não permite seletores descendentes ou complexos.

### Exemplo de Declaração

```css
/* Dentro do Shadow DOM de um componente */
::slotted(p) {
  color: blue;
  font-size: 16px;
}

```

Neste exemplo, qualquer elemento `<p>` passado para o slot do componente será exibido com a cor azul e tamanho de fonte 16px.

### Componentes Principais

- **Função do ::slotted():**
    
    Permite que desenvolvedores apliquem estilos a conteúdo injetado externamente, garantindo que os elementos recebam os estilos desejados sem quebrar o encapsulamento do Shadow DOM.
    
- **Interação com Shadow DOM e Slot:**
    
    Quando um elemento é inserido em um slot, ele não herda automaticamente os estilos definidos no Shadow DOM do componente. O ::slotted() atua como uma ponte, permitindo que você direcione os estilos para esses elementos específicos, mesmo estando fora do escopo do Shadow DOM.
    
    **Importante:** O seletor dentro do ::slotted() não pode ser composto por seletores aninhados. Por exemplo, `::slotted(div span)` não é permitido; deve-se aplicar o estilo diretamente ao elemento de nível superior que foi inserido.
    
- **Métodos e Propriedades Relacionados:**
    
    Embora o ::slotted() seja um pseudo-elemento, ele não possui métodos ou propriedades próprias além dos padrões CSS. Sua eficácia depende da correta estruturação do componente, definição do slot e uso adequado dos seletores.
    

### Restrições de Uso

- **Limitações de Seletor:**
    
    Apenas seletores simples são aceitos dentro do ::slotted(). Isso significa que seletores complexos ou combinadores (ex.: `div > p`) não funcionarão.
    
- **Escopo de Aplicação:**
    
    Os estilos aplicados pelo ::slotted() são limitados aos elementos diretamente atribuídos a um slot. Elementos filhos desses elementos não serão afetados, a não ser que também sejam selecionados por outro ::slotted() ou estilos globais.
    
- **Encapsulamento:**
    
    Mesmo com o uso do ::slotted(), o isolamento do Shadow DOM é mantido. Os estilos definidos fora do componente não afetarão os elementos dentro do ::slotted().
    

## 4. Exemplos de Código Otimizados

### Exemplo Básico

```html
<!-- Componente com Shadow DOM -->
<template id="meu-componente">
  <style>
    /* Estilizando o elemento <p> passado para o slot */
    ::slotted(p) {
      color: blue;
      font-size: 16px;
    }
  </style>
  <slot></slot>
</template>

<script>
  class MeuComponente extends HTMLElement {
    constructor() {
      super();
      const shadow = this.attachShadow({ mode: 'open' });
      const template = document.getElementById('meu-componente').content;
      shadow.appendChild(template.cloneNode(true));
    }
  }
  customElements.define('meu-componente', MeuComponente);
</script>

<!-- Uso do componente -->
<meu-componente>
  <p>Este parágrafo será estilizado com ::slotted()</p>
</meu-componente>

```

### Exemplo Avançado

```html
<!-- Componente com múltiplos slots -->
<template id="componente-avancado">
  <style>
    /* Estilizando elementos de um slot específico */
    ::slotted(.destaque) {
      background-color: yellow;
      padding: 5px;
      border-radius: 4px;
    }
  </style>
  <slot name="conteudo"></slot>
</template>

<script>
  class ComponenteAvancado extends HTMLElement {
    constructor() {
      super();
      const shadow = this.attachShadow({ mode: 'open' });
      const template = document.getElementById('componente-avancado').content;
      shadow.appendChild(template.cloneNode(true));
    }
  }
  customElements.define('componente-avancado', ComponenteAvancado);
</script>

<!-- Uso do componente com slot nomeado -->
<componente-avancado>
  <p slot="conteudo" class="destaque">Este parágrafo tem destaque aplicado pelo ::slotted()</p>
</componente-avancado>

```

## 5. Informações Adicionais

- **Boas Práticas:**
    - Utilize seletores simples dentro do ::slotted() para garantir compatibilidade e performance.
    - Mantenha a separação de responsabilidades: evite misturar estilos globais com os encapsulados pelo Shadow DOM.
    - Teste os componentes em diferentes navegadores para assegurar que os estilos sejam aplicados conforme esperado.
- **Compatibilidade e Suporte:**
    
    O ::slotted() é suportado nos principais navegadores modernos que implementam o padrão de Web Components. No entanto, sempre verifique a compatibilidade com as versões específicas dos navegadores que você pretende dar suporte.
    

## 6. Referências para Estudo Independente

- [MDN Web Docs - Shadow DOM](https://developer.mozilla.org/pt-BR/docs/Web/Web_Components/Using_shadow_DOM)
- [MDN Web Docs -](https://developer.mozilla.org/pt-BR/docs/Web/HTML/Element/slot)
- [MDN Web Docs - ::slotted()](https://developer.mozilla.org/pt-BR/docs/Web/CSS/::slotted)
- [Google Developers - Introduction to Web Components](https://developers.google.com/web/fundamentals/web-components)
- [CSS-Tricks - A Complete Guide to Shadow DOM](https://css-tricks.com/an-introduction-to-shadow-dom/)

Esta estrutura fornece uma visão abrangente sobre o pseudo-elemento ::slotted(), cobrindo desde os conceitos básicos até exemplos avançados, facilitando o entendimento para desenvolvedores de níveis intermediários e avançados.