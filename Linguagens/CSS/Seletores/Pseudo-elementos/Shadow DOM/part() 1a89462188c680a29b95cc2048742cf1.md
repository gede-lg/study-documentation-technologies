# ::part()

# 1. Introdução

O **`::part()`** é um pseudo-elemento que permite a estilização de partes internas de componentes customizados (Web Components) que usam a especificação [Shadow DOM](https://developer.mozilla.org/pt-BR/docs/Web/Web_Components/Using_shadow_DOM). Essa funcionalidade é essencial para permitir que os desenvolvedores apliquem estilos a elementos encapsulados, mantendo a integridade do isolamento do componente.

**Relevância e Importância:**

- **Isolamento e Customização:** Com o encapsulamento dos Web Components, os estilos internos ficam isolados. O `::part()` oferece uma porta de entrada para que desenvolvedores possam personalizar visualmente esses componentes sem quebrar seu encapsulamento.
- **Design System:** Em bibliotecas e frameworks que utilizam Web Components, o uso de `::part()` possibilita a criação de temas customizáveis, mantendo uma consistência visual ao permitir a estilização de partes específicas do componente.

**Definição e Conceitos Fundamentais:**

- **Tema Principal:** O pseudo-elemento `::part()` permite selecionar e estilizar "partes" de um componente que foram explicitamente expostas via atributo `part`.
- **Subtemas/Componentes Relacionados:**
    - **Atributo `part`:** Declarado no componente, indica quais elementos internos podem ser estilizados externamente.
    - **Pseudo-elemento `::part()`:** No CSS, é utilizado para aplicar estilos às partes designadas pelo atributo `part`.
- **Para que serve:** Permite a customização sem violar o encapsulamento do Shadow DOM, dando flexibilidade aos desenvolvedores na hora de implementar temas e adaptar componentes a diferentes estilos visuais.

---

# 2. Sumário

1. **Introdução**
    - Visão geral e relevância do `::part()`
    - Conceitos fundamentais e definições
2. **Sintaxe e Estrutura**
    - Estrutura básica e exemplo de declaração
3. **Componentes Principais**
    - Funções e interação com o atributo `part`
    - Métodos e propriedades relacionados
4. **Restrições de Uso**
    - Limitações e considerações ao usar `::part()`
5. **Exemplos de Código Otimizados**
    - Exemplos básicos e avançados com comentários
6. **Informações Adicionais**
    - Nuances e dicas para desenvolvedores
7. **Referências para Estudo Independente**
    - Documentação, artigos e recursos úteis

---

# 3. Conteúdo Detalhado

## 3.1 Sintaxe e Estrutura

A sintaxe básica do `::part()` envolve a seleção de uma parte definida por um componente. Por exemplo, se um componente define uma parte com `part="header"`, a regra CSS para estilizar essa parte será:

```css
custom-element::part(header) {
  background-color: #f0f0f0;
  color: #333;
}

```

- **Estrutura:**
    - **`custom-element`:** Nome do componente customizado.
    - **`::part(header)`:** Seleciona a parte interna do componente que tem o atributo `part="header"`.
- **Exemplo de declaração:**
    - No componente (no HTML do Web Component):
        
        ```html
        <div part="header">Cabeçalho do Componente</div>
        
        ```
        
    - Na folha de estilo global:
        
        ```css
        custom-element::part(header) {
          font-size: 1.2rem;
          font-weight: bold;
        }
        
        ```
        

## 3.2 Componentes Principais

### Atributo `part`

- **Função:**
    - Declara partes específicas dentro do Shadow DOM que podem ser estilizadas externamente.
- **Utilização:**
    - Deve ser aplicado aos elementos internos que se deseja expor.
    - Permite múltiplos valores para expor diversas partes, ex: `part="header footer"`.

### Pseudo-elemento `::part()`

- **Função:**
    - Seleciona as partes expostas pelo atributo `part` para aplicação de estilos.
- **Interação:**
    - Trabalha diretamente com o isolamento do Shadow DOM, respeitando o encapsulamento enquanto permite a customização.
- **Propriedades e Métodos Relacionados:**
    - Não possui métodos ou propriedades dinâmicas, sendo um seletor CSS puro.

## 3.3 Restrições de Uso

- **Isolamento:**
    - Apenas partes explicitamente expostas (com o atributo `part`) podem ser estilizadas.
- **Herança de Estilos:**
    - Os estilos aplicados com `::part()` não afetam outros elementos do Shadow DOM que não estejam marcados com o atributo `part`.
- **Compatibilidade:**
    - O suporte ao `::part()` pode variar entre navegadores. É importante verificar a compatibilidade (principalmente em navegadores mais antigos).

---

# 4. Exemplos de Código Otimizados

### Exemplo Básico

```html
<!-- Componente customizado com Shadow DOM -->
<template id="my-component">
  <style>
    :host {
      display: block;
      border: 1px solid #ccc;
    }
    .container {
      padding: 1rem;
    }
  </style>
  <div class="container" part="content">
    Conteúdo do componente
  </div>
</template>

<script>
  class MyComponent extends HTMLElement {
    constructor() {
      super();
      const shadow = this.attachShadow({ mode: 'open' });
      const template = document.getElementById('my-component');
      shadow.appendChild(template.content.cloneNode(true));
    }
  }
  customElements.define('my-component', MyComponent);
</script>

<!-- Uso do componente e estilização via ::part() -->
<my-component></my-component>

<style>
  my-component::part(content) {
    background-color: #e0f7fa;
    font-family: Arial, sans-serif;
  }
</style>

```

*Comentário:*

Neste exemplo, o componente define uma parte chamada `content` e o estilo global utiliza o pseudo-elemento `::part(content)` para customizar o background e a fonte.

### Exemplo Avançado

```html
<!-- Componente com múltiplas partes -->
<template id="card-component">
  <style>
    :host {
      display: block;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border-radius: 5px;
      overflow: hidden;
    }
    .header {
      padding: 0.5rem 1rem;
      background-color: #fafafa;
    }
    .body {
      padding: 1rem;
    }
  </style>
  <div class="header" part="card-header">
    Título do Cartão
  </div>
  <div class="body" part="card-body">
    Conteúdo do cartão.
  </div>
</template>

<script>
  class CardComponent extends HTMLElement {
    constructor() {
      super();
      const shadow = this.attachShadow({ mode: 'open' });
      const template = document.getElementById('card-component');
      shadow.appendChild(template.content.cloneNode(true));
    }
  }
  customElements.define('card-component', CardComponent);
</script>

<!-- Uso do componente com estilizações específicas -->
<card-component></card-component>

<style>
  /* Estilizando o cabeçalho do cartão */
  card-component::part(card-header) {
    background-color: #ffecb3;
    font-size: 1.4rem;
  }

  /* Estilizando o corpo do cartão */
  card-component::part(card-body) {
    color: #555;
    line-height: 1.5;
  }
</style>

```

*Comentário:*

Neste exemplo, o componente `card-component` expõe duas partes: `card-header` e `card-body`. Cada uma é estilizada separadamente, demonstrando como o `::part()` pode ser utilizado para personalizações granulares.

---

# 5. Informações Adicionais

- **Customização Dinâmica:**
    - O uso de `::part()` é uma excelente estratégia para manter a separação entre a implementação do componente e sua aparência, permitindo a criação de temas dinâmicos.
- **Melhores Práticas:**
    - Sempre documente quais partes do componente são expostas para facilitar a manutenção e o entendimento por outros desenvolvedores.
    - Verifique a compatibilidade dos navegadores e, se necessário, ofereça alternativas ou fallback para navegadores que não suportam o `::part()`.
- **Interação com Outras Técnicas CSS:**
    - Pode ser combinado com variáveis CSS para criar sistemas de design responsivos e facilmente customizáveis.

---

# 6. Referências para Estudo Independente

- **MDN Web Docs - CSS Shadow Parts:**
    
    [https://developer.mozilla.org/pt-BR/docs/Web/CSS/::part](https://developer.mozilla.org/pt-BR/docs/Web/CSS/::part)
    
    *Recurso completo sobre a sintaxe, uso e compatibilidade do pseudo-elemento `::part()`.*
    
- **W3C - Shadow DOM:**
    
    [https://www.w3.org/TR/shadow-dom/](https://www.w3.org/TR/shadow-dom/)
    
    *Especificação que aborda os fundamentos do Shadow DOM e como ele interage com técnicas de estilização como o `::part()`.*
    
- **Artigos e Tutoriais:**
    - *Explorando Web Components e Shadow DOM com CSS*, disponível em blogs especializados em desenvolvimento web.
    - Cursos e tutoriais em plataformas como [MDN Web Docs Learning Area](https://developer.mozilla.org/pt-BR/docs/Learn) para aprofundamento em Web Components e técnicas de encapsulamento.

---

Esta estrutura detalha o funcionamento do pseudo-elemento `::part()`, desde os conceitos básicos até exemplos práticos e referências para estudos avançados, servindo como um guia abrangente para desenvolvedores interessados em personalizar componentes web de forma eficiente e segura.