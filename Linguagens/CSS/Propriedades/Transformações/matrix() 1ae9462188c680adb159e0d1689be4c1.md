# matrix()

## 1. Introdução

A função **matrix()** faz parte do conjunto de funções da propriedade **transform** em CSS, e permite aplicar transformações 2D complexas a um elemento. Diferente de funções individuais como `translate()`, `rotate()`, `scale()` ou `skew()`, a função **matrix()** combina todas essas transformações em uma única função que utiliza uma matriz de seis valores. Essa abordagem oferece um controle detalhado sobre a transformação, sendo especialmente útil para composições e animações avançadas, embora sua sintaxe possa ser menos intuitiva.

---

## 2. Conceitos Fundamentais

- **Definição:**
    
    **matrix()** especifica uma transformação 2D através de uma matriz de seis valores: `matrix(a, b, c, d, e, f)`. Essa matriz representa uma combinação linear de transformações, permitindo a aplicação simultânea de escalonamento, rotação, inclinação e translação.
    
- **Como Funciona:**
    
    A transformação aplicada a cada ponto (x, y) do elemento é definida pela seguinte fórmula:
    
    (x′y′)=(acbd)(xy)+(ef)\begin{pmatrix}
    x' \\
    y'
    \end{pmatrix} =
    \begin{pmatrix}
    a & c \\
    b & d
    \end{pmatrix}
    \begin{pmatrix}
    x \\
    y
    \end{pmatrix} +
    \begin{pmatrix}
    e \\
    f
    \end{pmatrix}
    
    onde:
    
    - **a, b, c, d**: Representam transformações relacionadas à escala, rotação e inclinação.
    - **e, f**: Definem a translação (movimento) do elemento nos eixos X e Y, respectivamente.
- **Objetivos e Benefícios:**
    - **Controle Detalhado:** Permite aplicar transformações complexas em uma única declaração.
    - **Combinação de Efeitos:** Ao combinar escalonamento, rotação, inclinação e translação, a função matrix() possibilita criar animações e efeitos de transformação avançados.
    - **Flexibilidade:** Embora menos intuitiva que as funções separadas, a matriz oferece uma forma matemática de compor transformações de forma precisa.
- **Aplicabilidade:**
    
    Ideal para animações avançadas e cenários onde a combinação de múltiplas transformações é necessária. Também pode ser útil para reproduzir transformações previamente calculadas por ferramentas gráficas.
    

---

## 3. Sintaxe e Valores

### 3.1. Sintaxe Básica

```css
transform: matrix(a, b, c, d, e, f);

```

- **a:** Escala no eixo X e parte da rotação.
- **b:** Componente de inclinação no eixo Y.
- **c:** Componente de inclinação no eixo X.
- **d:** Escala no eixo Y e parte da rotação.
- **e:** Translação no eixo X.
- **f:** Translação no eixo Y.

### 3.2. Relação com Outras Funções

A função **matrix()** é equivalente a uma combinação de transformações 2D:

- `matrix(a, b, c, d, e, f)` equivale a:
    - **scaleX(a)**, **scaleY(d)**
    - **rotate(θ)** (quando  e )
        
        a=cos⁡θa = \cos \theta
        
        b=sin⁡θb = \sin \theta
        
    - **skewX(α)** e **skewY(β)**, dependendo dos valores de **b** e **c**
    - **translate(e, f)**

No entanto, a decomposição exata pode não ser óbvia, pois os efeitos se misturam na matriz.

### 3.3. Exemplo de Valores

Por exemplo, a transformação:

```css
transform: matrix(1, 0, 0, 1, 50, 100);

```

Equivale a:

- Nenhum escalonamento ou rotação (pois 1 e 0 são os valores padrão para a matriz identidade)
- Uma translação de 50px no eixo X e 100px no eixo Y.

---

## 4. Exemplos Práticos

### Exemplo 1: Translação Simples com matrix()

```css
.box {
  width: 150px;
  height: 150px;
  background-color: #3498db;
  transition: transform 0.4s ease;
}

/* Move a caixa 50px para a direita e 100px para baixo */
.box:hover {
  transform: matrix(1, 0, 0, 1, 50, 100);
}

```

```html
<div class="box"></div>

```

*Explicação:*

Neste exemplo, ao passar o mouse sobre a caixa, ela se desloca 50px para a direita e 100px para baixo, sem alterar sua escala ou rotação, já que os valores `a=1, b=0, c=0, d=1` correspondem à matriz identidade.

---

### Exemplo 2: Combinação de Escala e Translação

```css
.card {
  width: 200px;
  height: 100px;
  background-color: #e74c3c;
  color: #fff;
  transition: transform 0.5s ease;
}

/* Escala em 1.2 vezes e move 30px para a direita e 20px para baixo */
.card:hover {
  transform: matrix(1.2, 0, 0, 1.2, 30, 20);
}

```

```html
<div class="card">Conteúdo do Cartão</div>

```

*Explicação:*

Ao interagir com o cartão, ele é escalado 1.2 vezes em ambos os eixos e, simultaneamente, é transladado 30px à direita e 20px para baixo. Essa transformação combina escalonamento e translação de maneira suave.

---

### Exemplo 3: Rotação com matrix()

A rotação pode ser representada na matriz quando os valores são derivados de funções trigonométricas:

```css
.rotate {
  width: 150px;
  height: 150px;
  background-color: #2ecc71;
  transition: transform 0.5s ease;
}

/* Rotaciona 45 graus */
.rotate:hover {
  transform: matrix(
    0.7071, 0.7071,
    -0.7071, 0.7071,
    0, 0
  );
}

```

```html
<div class="rotate"></div>

```

*Explicação:*

Para uma rotação de 45 graus, a matriz é calculada utilizando cos⁡(45∘)≈0.7071\cos(45^\circ) \approx 0.7071 e sin⁡(45∘)≈0.7071\sin(45^\circ) \approx 0.7071. Ao passar o mouse, o elemento gira 45 graus em torno de seu centro, demonstrando como a função **matrix()** pode ser usada para aplicar rotações.

---

## 5. Informações Adicionais

- **Complexidade e Manutenção:**
    
    Embora **matrix()** ofereça um controle completo sobre a transformação, sua sintaxe pode ser complexa para ajustes simples. Para operações básicas, é geralmente mais intuitivo utilizar funções separadas como `translate()`, `scale()` e `rotate()`.
    
- **Desempenho:**
    
    Transformações aplicadas com **matrix()** são geralmente aceleradas por hardware (GPU), o que permite animações suaves e eficientes sem causar reflows, pois operam na camada de composição.
    
- **Combinação com Transições:**
    
    Integrar **matrix()** com a propriedade `transition` ou `animation` pode criar efeitos de animação sofisticados, desde movimentos simples até transformações complexas que combinam vários efeitos em uma única declaração.
    
- **Ferramentas e Utilitários:**
    
    Para facilitar o uso de **matrix()**, diversas ferramentas online podem ajudar a decompor e calcular os valores corretos, permitindo que designers e desenvolvedores obtenham a matriz desejada sem cálculos manuais complexos.
    

---

## 6. Referências para Estudo Independente

- **MDN Web Docs – CSS transform:**[MDN CSS transform](https://developer.mozilla.org/en-US/docs/Web/CSS/transform)
- **MDN Web Docs – CSS transform-function/matrix():**[MDN matrix()](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix)
- **W3Schools – CSS Transforms:**[W3Schools CSS Transforms](https://www.w3schools.com/css/css3_transforms.asp)
- **Artigos e Tutoriais:**
    - [A Complete Guide to CSS Transforms](https://css-tricks.com/almanac/properties/t/transform/)
    - [Animating with CSS Transforms](https://www.smashingmagazine.com/2011/01/guidelines-for-animated-css-transitions/)

---

## 7. Conclusão

A função **matrix()** no CSS oferece uma abordagem poderosa e versátil para aplicar transformações 2D complexas a elementos, combinando múltiplos efeitos — como translação, escalonamento, rotação e inclinação — em uma única declaração. Embora sua sintaxe possa ser mais desafiadora que as funções individuais, ela proporciona um controle preciso e detalhado, ideal para animações avançadas e composições sofisticadas. Dominar **matrix()** é essencial para desenvolvedores que buscam criar interfaces interativas e visuais dinâmicos, e o uso de ferramentas auxiliares pode facilitar o trabalho com essa função. Explore os exemplos e referências indicados para aprofundar seu conhecimento e implementar transformações 2D de forma eficaz em seus projetos de CSS.