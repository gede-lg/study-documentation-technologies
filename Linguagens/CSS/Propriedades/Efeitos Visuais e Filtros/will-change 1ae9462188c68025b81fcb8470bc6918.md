# will-change

## 1. Introdução

A propriedade **will-change** é uma ferramenta de otimização de desempenho em CSS, permitindo que os desenvolvedores indiquem ao navegador quais propriedades de um elemento provavelmente sofrerão mudanças no futuro. Ao fazer isso, o navegador pode antecipar essas alterações e aplicar otimizações, como criação de novos contextos de composição, para melhorar a suavidade das animações e interações. Essa propriedade é especialmente útil para elementos que interagem com transições, animações ou qualquer atualização dinâmica, reduzindo o risco de reflows e repinturas indesejadas.

---

## 2. Conceitos Fundamentais

- **Definição:**
    
    **will-change** informa ao navegador que determinadas propriedades de um elemento serão alteradas em breve, permitindo que ele se prepare para essas mudanças aplicando técnicas de otimização de renderização.
    
- **Objetivo e Benefícios:**
    - **Otimização de Desempenho:** Ao sinalizar quais propriedades vão mudar, o navegador pode criar um novo contexto de composição ou aplicar outras otimizações, resultando em animações e transições mais suaves.
    - **Prevenção de Reflows:** Minimiza o impacto de mudanças de layout, evitando reflows ou repinturas desnecessárias.
    - **Feedback Proativo:** Embora **will-change** não cause alterações visuais por si só, ela melhora a experiência do usuário quando as mudanças ocorrem, tornando a interface mais responsiva e fluida.
- **Cuidado e Uso Moderado:**
    
    O uso excessivo de **will-change** pode, na verdade, prejudicar a performance, pois força o navegador a aplicar otimizações desnecessárias, consumindo recursos de memória e processamento. Portanto, é recomendado aplicá-la apenas nos elementos que realmente precisarão de otimização.
    

---

## 3. Sintaxe e Valores

A sintaxe básica para **will-change** é:

```css
seletor {
  will-change: propriedade, outra-propriedade, ...;
}

```

- **propriedade:**
Lista de propriedades que você antecipa que irão mudar. Pode incluir qualquer propriedade CSS que afete a renderização, como `transform`, `opacity`, `scroll-position`, entre outras.

### Exemplos:

- **Exemplo 1:** Preparar um elemento para uma transformação.
    
    ```css
    .box {
      will-change: transform;
    }
    
    ```
    
- **Exemplo 2:** Preparar para mudanças em opacidade e transformação.
    
    ```css
    .fade-move {
      will-change: opacity, transform;
    }
    
    ```
    

*Observação:* O valor `auto` é implícito quando **will-change** não é especificada.

---

## 4. Exemplos Práticos

### Exemplo 1: Otimizando uma Animação de Transformação

Imagine um elemento que será animado usando `transform` para mover ou escalar. Declarar **will-change: transform;** permite ao navegador criar um contexto otimizado para essa mudança.

```css
.box {
  width: 150px;
  height: 150px;
  background-color: #3498db;
  transition: transform 0.5s ease;
  will-change: transform;
}

.box:hover {
  transform: scale(1.2);
}

```

```html
<div class="box"></div>

```

*Explicação:*

Ao passar o mouse sobre `.box`, ela aumenta de tamanho graças à transformação. O uso de `will-change: transform;` ajuda o navegador a otimizar essa animação, resultando em transições mais suaves.

---

### Exemplo 2: Otimizando um Elemento com Mudanças de Opacidade e Transformação

Em interfaces interativas, é comum combinar alterações de opacidade e transformações. Declarar ambos em **will-change** pode melhorar a performance.

```css
.card {
  width: 300px;
  height: 200px;
  background-color: #e74c3c;
  color: #fff;
  transition: transform 0.4s, opacity 0.4s;
  will-change: opacity, transform;
}

.card:hover {
  opacity: 0.8;
  transform: translateY(-10px);
}

```

```html
<div class="card">
  <h3>Interaja Comigo</h3>
  <p>Este cartão se move e muda a opacidade quando o cursor passa por cima.</p>
</div>

```

*Explicação:*

Ao aplicar **will-change: opacity, transform;** ao `.card`, o navegador se prepara para as mudanças, reduzindo reflows e repinturas e proporcionando uma experiência interativa mais suave.

---

### Exemplo 3: Limitar o Uso de will-change

É importante remover **will-change** após as mudanças ocorrerem para liberar recursos.

```css
/* Inicialmente, o elemento é preparado para mudanças */
.animated-element {
  transition: transform 0.3s;
  will-change: transform;
}

/* Após a animação, pode-se remover a propriedade para evitar sobrecarga */
.animated-element.finished {
  will-change: auto;
}

```

*Explicação:*

Após a conclusão da animação (indicada pela classe `.finished`), redefinir **will-change** para `auto` ajuda a liberar otimizações que não são mais necessárias, evitando consumo desnecessário de recursos.

---

## 5. Informações Adicionais

- **Uso Moderado:**
    
    A propriedade **will-change** deve ser aplicada apenas onde necessário, pois seu uso indiscriminado pode levar ao consumo excessivo de recursos de memória e processamento.
    
- **Contextos de Aplicação:**
    
    É mais útil em elementos que participam de animações, transições ou interações dinâmicas, como botões, cartões e componentes de UI que se transformam ou mudam de opacidade.
    
- **Ferramentas de Desenvolvimento:**
    
    Utilize ferramentas de desempenho dos navegadores (como o Chrome DevTools) para monitorar o impacto do **will-change** e garantir que ele esteja sendo usado de forma eficaz.
    
- **Fallback e Gerenciamento Dinâmico:**
    
    Em casos de animações ou interações contínuas, considere remover ou redefinir **will-change** após as transições para otimizar o desempenho global do aplicativo.
    

---

## 6. Referências para Estudo Independente

- **MDN Web Docs – CSS will-change:**[MDN CSS will-change](https://developer.mozilla.org/pt-BR/docs/Web/CSS/will-change)
- **CSS-Tricks – Guide to will-change:**[CSS-Tricks: How and When to Use will-change](https://css-tricks.com/almanac/properties/w/will-change/)
- **Artigos e Tutoriais:**
    - [Optimizing Animations with CSS will-change](https://www.smashingmagazine.com/2016/03/optimizing-css-animations/)
    - [Understanding the Impact of will-change in CSS](https://web.dev/optimize-css/#use-will-change-when-appropriate)

---

## 7. Conclusão

A propriedade **will-change** é uma ferramenta essencial para otimizar a performance e a fluidez de animações e interações em CSS. Ao indicar ao navegador quais propriedades de um elemento serão alteradas em breve, **will-change** permite que o navegador se prepare e aplique otimizações, resultando em transições mais suaves e interativas. Contudo, seu uso deve ser moderado e estrategicamente aplicado para evitar impactos negativos no desempenho geral. Dominar **will-change** é crucial para criar experiências de usuário modernas, responsivas e eficientes. Explore os exemplos e referências fornecidas para aprofundar seu conhecimento e aplicar essas técnicas de forma eficaz em seus projetos.