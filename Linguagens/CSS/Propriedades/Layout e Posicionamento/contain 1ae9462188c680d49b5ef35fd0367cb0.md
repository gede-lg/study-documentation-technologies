# contain

## 1. Introdução

A propriedade **contain** é uma ferramenta poderosa para melhorar o desempenho e a previsibilidade do layout em CSS. Ela permite isolar um elemento e seu conteúdo, informando ao navegador que certas operações (como estilo, layout ou pintura) daquele elemento não afetam o resto do documento. Isso possibilita otimizações de renderização e pode ser particularmente útil em interfaces complexas.

---

## 2. Conceitos Fundamentais

- **Definição:**
    
    **contain** indica quais aspectos de um elemento e seu conteúdo são independentes do resto da página. Ao declarar um contêiner com **contain**, o navegador pode limitar o escopo das mudanças e reprocessamentos, melhorando a performance.
    
- **Tipos de Contenção:**
    
    A propriedade pode ser aplicada com diferentes valores que determinam o nível de isolamento:
    
    - **layout:** Garante que nada fora do elemento seja afetado pelas mudanças de layout internas.
    - **style:** Impede que estilos internos afetem elementos externos.
    - **paint:** Limita a pintura (renderização) do elemento ao seu próprio contexto, sem interferir fora dele.
    - **size:** Indica que o tamanho do elemento não depende de seus descendentes.
    - **content:** Uma forma abreviada que equivale a `layout` + `style` + `paint`.
    - **strict:** Aplica `layout`, `style`, e `paint` além de `size`, garantindo isolamento completo.
    - **none:** Valor padrão, onde o elemento não possui contenção especial.
- **Benefícios:**
    - **Melhoria de Performance:** Ao isolar um elemento, o navegador pode evitar recalculações e repinturas desnecessárias no restante do documento.
    - **Previsibilidade do Layout:** Facilita o entendimento do comportamento dos elementos, pois mudanças dentro do contêiner não afetarão outros elementos.
    - **Facilidade de Manutenção:** Permite desenvolver componentes mais modulares e independentes, úteis em design systems e aplicações de larga escala.

---

## 3. Sintaxe e Exemplos

### Sintaxe Básica

```css
seletor {
  contain: valor;
}

```

- **Exemplo 1:**
    
    Isolando o layout, estilo e pintura do elemento:
    
    ```css
    .card {
      contain: content; /* Equivalente a layout + style + paint */
    }
    
    ```
    
- **Exemplo 2:**
    
    Isolamento completo com tamanho fixo:
    
    ```css
    .widget {
      contain: strict; /* Aplica layout, style, paint e size */
    }
    
    ```
    

---

## 4. Exemplos de Uso

### Exemplo 1: Otimizando um Componente Independente

Imagine um componente de cartão que não afeta o layout ou a renderização do restante da página:

```css
.card {
  contain: layout style paint;
  padding: 20px;
  border: 1px solid #ccc;
  background: #fff;
}

```

*Explicação:*

Aqui, o componente `.card` está isolado em termos de layout, estilo e pintura. Isso significa que alterações dentro do cartão não forçarão recálculos de layout ou repinturas fora dele, melhorando a performance geral da página.

### Exemplo 2: Contenção para Componentes Modulares

Para componentes que devem ser totalmente autossuficientes, como widgets em um dashboard, pode ser interessante usar `strict`:

```css
.widget {
  contain: strict;
  width: 300px;
  height: 200px;
  overflow: hidden;
  background: #f5f5f5;
}

```

*Explicação:*

Ao aplicar `contain: strict;`, o widget se torna completamente isolado: seu tamanho, layout, estilo e pintura não influenciam, nem são influenciados, por elementos externos. Isso é útil para componentes que são reutilizados em diferentes contextos.

---

## 5. Considerações de Compatibilidade e Uso

- **Compatibilidade:**
    
    A propriedade **contain** é amplamente suportada nos navegadores modernos. No entanto, é importante testar seu uso, especialmente em projetos complexos, para garantir que os comportamentos de isolamento estejam funcionando conforme esperado.
    
- **Boas Práticas:**
    - Utilize **contain** em componentes que se beneficiam do isolamento para reduzir repinturas e recalculações de layout.
    - Use valores como `content` ou `strict` conforme o nível de isolamento desejado.
    - Considere o impacto no layout: componentes isolados podem não interagir com o restante do documento, o que deve ser planejado durante o design.
- **Limitações:**
    
    Embora **contain** melhore a performance, seu uso deve ser aplicado de forma criteriosa. O isolamento total pode limitar a interatividade e a fluidez entre componentes, e nem sempre é adequado para todas as partes de um layout.
    

---

## 6. Referências para Estudo Independente

- **MDN Web Docs – CSS contain:**[MDN CSS contain](https://developer.mozilla.org/pt-BR/docs/Web/CSS/contain)
- **MDN Web Docs – CSS Containment:**[MDN CSS Containment](https://developer.mozilla.org/pt-BR/docs/Web/CSS/CSS_Containment)
- **Artigos e Tutoriais:**
    - [CSS Containment: Performance and Isolation](https://css-tricks.com/what-is-css-containment/)
    - [Optimizing Layout with CSS Containment](https://www.smashingmagazine.com/2020/01/css-containment-layout-performance/)

---

## 7. Conclusão

A propriedade **contain** é uma poderosa ferramenta de otimização e modularidade em CSS, permitindo isolar elementos e seus conteúdos de maneira que mudanças internas não afetem o restante do documento. Essa capacidade é fundamental para a criação de componentes autossuficientes e para melhorar a performance de layouts complexos. Ao utilizar **contain** de forma estratégica, você pode obter layouts mais responsivos e eficientes, mantendo a consistência visual e facilitando a manutenção do código. Explore as referências e exemplos fornecidos para aprofundar seu conhecimento e aplicar essas técnicas de forma eficaz em seus projetos de CSS.