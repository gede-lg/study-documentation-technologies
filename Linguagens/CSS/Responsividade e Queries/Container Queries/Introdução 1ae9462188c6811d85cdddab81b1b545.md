# Introdução

## 1. Introdução

As **Container Queries** representam uma evolução no desenvolvimento de layouts responsivos, permitindo que os estilos sejam aplicados com base nas dimensões do contêiner pai, e não apenas na viewport. Com o uso de container queries, os componentes podem se adaptar de forma mais granular ao espaço disponível, tornando-os verdadeiramente modulares e reutilizáveis.

---

## 2. Quando e Por que Usar

- **Modularidade:**
    
    Permite que componentes sejam estilizados de acordo com o espaço que ocupam, independentemente do tamanho da tela. Isso é especialmente útil em bibliotecas de componentes e design system, onde os elementos precisam se comportar de forma consistente em diferentes contextos.
    
- **Adaptação Local:**
    
    Em vez de ajustar o layout apenas com base na viewport (através das media queries tradicionais), as container queries permitem aplicar estilos que respondem diretamente ao tamanho do contêiner. Isso resolve problemas onde um componente precisa se reconfigurar dependendo do espaço disponível em seu container específico.
    
- **Flexibilidade no Design:**
    
    Possibilita a criação de layouts mais complexos e adaptáveis, onde componentes podem reorganizar seu conteúdo (por exemplo, mudar a disposição de elementos internos) com base em seu próprio tamanho, sem depender de uma abordagem “global” baseada apenas na viewport.
    

---

## 3. `@container` e Como Funciona

### 3.1. O Básico do `@container`

- **Definição:**
    
    A regra `@container` permite definir estilos condicionais para um elemento, com base nas dimensões do seu contêiner pai (o container query). Diferentemente das media queries, que se baseiam na viewport, as container queries avaliam as características do contêiner que envolve o componente.
    
- **Sintaxe Básica:**
    
    ```css
    @container (min-width: 300px) {
      /* Regras CSS que serão aplicadas se o contêiner tiver pelo menos 300px de largura */
      .componente {
        /* Estilos adaptados */
      }
    }
    
    ```
    

### 3.2. Como Configurar um Container

- Para que um elemento funcione como contêiner de queries, ele precisa ter a propriedade `container-type` definida. Por exemplo:
    
    ```css
    .card {
      container-type: inline-size; /* Considera apenas a largura */
    }
    
    ```
    
    - **container-type:**
    Pode ser definido como `size` (que considera ambas as dimensões) ou `inline-size` (que considera apenas a dimensão inline, geralmente a largura).
- Depois que o contêiner é definido, você pode escrever regras `@container` que verificam as condições desse contêiner, e não da viewport.

### 3.3. Exemplo de Uso

```css
.card {
  container-type: inline-size;
  padding: 20px;
  border: 1px solid #ccc;
}

/* Estilos padrão para o componente */
.card .content {
  font-size: 1rem;
}

/* Se o contêiner tiver pelo menos 400px de largura, ajuste o layout interno */
@container (min-width: 400px) {
  .card .content {
    font-size: 1.2rem;
    display: flex;
    flex-direction: row;
    gap: 15px;
  }
}

```

*Explicação:*

No exemplo acima, o componente `.card` se torna um container de query. Quando a largura do `.card` atinge 400px ou mais, os estilos definidos dentro da regra `@container` são aplicados, permitindo que o componente ajuste seu layout internamente.

---

## 4. Limitações e Compatibilidade

- **Compatibilidade dos Navegadores:**
    
    As container queries são uma tecnologia relativamente nova e, embora já estejam disponíveis em navegadores modernos como o Chrome, Edge e Safari, elas podem não ser suportadas em versões mais antigas ou em todos os navegadores. É importante verificar a compatibilidade e fornecer fallbacks quando necessário.
    
- **Escopo de Aplicação:**
    
    Diferentemente das media queries, as container queries se aplicam somente a componentes que definem explicitamente um contêiner com `container-type`. Portanto, nem todos os elementos ou layouts se beneficiarão diretamente dessa técnica sem uma reestruturação.
    
- **Complexidade de Implementação:**
    
    Embora ofereçam grande flexibilidade, as container queries exigem uma abordagem diferente do tradicional “mobile-first” ou “desktop-first”. É necessário repensar a estrutura dos componentes para que eles sejam verdadeiramente modulares e respondam ao espaço do contêiner.
    
- **Performance:**
    
    A avaliação de container queries pode ter um custo de desempenho adicional, especialmente em layouts muito complexos. Contudo, para a maioria dos casos de uso, os navegadores modernos gerenciam isso de forma eficiente.
    

---

## 5. Conclusão

As **Container Queries** representam um avanço significativo para o design responsivo, permitindo que os componentes se adaptem com base nas dimensões de seus contêineres, em vez de depender exclusivamente do tamanho da viewport. Utilizando a regra `@container` e definindo contêineres com `container-type`, os desenvolvedores podem criar layouts mais modulares, flexíveis e adaptáveis. Apesar das limitações atuais em compatibilidade e complexidade, as container queries são uma ferramenta promissora que já está transformando a forma como pensamos o design responsivo. Explore os recursos e continue acompanhando as evoluções dessa tecnologia para aplicá-la de maneira eficaz em seus projetos de CSS.