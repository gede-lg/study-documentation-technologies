# Métodos de uma Struct no Go

## O que é e para que serve?

Em Go, métodos são funções que têm um receptor (receiver) associado a um tipo específico, geralmente uma `struct`. Isso permite que você defina comportamentos específicos para tipos personalizados, promovendo uma abordagem orientada a objetos. Métodos permitem que você organize e encapsule a lógica relacionada a uma `struct`, facilitando a manutenção e a clareza do código.

### Propósito dos Métodos
1. **Encapsulamento**: Métodos encapsulam a funcionalidade relacionada a uma `struct`, mantendo a lógica de negócios e os dados juntos.
2. **Reutilização**: Métodos podem ser reutilizados em diferentes partes do programa, promovendo DRY (Don't Repeat Yourself).
3. **Organização**: Mantêm o código organizado e legível, separando a definição de dados da lógica de manipulação desses dados.
4. **Comportamento Específico**: Permitem adicionar comportamentos específicos a tipos personalizados sem modificar diretamente a `struct`.

## Sintaxe de Uso

A definição de um método em Go envolve associar uma função a um tipo específico usando um receptor (receiver). A sintaxe básica para definir um método é a seguinte:

```go
func (receiver ReceiverType) MethodName(parameters) returnType {
    // corpo do método
}
```

### Componentes da Sintaxe
- **Receiver**: O receptor (receiver) aparece entre parênteses antes do nome do método. Ele pode ser um valor ou um ponteiro para o tipo.
- **ReceiverType**: O tipo do receptor, que geralmente é uma `struct`.
- **MethodName**: O nome do método.
- **Parameters**: Os parâmetros do método.
- **ReturnType**: O tipo de retorno do método.

### Exemplo de Código
Vamos criar uma `struct` chamada `Circle` e definir métodos para calcular a área e a circunferência do círculo.

```go
package main

import (
    "fmt"
    "math"
)

// Definição da struct Circle
type Circle struct {
    Radius float64
}

// Método para calcular a área do círculo
func (c Circle) Area() float64 {
    return math.Pi * c.Radius * c.Radius
}

// Método para calcular a circunferência do círculo
func (c Circle) Circumference() float64 {
    return 2 * math.Pi * c.Radius
}

func main() {
    c := Circle{Radius: 5}
    fmt.Printf("Área: %f\n", c.Area())
    fmt.Printf("Circunferência: %f\n", c.Circumference())
}
```

### Métodos com Receptores Ponteiros
Métodos podem ter receptores que são ponteiros, permitindo a modificação dos dados da `struct`.

```go
package main

import (
    "fmt"
)

type Counter struct {
    value int
}

// Método com receptor ponteiro
func (c *Counter) Increment() {
    c.value++
}

func main() {
    c := Counter{value: 0}
    c.Increment()
    fmt.Printf("Valor do contador: %d\n", c.value) // Output: Valor do contador: 1
}
```

## Restrições de Uso

1. **Tipos Definidos pelo Usuário**: Métodos só podem ser definidos para tipos definidos pelo usuário, como `structs`. Não é possível definir métodos para tipos básicos como `int` ou `string`.
2. **Receptores**: O receptor deve ser do mesmo pacote que o método. Não é possível definir métodos para tipos definidos em outros pacotes.
3. **Receptores Valores vs. Ponteiros**: Métodos com receptores valores recebem uma cópia do valor, não permitindo a modificação do estado original. Métodos com receptores ponteiros permitem a modificação do estado original da `struct`.
4. **Consistência de Receivers**: Se um método de uma `struct` usa um receptor ponteiro, é uma boa prática que todos os métodos que modificam o estado usem receptores ponteiros para consistência.
5. **Conflito de Nomes**: Não é permitido ter dois métodos com o mesmo nome para a mesma `struct`, mesmo que os receptores sejam diferentes.

### Exemplo de Código Demonstrando Restrições

Tentando definir um método para um tipo básico:
```go
// Isso não é permitido em Go
type MyInt int

func (m MyInt) Double() int {
    return m * 2
}
```

Definindo métodos para tipos em diferentes pacotes:
```go
package main

import (
    "fmt"
    "mypackage"
)

func (m mypackage.MyType) MyMethod() {
    // Isso não é permitido pois MyType é de outro pacote
}
```

## Conclusão

Métodos em Go são uma maneira poderosa de associar funcionalidades a tipos definidos pelo usuário, especialmente `structs`. Eles permitem encapsulamento, organização e reutilização de código, promovendo uma abordagem limpa e eficiente para o desenvolvimento de software. Entender a sintaxe e as restrições dos métodos é crucial para escrever código Go de alta qualidade e manutenível.