
## O que é e para que serve?

Uma função variádica em Go é uma função que pode aceitar um número variável de argumentos. Em outras palavras, você pode passar zero ou mais argumentos para essa função. Essa funcionalidade é extremamente útil quando o número de valores que precisam ser processados pela função não é fixo e pode variar.

### Para que serve?

- **Flexibilidade:** Permite que uma função lide com uma quantidade variável de dados de entrada sem precisar definir um número específico de parâmetros.
- **Simplificação do código:** Evita a necessidade de sobrecarregar funções ou criar várias versões da mesma função para diferentes números de parâmetros.
- **Conveniência:** Útil em situações onde a quantidade de argumentos é desconhecida ou pode mudar dinamicamente.

## Quando utilizar?

Utilize funções variádicas quando:

- **Precisa processar listas de valores:** Como somar uma série de números, concatenar strings, etc.
- **O número de parâmetros é desconhecido ou variável:** Por exemplo, quando você deseja passar uma série de argumentos de comprimento variável para uma função de registro ou formatação.
- **Quer tornar a função mais geral e reutilizável:** Funções variádicas podem lidar com diferentes casos de uso sem modificação.

## Sintaxe de uso

A sintaxe para definir uma função variádica em Go é simples. O parâmetro variádico é indicado pelo uso de `...` antes do tipo do parâmetro.

```go
func nomeDaFuncao(param1 tipo1, params ...tipoVariadico) {
    // corpo da função
}
```

### Detalhamento da Sintaxe

- **func:** Palavra-chave usada para definir uma função.
- **nomeDaFuncao:** Nome da função que será chamada para executá-la.
- **param1:** Parâmetro regular (opcional).
- **params:** Nome do parâmetro variádico.
- **...tipoVariadico:** Indica que `params` pode receber zero ou mais argumentos do tipo especificado (`tipoVariadico`).

### Exemplo

Aqui está um exemplo de uma função variádica que soma uma série de números inteiros:

```go
func somarTudo(nums ...int) int {
    total := 0
    for _, num := range nums {
        total += num
    }
    return total
}

func main() {
    resultado := somarTudo(1, 2, 3, 4, 5)
    fmt.Println("Resultado:", resultado) // Saída: Resultado: 15
}
```

Neste exemplo:

- A função `somarTudo` recebe um parâmetro variádico `nums` do tipo `int`.
- A função itera sobre `nums` e calcula a soma de todos os valores.
- No `main`, a função `somarTudo` é chamada com cinco argumentos, mas poderia ser chamada com qualquer número de argumentos.

## Restrições de uso

- **Posição do Parâmetro Variádico:** O parâmetro variádico deve ser o último parâmetro na lista de parâmetros da função. Não é permitido ter parâmetros após o parâmetro variádico.
- **Tipos Compatíveis:** Todos os argumentos passados para o parâmetro variádico devem ser do tipo especificado. Passar tipos incompatíveis resultará em um erro de compilação.
- **Um Único Parâmetro Variádico:** Uma função pode ter no máximo um parâmetro variádico.

### Exemplos de Restrições

**Erro de posição do parâmetro variádico:**

```go
func invalida(a ...int, b int) {
    // Código inválido
}
```

**Erro de tipo incompatível:**

```go
func concatenarTudo(strs ...string) string {
    resultado := ""
    for _, str := range strs {
        resultado += str
    }
    return resultado
}

func main() {
    resultado := concatenarTudo("Olá", " ", "Mundo", 123) // Erro: 123 é do tipo int, não string
    fmt.Println("Resultado:", resultado)
}
```

### Uso de Funções Variádicas com Outros Parâmetros

Você pode combinar parâmetros regulares com parâmetros variádicos, desde que o parâmetro variádico seja o último:

```go
func imprimirMensagens(prefixo string, msgs ...string) {
    for _, msg := range msgs {
        fmt.Println(prefixo, msg)
    }
}

func main() {
    imprimirMensagens("INFO:", "Iniciando o sistema", "Carregando módulos", "Pronto")
}
```

## Conclusão

Funções variádicas em Go são uma poderosa ferramenta para criar funções flexíveis e reutilizáveis que podem lidar com um número variável de argumentos. Compreender como e quando utilizá-las pode tornar seu código mais eficiente e fácil de manter. Lembre-se das restrições e siga as boas práticas para garantir que suas funções variádicas sejam robustas e funcionais.