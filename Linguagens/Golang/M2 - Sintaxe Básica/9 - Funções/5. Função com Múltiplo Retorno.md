
## O que é e para que serve?

Em Go, uma função pode retornar múltiplos valores. Esse recurso é extremamente útil para retornar um resultado principal juntamente com informações adicionais, como erros ou indicadores de status. Funções com múltiplos retornos ajudam a escrever código mais claro e eficiente, evitando a necessidade de estruturas complexas para transmitir múltiplas informações.

### Para que serve?

- **Tratamento de Erros:** Retornar um valor e um erro permite um tratamento de erro mais explícito e idiomático.
- **Informação Adicional:** Permite retornar informações adicionais relacionadas ao resultado principal da função.
- **Desempenho:** Evita a criação de estruturas de dados adicionais apenas para retornar múltiplos valores.

## Quando utilizar?

Utilize funções com múltiplos retornos quando:

- **Precisa retornar um resultado e um erro:** Isso é comum em operações que podem falhar, como leitura de arquivos, operações de rede, etc.
- **Deseja retornar múltiplas informações relacionadas:** Quando o resultado da função é composto de várias partes que fazem sentido serem retornadas juntas.
- **Busca simplicidade e clareza:** Para evitar a necessidade de criar estruturas complexas ou globais para armazenar múltiplos resultados.

## Sintaxe de uso

A sintaxe para definir uma função com múltiplos retornos em Go é direta. Aqui está a estrutura básica:

```go
func nomeDaFuncao() (tipo1, tipo2, ...) {
    // corpo da função
    return valor1, valor2, ...
}
```

### Detalhamento da Sintaxe

- **func:** Palavra-chave usada para definir uma função.
- **nomeDaFuncao:** Nome da função que será chamada para executá-la.
- **(tipo1, tipo2, ...):** Lista de tipos dos valores que a função retorna. Pode haver um ou mais tipos, separados por vírgulas.
- **return valor1, valor2, ...:** Instrução de retorno que especifica os valores a serem retornados, correspondendo aos tipos declarados.

### Exemplo

Aqui está um exemplo de uma função que divide dois números e retorna o resultado e um erro:

```go
func dividir(a, b float64) (float64, error) {
    if b == 0 {
        return 0, errors.New("divisão por zero")
    }
    return a / b, nil
}

func main() {
    resultado, err := dividir(10, 2)
    if err != nil {
        fmt.Println("Erro:", err)
    } else {
        fmt.Println("Resultado:", resultado)
    }
}
```

Neste exemplo:

- A função `dividir` recebe dois parâmetros `a` e `b`, ambos do tipo `float64`.
- A função retorna dois valores: o resultado da divisão (tipo `float64`) e um erro (`error`).
- No `main`, a função `dividir` é chamada com os argumentos `10` e `2`, e os retornos são tratados adequadamente.

## Restrições de uso

- **Correspondência de Tipos:** Os tipos dos valores retornados pela função devem corresponder aos tipos especificados na assinatura da função.
- **Número de Retornos:** A função deve retornar exatamente o número de valores declarados. Se não for necessário retornar um valor, use o valor zero do tipo ou `nil` para tipos de ponteiros, slices, maps, canais, interfaces e funções.
- **Utilização de Valores de Retorno:** Se um valor de retorno não for necessário, pode ser ignorado usando o identificador em branco (`_`).

### Exemplo de Restrição

**Exemplo de erro de tipo de retorno incompatível:**

```go
func calcular() (int, string) {
    return 42, 3.14 // Erro: tipo incompatível, espera-se (int, string)
}
```

**Exemplo de uso do identificador em branco:**

```go
func dividir(a, b float64) (float64, error) {
    if b == 0 {
        return 0, errors.New("divisão por zero")
    }
    return a / b, nil
}

func main() {
    resultado, _ := dividir(10, 0) // Ignora o erro
    fmt.Println("Resultado:", resultado)
}
```

### Uso de Retornos Nomeados

Retornos nomeados podem melhorar a legibilidade do código, especialmente em funções mais longas:

```go
func dividir(a, b float64) (resultado float64, err error) {
    if b == 0 {
        err = errors.New("divisão por zero")
        return
    }
    resultado = a / b
    return
}

func main() {
    resultado, err := dividir(10, 2)
    if err != nil {
        fmt.Println("Erro:", err)
    } else {
        fmt.Println("Resultado:", resultado)
    }
}
```

## Conclusão

Funções com múltiplos retornos são uma característica poderosa de Go, permitindo um tratamento de erro mais explícito e retorno de múltiplas informações de maneira clara e eficiente. Entender como e quando utilizá-las é essencial para escrever programas Go que sejam robustos, eficientes e fáceis de manter. A sintaxe clara e a flexibilidade fornecida por múltiplos retornos ajudam a manter o código simples e direto, seguindo as melhores práticas de programação.