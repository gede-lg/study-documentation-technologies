# 1 - Schemas

A estrutura Schema no contexto do Swagger e OpenAPI em Java é um componente fundamental para a definição de modelos de dados em APIs RESTful. Vamos explorar este conceito detalhadamente, abordando seus usos, como implementá-lo e suas propriedades.

### O que é e para que serve?

O Schema é uma especificação usada para definir a estrutura e o formato dos dados esperados pela API. Essa estrutura é utilizada tanto para validar os dados recebidos como para informar aos usuários da API como os dados devem ser formatados. Em outras palavras, o Schema ajuda a garantir que a API e seus consumidores estejam alinhados quanto ao formato e tipo de dados que são enviados e recebidos.

### Quando Utilizar?

Você deve utilizar a estrutura Schema sempre que precisar definir explicitamente o formato dos dados de entrada e saída em sua API. Isso é crucial para:

- **Documentação automática**: O Swagger UI pode gerar automaticamente uma documentação legível e interativa baseada nos Schemas definidos.
- **Validação de dados**: Garantir que os dados recebidos e enviados estejam conforme o esperado, minimizando erros e inconsistências.

### Definição Completa da Estrutura Schema por Meio de uma Classe de Configuração do Tipo OpenAPI do Swagger

Para definir um Schema através de uma configuração OpenAPI, você pode utilizar a classe `OpenAPI` do Swagger. Aqui está um exemplo básico de como fazer isso:

```java
import io.swagger.v3.oas.models.OpenAPI;import io.swagger.v3.oas.models.media.Schema;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;@Configurationpublic class OpenApiConfig {    @Bean    public OpenAPI customOpenAPI() {        return new OpenAPI()            .schema("Product", new Schema<>()                .type("object")                .addProperties("id", new Schema<>()                    .type("integer")                    .format("int64"))                .addProperties("name", new Schema<>()                    .type("string"))                .addProperties("price", new Schema<>()                    .type("number")                    .format("double")));    }}
```

### Definição Completa da Estrutura Schema por Meio de Anotação Própria do Swagger

Utilizando anotações, você pode definir Schemas diretamente nos modelos ou controladores. Veja um exemplo com a anotação `@Schema`:

```java
import io.swagger.v3.oas.annotations.media.Schema;@Schema(description = "Representa um produto na loja")public class Product {    @Schema(description = "Identificador único do produto", example = "1", required = true)    private Long id;    @Schema(description = "Nome do produto", example = "Cafeteira")    private String name;    @Schema(description = "Preço do produto", example = "79.99")    private Double price;    // Getters e setters...}
```

### Uso de um Schema Já Definido na Anotação `@Schema(ref = )`

Para reutilizar um Schema já definido, você pode referenciá-lo usando `ref`. Isso evita duplicações e facilita a manutenção:

```java
@Schema(ref = "#/components/schemas/Product")private Product product;
```

### Conclusão

A utilização correta das estruturas Schema no Swagger/OpenAPI assegura uma melhor documentação e integração de serviços em APIs, além de promover a clareza e a precisão na comunicação entre sistemas. A adesão

a estas práticas não só melhora a qualidade do desenvolvimento como também facilita o uso e manutenção das APIs desenvolvidas.