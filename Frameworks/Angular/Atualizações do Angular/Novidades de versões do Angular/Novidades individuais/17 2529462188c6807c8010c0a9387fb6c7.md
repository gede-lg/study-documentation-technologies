# 17

bora l√°, Ju! vers√£o **17 (17.0 ‚Üí 17.2)**, com tudo **separado por est√°vel vs. experimental/preview** e focado no que mexe com o seu c√≥digo, build e SSR.

---

# Angular 17.0 ‚Äî 8 nov 2023

## ‚úÖ Est√°vel (pronto pra usar)

- **Hidrata√ß√£o graduou de preview e fica ligada por padr√£o quando h√° SSR**
    
    A partir do 17, apps criados com SSR j√° v√™m com hidrata√ß√£o ativa. Junto disso, surgiu o pacote **`@angular/ssr`** (substitui `@nguniversal/express-engine`) e o **`ng add @angular/ssr`** que configura entrada de servidor, build SSR/SSG e hidrata√ß√£o. No `ng new`, h√° **prompt** para SSR/SSG e tamb√©m d√° para iniciar com `ng new my-app --ssr`. ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b))
    
- **Novo *application builder* (Vite + esbuild) ‚Äî padr√£o em apps novos**
    
    O builder ‚Äúmoderno‚Äù sai do preview do v16 e passa a ser **default** para projetos criados no v17. Ele alimenta `ng serve/ng build`, acelera *cold builds* e melhora o ciclo editar‚Üírecarregar; o guia oficial refor√ßa: **‚Äúem v17 e acima, o novo build system‚Ä¶‚Äù** e que **novas aplica√ß√µes usam o `application` builder por padr√£o**. (O legado `browser`/webpack continua suportado.) ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b?utm_source=chatgpt.com), [angular.dev](https://angular.dev/tools/cli/build-system-migration?utm_source=chatgpt.com))
    

## üß™ Experimental / Developer Preview

- **Controle de fluxo nativo** no template: `@if/@else`, `@switch/@case/@default`, `@for (...; track ...)`
    
    Sintaxe mais pr√≥xima de JS, *type-narrowing* melhor, `@for` exige `track` e √© mais r√°pido que `*ngFor`. **Ainda preview no 17** (estabilizou no 18). ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b))
    
- **Deferrable Views**: `@defer` com *triggers* (`on viewport`, `on idle`, `on timer`, `on hover`, `on interaction`, `when expr`) + `@placeholder/@loading/@error` e **prefetch** declarativo. **Preview no 17** (est√°vel no 18). ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b))

### Notas de implementa√ß√£o (17.0)

- **SSR/hidrata√ß√£o**
    
    ‚Ä¢ Para projetos existentes, rode `ng add @angular/ssr` e ajuste acessos diretos ao DOM (ou use `ngSkipHydration` nos casos extremos). ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b))
    
    ‚Ä¢ Novos *lifecycle hooks* **`afterRender`/`afterNextRender`** (browser-only) ajudam a inicializar libs de DOM ap√≥s render. ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b))
    
- **Builder novo**
    
    ‚Ä¢ Apps novos j√° v√™m com ele; em existentes, voc√™ pode manter webpack ou migrar quando quiser (h√° guia e migra√ß√£o assistida depois). ([angular.dev](https://angular.dev/tools/cli/build-system-migration?utm_source=chatgpt.com))
    
- **`@if/@for/@switch` & `@defer`**
    
    ‚Ä¢ D√° pra habilitar com o *schematic* `ng generate @angular/core:control-flow` e ir migrando aos poucos. (Lembre: no 17 ainda era preview.) ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b))
    

---

# Angular 17.1 ‚Äî jan 2024

## ‚úÖ Est√°vel (GA)

- **TypeScript 5.3 suportado**
    
    Linha 17.1 amplia compatibilidade para TS 5.3. ([Ninja Squad](https://blog.ninja-squad.com/2024/01/17/what-is-new-angular-17.1/?utm_source=chatgpt.com))
    
- **Router ‚Äì `NavigationExtras.info`**
    
    Novo **`info`** para trafegar metadados de navega√ß√£o (n√£o persiste no hist√≥rico/URL), dispon√≠vel tamb√©m em `RouterLink` via `[info]`. Ex.:
    
    ```tsx
    this.router.navigateByUrl('/home', { info: { from: 'dashboard' } });
    
    ```
    
    ```html
    <a [routerLink]="['/home']" [info]="{ from: 'list' }">Home</a>
    
    ```
    
    (Ajuda quando `state`/URL n√£o devem mudar.) ([Ninja Squad](https://blog.ninja-squad.com/2024/01/17/what-is-new-angular-17.1/?utm_source=chatgpt.com), [Angular University](https://blog.angular-university.io/angular-17-1-release/?utm_source=chatgpt.com))
    

## üß™ Experimental / Developer Preview

- **Signal Inputs (`input()` / `input.required()`)**
    
    Entram como alternativa reativa ao `@Input()`: **somente leitura** e acessados como fun√ß√£o (`this.size()`). Foram **introduzidos no 17.1 em developer preview**. ([Angular Blog](https://blog.angular.dev/signal-inputs-available-in-developer-preview-6a7ff1941823?utm_source=chatgpt.com))
    
- **Novo *test runner* baseado em Web Test Runner (experimental)**
    
    Op√ß√£o experimental para rodar testes sem browser ‚Äúreal‚Äù (em paralelo ao Karma/Jasmine). ([Medium](https://medium.com/ng-news/episode-24-03-angular-17-1-41373285f027?utm_source=chatgpt.com), [DEV Community](https://dev.to/danywalls/testing-in-angular-replace-karma-to-web-test-runner-5gag?utm_source=chatgpt.com))
    

### Notas de implementa√ß√£o (17.1)

- **Input signals**
    
    ‚Ä¢ Troque `@Input() foo!: T` por `readonly foo = input<T>()` ou `input.required<T>()`.
    
    ‚Ä¢ **N√£o** mutar `foo()`; se precisar *two-way*, aguarde `model()` (veio no 17.2 em preview) ou exponha `output()`. ([Angular Blog](https://blog.angular.dev/signal-inputs-available-in-developer-preview-6a7ff1941823?utm_source=chatgpt.com))
    

---

# Angular 17.2 ‚Äî fev 2024

## ‚úÖ Est√°vel (GA)

- **Angular DevTools ‚Äî *Hydration debugging***
    
    O DevTools ganhou **painel de diagn√≥sticos de hidrata√ß√£o** para investigar ‚Äúmismatch‚Äù entre DOM do servidor e do cliente. Atualiza automaticamente. ([Angular Blog](https://blog.angular.dev/angular-v17-2-is-now-available-596cbe96242d))
    
- **NgOptimizedImage ‚Äì *placeholders* autom√°ticos + *Netlify loader***
    
    Placeholders borrados via `placeholder` e **loader Netlify** configur√°vel com `provideNetlifyLoader(...)`. ([Angular Blog](https://blog.angular.dev/angular-v17-2-is-now-available-596cbe96242d))
    
- **CLI / Builder**
    
    Qualidade de vida no *application builder*: p√≥s-CSS custom, controle de **prebundle** do Vite, suporte ao gerenciador **Bun**. ([Angular Blog](https://blog.angular.dev/angular-v17-2-is-now-available-596cbe96242d))
    

## üß™ Experimental / Developer Preview

- **Signal Queries**
    
    `viewChild()/viewChildren()/contentChild()/contentChildren()` passam a **retornar *signals*** (e t√™m variante `.required`). Tipagem mais segura e ergonomia melhor que as queries decoradas. ([Angular Blog](https://blog.angular.dev/angular-v17-2-is-now-available-596cbe96242d))
    
- **`model()` ‚Äî *two-way* com signals**
    
    *API* para *two-way binding* sem `EventEmitter`:
    
    ```tsx
    @Component({/*...*/})
    export class Checkbox {
      checked = model(false);
      toggle(){ this.checked.update(v => !v); }
    }
    <!-- uso: <checkbox [(checked)]="flag"></checkbox> -->
    
    ```
    
    (Developer preview no 17.2.) ([Angular Blog](https://blog.angular.dev/angular-v17-2-is-now-available-596cbe96242d))
    
- **Material 3 (M3) ‚Äî experimental**
    
    Primeiro *drop* de suporte M3 no ecossistema Angular Material, ainda **experimental** nessa vers√£o. ([Angular Blog](https://blog.angular.dev/angular-v17-2-is-now-available-596cbe96242d))
    

### Notas de implementa√ß√£o (17.2)

- **Queries como signals**
    
    ```tsx
    divEl = viewChild<ElementRef<HTMLDivElement>>('el'); // Signal<ElRef | undefined>
    divElReq = viewChild.required<ElementRef<HTMLDivElement>>('el'); // nunca undefined
    divEls = viewChildren('el'); // Signal<readonly ElRef[]>
    
    ```
    
    Evita `!`/checks manuais e comp√µe naturalmente com `computed/effect`. ([Angular Blog](https://blog.angular.dev/angular-v17-2-is-now-available-596cbe96242d))
    
- **Imagem otimizada**
    
    Adicione `placeholder` para *blur-up* autom√°tico; se hospedar na Netlify, registre o loader correspondente. ([Angular Blog](https://blog.angular.dev/angular-v17-2-is-now-available-596cbe96242d))
    

---

## De olho nas migra√ß√µes no 17.x

- **Builder novo (Vite+esbuild)**
    
    ‚Ä¢ **Apps novos j√° usam** `application` builder; existentes podem migrar quando fizer sentido (o legado segue suportado). O guia centraliza passos e ressalvas. ([angular.dev](https://angular.dev/tools/cli/build-system-migration?utm_source=chatgpt.com))
    
- **Controle de fluxo e `@defer`**
    
    ‚Ä¢ D√° pra come√ßar no 17 (preview) com o *schematic*; as superf√≠cies **ficaram est√°veis no 18**, ent√£o planeje completar a migra√ß√£o depois. ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b))
    
- **Signals na casca do componente**
    
    ‚Ä¢ 17.1 libera **`input()` (preview)**; 17.2 adiciona **queries em signal** e **`model()` (preview)**; no 18 essas superf√≠cies continuam evoluindo at√© amadurecer (e depois graduam no 19/20). ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe?utm_source=chatgpt.com))
    

---

### TL;DR do 17

- **Est√°vel**: Hidrata√ß√£o ‚Äúon por padr√£o‚Äù com SSR + `@angular/ssr`; **application builder (Vite+esbuild)** padr√£o em apps novos; DevTools com **debug de hidrata√ß√£o**; melhorias de imagem. ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b), [angular.dev](https://angular.dev/tools/cli/build-system-migration?utm_source=chatgpt.com))
- **Preview**: **`@if/@for/@switch`**, **`@defer`** (17.0); **`input()`** (17.1); **signal queries** + **`model()`** + **Material 3 exp.** (17.2). ([Angular Blog](https://blog.angular.dev/introducing-angular-v17-4d7033312e4b))

Se quiser, eu te entrego um **checklist 16‚Üí17** (passo a passo) com: `ng add @angular/ssr`, valida√ß√µes de DOM/hidrata√ß√£o, ativa√ß√£o do builder novo, e um plano seguro pra come√ßar a usar `@if/@for/@defer` sem regress√µes.