# 18

perfeito, Ju! aqui vai a vers√£o **18 (18.0 ‚Üí 18.2)** no mesmo formato ‚Äî separando **Est√°vel** de **Experimental/Preview**, destacando o que **graduou** nesta major e o que muda no dia a dia do dev (APIs, SSR/hidrata√ß√£o, build/CLI, templates, teste).

---

# Angular 18.0 ‚Äî 22 mai 2024

## ‚úÖ Est√°vel (pronto pra usar)

- **Controle de fluxo nativo & Deferrable Views ‚Äî AGORA EST√ÅVEIS**
    
    Os blocos `@if/@switch/@for` e `@defer` saem do preview do v17 e viram API est√°vel (tipagem melhor, guardrails de performance, e `@for` mais r√°pido que `*ngFor`). ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **Material 3 est√°vel**
    
    O pacote Material finaliza a migra√ß√£o para M3 (temas, tokens), acompanhado de documenta√ß√£o e site atualizados. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **SSR/Hidrata√ß√£o ‚Äî polimento geral**
    
    DevTools agora exibe **status de hidrata√ß√£o por componente**; CDK/Material ficam **totalmente compat√≠veis com hidrata√ß√£o** (antes havia opt-out em alguns casos). ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **Coalescing por padr√£o (apps novos)**
    
    Para reduzir ciclos redundantes de CD em apps com `zone.js`, o **event coalescing** vem **ligado por padr√£o** em projetos criados no v18. (Projetos existentes podem ativar via `provideZoneChangeDetection({ eventCoalescing: true })`.) ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **`await` nativo em apps zoneless**
    
    Em projetos zoneless, o CLI **n√£o downlevela** `async/await` para Promises, reduzindo bundle e deixando *stack traces* mais limpos. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **Qualidade de vida**
    
    ‚Ä¢ **Fallback em `<ng-content>`** (conte√∫do padr√£o) ¬∑ **`FormControl.events`** (stream unificada de eventos do controle) ¬∑ **`redirectTo` como fun√ß√£o** no Router ¬∑ **TypeScript 5.4** no toolchain. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **Docs**
    
    **angular.dev** vira o site oficial (redireciona do angular.io). ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    

### Exemplos r√°pidos (18.0)

```tsx
// Zoneless (experimental provider, mas efeitos do scheduler/coalescing s√£o parte do 18)
bootstrapApplication(App, {
  providers: [provideExperimentalZonelessChangeDetection()]
}); // e remova zone.js dos polyfills

```

([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))

```tsx
// Router: redirectTo como fun√ß√£o
const routes: Routes = [
  { path: 'old', redirectTo: ({ queryParams }) =>
      queryParams['id'] ? `/user/${queryParams['id']}` : '/not-found' }
];

```

([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))

```html
<!-- Fallback em ng-content -->
<ng-content select=".greeting">Hello </ng-content>
<ng-content>Unknown user</ng-content>

```

([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))

---

## üß™ Experimental / Developer Preview (18.0)

- **Zoneless Change Detection**
    
    Opt-in via `provideExperimentalZonelessChangeDetection()`. Melhora perf/dx (menos ciclos de CD, *stack* mais limpo). ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **Event Replay (SSR h√≠brido)**
    
    Regrava eventos do usu√°rio capturados antes da hidrata√ß√£o; habilite com `provideClientHydration(withEventReplay())`. (Baseado em ‚Äúevent dispatch‚Äù usado em Google.com.) ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **Hidrata√ß√£o de i18n (preview)**
    
    Suporte para blocos de i18n hidratados, destravando cen√°rios SSR i18n sem re-render. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
- **Signal APIs na ‚Äúcasca‚Äù do componente (continuam em preview)**
    
    `input()`/`output()`/queries baseadas em *signal* e `model()` seguem **developer preview** no ciclo 18 (vieram do 17.1/17.2). ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    

---

# Angular 18.1 ‚Äî jul 2024

## ‚úÖ Est√°vel (GA)

- **Suporte a TypeScript 5.5** (melhor *narrowing*, *inferred type predicates*, etc.). ([Ninja Squad](https://blog.ninja-squad.com/2024/07/10/what-is-new-angular-18.1/?utm_source=chatgpt.com))

## üß™ Experimental / Developer Preview

- **`@let` (declara√ß√£o de vari√°veis no template)**
    
    Nova sintaxe de compilador para declarar/reutilizar vari√°veis locais de forma expressiva nos templates ‚Äî **lan√ßada como developer preview no 18.1**.
    
    Ex.:
    
    ```html
    @let user = user$ | async;
    @if (user) { <h1>Hello, {{ user.name }}</h1> }
    
    ```
    
    (Graduou a **est√°vel no v19**, mas aqui ainda √© preview.) ([Angular Blog](https://blog.angular.dev/introducing-let-in-angular-686f9f383f0f?utm_source=chatgpt.com))
    
- **Outros polimentos menores do builder/CLI e APIs de render**
    
    Incrementos em `afterRender/afterNextRender` e diagn√≥sticos (por exemplo, *warning* para fun√ß√£o n√£o chamada em binding), reportados nos *roundups* da comunidade. ([angularaddicts.com](https://www.angularaddicts.com/p/angular-addicts-28-ssr-testing-signals?utm_source=chatgpt.com))
    

---

# Angular 18.2 ‚Äî ago 2024

## ‚úÖ Est√°vel (GA)

- **`isolatedModules` (TypeScript) suportado oficialmente**
    
    Habilitar `compilerOptions.isolatedModules: true` pode render **at√© ~10%** de ganho em tempo de *production build*, segundo o time. ([Angular Blog](https://blog.angular.dev/using-isolatedmodules-in-angular-18-2-68a7d3a6c03d?utm_source=chatgpt.com))
    
- **Testes: `fakeAsync` faz `flush()` autom√°tico**
    
    Evita falsos positivos/erros por *timers* pendentes ao final do teste. (Zone.js ‚â• 0.15). ([Ninja Squad](https://blog.ninja-squad.com/2024/08/14/what-is-new-angular-18.2/?utm_source=chatgpt.com))
    

## üß™ Experimental / Developer Preview

- (Sem grandes superf√≠cies novas al√©m do que j√° estava em preview; foco foi performance/qualidade, router/testes e build.)

---

## Impacto pr√°tico (18.x ‚Üí como aplicar)

1. **Templates modernos por padr√£o**
    
    Use **`@if/@for/@switch`** e **`@defer`** sem receio (est√°veis). Migre gradualmente de `*ngIf/*ngFor/*ngSwitch` ‚Äî v20 j√° iniciou o plano de deprecar as diretivas antigas. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
2. **SSR que n√£o pisca**
    
    Ative a **hidrata√ß√£o** (se ainda n√£o usa) e, se fizer sentido, **Event Replay (preview)** para UX durante a janela n√£o interativa; monitore no **DevTools** com o painel de hidrata√ß√£o. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
3. **Zoneless ‚Äî comece pelos pilotos**
    
    Em apps com `OnPush` bem aplicado, experimente **zoneless** em √°reas isoladas. Aproveite **coalescing** e `await` nativo; me√ßa LCP/INP. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
    
4. **DX e perf no build**
    
    Considere **`isolatedModules`** (18.2) e revise *update guide* para migrar 100% para o **application builder** (Vite+esbuild). ([Angular Blog](https://blog.angular.dev/using-isolatedmodules-in-angular-18-2-68a7d3a6c03d?utm_source=chatgpt.com))
    

---

## TL;DR do v18

- **Est√°veis no 18.0**: controle de fluxo e `@defer`; Material 3; DevTools de hidrata√ß√£o; coalescing por padr√£o; `await` nativo em zoneless; `ng-content` fallback; `FormControl.events`; `redirectTo` como fun√ß√£o; **TS 5.4**. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
- **Preview no 18.0**: **zoneless**, **event replay**, **i18n hydration**, **signal inputs/outputs/queries e `model()`**. ([Angular Blog](https://blog.angular.dev/angular-v18-is-now-available-e79d5ac0affe))
- **18.1**: **TS 5.5** (est√°vel) e **`@let`** (preview). ([Ninja Squad](https://blog.ninja-squad.com/2024/07/10/what-is-new-angular-18.1/?utm_source=chatgpt.com), [Angular Blog](https://blog.angular.dev/introducing-let-in-angular-686f9f383f0f?utm_source=chatgpt.com))
- **18.2**: **`isolatedModules`** (est√°vel) e **`fakeAsync` com `flush` autom√°tico** (est√°vel). ([Angular Blog](https://blog.angular.dev/using-isolatedmodules-in-angular-18-2-68a7d3a6c03d?utm_source=chatgpt.com), [Ninja Squad](https://blog.ninja-squad.com/2024/08/14/what-is-new-angular-18.2/?utm_source=chatgpt.com))

Se quiser, eu monto um **checklist 17‚Üí18** (por √°reas: templates/SSR/build/tests) com passos de migra√ß√£o, *flags* e exemplos ‚Äúantes/depois‚Äù.