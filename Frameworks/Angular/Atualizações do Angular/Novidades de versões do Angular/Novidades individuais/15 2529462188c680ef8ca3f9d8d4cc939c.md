# 15

perfeito, Ju ‚Äî aqui vai o mesmo formato, agora **focado na vers√£o 15 (15.0 ‚Üí 15.2)**, e **separando claramente o que √© Est√°vel** do que saiu **Experimental/Preview**. Tamb√©m marco o que **graduou a est√°vel no 15** (vindo do 14).

---

# Angular 15 (lan√ßado em 16/nov/2022)

## ‚úÖ Est√°vel (15.0)

### Standalone **(graduou a est√°vel no 15)**

- **Standalone components/directives/pipes** saem do *developer preview* (v14) e entram na **superf√≠cie est√°vel**. Funciona em toda a stack (Router, HttpClient, Elements etc.).
    
    *Ex.* `bootstrapApplication(AppComponent)` sem `NgModule`. ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))
    

### Router ‚Äútree-shakable‚Äù + DX

- **APIs standalone do Router** via `provideRouter(...)` (registrado no `bootstrapApplication`), removendo recursos n√£o usados do bundle. Ganhou tamb√©m **unwrap de default export** em *lazy* para escrever `loadComponent: () => import('./lazy-file')`. ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))
- **Guards/resolvers funcionais** (tipos `CanActivateFn`, `ResolveFn`, etc.) ‚Äî caminho recomendado junto ao `inject()`; os equivalentes em classe foram **deprecados depois, no 15.2** (ver abaixo). ([Ninja Squad](https://blog.ninja-squad.com/2022/11/16/what-is-new-angular-15.0/?utm_source=chatgpt.com))

### HttpClient moderno

- **`provideHttpClient(...)`** para registrar o cliente sem `NgModule`, e **interceptores funcionais** (`HttpInterceptorFn`) com **`withInterceptors([...])`** e outras *features* (`withXsrfConfiguration`, `withJsonpSupport` etc.). Facilita escopar interceptores por *EnvironmentInjector* (lazy) e reduz boilerplate. ([Ninja Squad](https://blog.ninja-squad.com/2022/11/16/what-is-new-angular-15.0/?utm_source=chatgpt.com), [angular.dev](https://angular.dev/guide/http/interceptors?utm_source=chatgpt.com), [herodevs.com](https://www.herodevs.com/blog-posts/angular-15-introduces-functional-http-interceptors?utm_source=chatgpt.com), [ANGULARarchitects](https://www.angulararchitects.io/en/blog/the-refurbished-httpclient-in-angular-15-standalone-apis-and-functional-interceptors/?utm_source=chatgpt.com))

### Directive Composition API

- **`hostDirectives`** permite ‚Äúcompor‚Äù diretivas no **host** de um componente/diretiva, reexpondo **inputs/outputs** selecionados ‚Äî s√≥ funciona com **standalone**.
    
    *Ex.* `hostDirectives: [HasColor, { directive: CdkMenu, inputs: ['cdkMenuDisabled: disabled'], outputs: ['cdkMenuClosed: closed'] }]`. ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))
    

### `NgOptimizedImage` (imagem) **(graduou a est√°vel no 15)**

- A diretiva lan√ßada em *preview* no 14.2 fica **est√°vel**: troque `src` por `ngSrc`, ganha **`srcset` autom√°tico** e melhorias de LCP; **modo `fill`** chegou **experimental** (ver abaixo). ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))

### Angular Material v15 (MDC)

- **Componentes Material reescritos sobre MDC** ‚Äî melhor acessibilidade (contraste, *touch targets*, ARIA), novos *tokens* de densidade; ‚Äúimplementa√ß√µes antigas‚Äù ficam como **legacy** (ex.: `MatLegacyButtonModule`). *Aten√ß√£o:* DOM/CSS mudaram; pode exigir ajustes de estilo. ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))

### Depura√ß√£o (DX)

- **Stack traces mais limpos no Chrome DevTools** (anota√ß√£o de *source maps* + *async stack tagging* em Zone.js) ‚Äî rastreia desde o clique do usu√°rio at√© o erro no seu c√≥digo. ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))

### CLI/compat (15.0)

- **CLI 15** passa a exigir **Node ‚â• 14.20** (suporte oficial ao Node 18) e **TS ‚â• 4.8.2**; *imports* SCSS com `~` deprecados. ([Ninja Squad](https://blog.ninja-squad.com/2022/11/16/angular-cli-15.0/?utm_source=chatgpt.com))
- **Alvo TS do CLI agora √© ES2022** (e `useDefineForClassFields=false`) ‚Äî controle de recursos ECMAScript via **Browserslist**; ES5 n√£o √© mais gerado. ([gitclear.com](https://www.gitclear.com/open_repos/angular/angular-cli/release/15.0.0-next.2?utm_source=chatgpt.com), [fossies.org](https://fossies.org/linux/angular-cli/CHANGELOG.md?utm_source=chatgpt.com))

### *Breaking* not√°vel de compila√ß√£o

- **Prefixo nos nomes de `@keyframes`** gerados pelo compilador (escopo do componente), caso voc√™ referencie nomes de *keyframes* via c√≥digo. ([gitclear.com](https://www.gitclear.com/open_repos/angular/angular/release/15.0.0?utm_source=chatgpt.com))

---

## üß™ Experimental / Preview (15.0)

- **`NgOptimizedImage` ‚Äì `fill` mode** (preenche o cont√™iner, sem `width/height` fixos) ficou **experimental** ao chegar no 15.0. ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))

---

## Incrementos 15.1 (jan/2023)

### ‚úÖ Est√°vel

- **Self-closing tags** em componentes/diretivas (`<my-comp />`). Ajuda a reduzir ru√≠do de marca√ß√£o. ([Angular Training](https://blog.angulartraining.com/whats-new-in-angular-15-1-fbd1cb5abcab?utm_source=chatgpt.com))
- **CLI 15.1**: *schematics* para **`ng generate environments`** e **`ng generate config`** (gera `karma.conf.js`, `.browserslistrc`, etc., que ficaram ocultos por padr√£o no 15). ([Ninja Squad](https://blog.ninja-squad.com/2023/01/11/angular-cli-15.1/?utm_source=chatgpt.com))

*(Outros polimentos e fixes; sem superf√≠cies novas grandes.)*

---

## Incrementos 15.2 (fev/2023)

### ‚úÖ Est√°vel

- **Schematic de migra√ß√£o autom√°tica para Standalone**
    
    Converte projetos baseados em NgModule para Standalone (inclusive trocando `AppModule` por `bootstrapApplication` quando aplic√°vel). ([v17.angular.io](https://v17.angular.io/guide/standalone-migration?utm_source=chatgpt.com), [herodevs.com](https://www.herodevs.com/blog-posts/angulars-improved-tooling-standalone-migration-magic?utm_source=chatgpt.com))
    
- **`NgClass` reescrito** com melhor performance (menos *change detection*/manipula√ß√£o de DOM). ([Ninja Squad](https://blog.ninja-squad.com/2023/02/23/what-is-new-angular-15.2/?utm_source=chatgpt.com))

### üîÅ Depreca√ß√µes relevantes

- **Guards/Resolvers em classe** **deprecados** em favor das **vers√µes funcionais**; d√° para *wrappar* classes com `inject(...)` como *stopgap*. ([Ninja Squad](https://blog.ninja-squad.com/2023/02/23/what-is-new-angular-15.2/?utm_source=chatgpt.com), [Stack Overflow](https://stackoverflow.com/questions/75564717/angulars-canactivate-interface-is-deprecated-how-to-replace-it?utm_source=chatgpt.com))

---

## Exemplos r√°pidos (15.x)

### Router standalone + default export

```tsx
// routes.ts
export const routes: Routes = [
  { path: 'lazy', loadComponent: () => import('./lazy.component') } // unwrapping do default export
];

// main.ts
bootstrapApplication(AppComponent, { providers: [provideRouter(routes)] });

```

([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))

### HttpClient com interceptores funcionais

```tsx
export const authInterceptor: HttpInterceptorFn = (req, next) => {
  const token = inject(TokenService).get();
  return next(req.clone({ setHeaders: { Authorization: `Bearer ${token}` } }));
};

bootstrapApplication(AppComponent, {
  providers: [provideHttpClient(withInterceptors([authInterceptor]))]
});

```

([angular.dev](https://angular.dev/guide/http/interceptors?utm_source=chatgpt.com), [herodevs.com](https://www.herodevs.com/blog-posts/angular-15-introduces-functional-http-interceptors?utm_source=chatgpt.com))

### Directive Composition API

```tsx
@Component({
  selector: 'menu-pro',
  standalone: true,
  hostDirectives: [
    HasColor,
    { directive: CdkMenu, inputs: ['cdkMenuDisabled: disabled'], outputs: ['cdkMenuClosed: closed'] }
  ],
  template: `...`
})
export class MenuPro {}

```

([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))

### `NgOptimizedImage`

```html
<img ngSrc="/assets/hero.jpg" width="1200" height="800" priority>
<!-- (15.0) modo 'fill' estava experimental -->

```

([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8), [angular.dev](https://angular.dev/api/common/NgOptimizedImage?utm_source=chatgpt.com))

---

## ‚ÄúO que graduou a est√°vel no 15‚Äù (resumo)

- **Standalone** (componentes/diretivas/pipes), **Router/HttpClient standalone** e **Directive Composition API** ‚Üí **est√°veis**. ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))
- **`NgOptimizedImage`** ‚Üí **est√°vel** (com `fill` ainda **experimental**). ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8))
- **Depura√ß√£o/CLI**: *stack traces* melhores, alvo **ES2022** no CLI, ajustes de compatibilidade. ([Angular Blog](https://blog.angular.dev/angular-v15-is-now-available-df7be7f2f4c8), [gitclear.com](https://www.gitclear.com/open_repos/angular/angular-cli/release/15.0.0-next.2?utm_source=chatgpt.com))

Se quiser, sigo para a **v16** no mesmo formato (est√°vel vs preview, e o que ‚Äúsubiu de n√≠vel‚Äù a partir do 15).