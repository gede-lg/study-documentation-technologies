# Introdução

## Introdução

O **Event Binding** em Angular conecta eventos do DOM ou de componentes-filho à lógica da sua aplicação. Sempre que o usuário interage com a interface — clicando num botão, digitando texto ou disparando um evento customizado — o Event Binding faz com que um método definido no componente seja executado, atualizando o estado da aplicação de forma reativa.

- **Importância**: Essencial para construir UIs interativas; sem ele, componentes seriam estáticos e não responderiam às ações do usuário.
- **Conceitos Fundamentais**:
    - **Event Binding**: Associação direta de eventos HTML (`click`, `keyup`, etc.) a métodos do componente.
    - **Eventos Customizados**: Criados pelo componente-filho com `@Output()` e `EventEmitter`, permitindo comunicação de baixo para cima (child → parent).

---

## Sumário

1. Introdução
2. Sumário
3. Conteúdo Detalhado
    - Sintaxe e Estrutura
    - Eventos Customizados
    - HostListener
    - Restrições de Uso
4. Exemplos de Código Otimizados
5. Informações Adicionais
6. Referências para Estudo Independente

---

## Conteúdo Detalhado

### Sintaxe e Estrutura

- **Template HTML**
    
    ```html
    <!-- Dispara método onClick ao clicar -->
    <button (click)="onClick()">Clique aqui</button>
    
    <!-- Captura objeto de evento -->
    <input (keyup)="onKeyup($event)" placeholder="Digite algo">
    
    ```
    
- **Componente (TypeScript)**
    
    ```tsx
    import { Component } from '@angular/core';
    
    @Component({
      selector: 'app-exemplo',
      templateUrl: './exemplo.component.html'
    })
    export class ExemploComponent {
      onClick(): void {
        console.log('Botão clicado');
      }
    
      onKeyup(event: KeyboardEvent): void {
        console.log('Tecla:', event.key);
      }
    }
    
    ```
    

### Eventos Customizados

- **Definição no filho**
    
    ```tsx
    import { Component, Output, EventEmitter } from '@angular/core';
    
    @Component({ /* ... */ })
    export class FilhoComponent {
      @Output() atualizado = new EventEmitter<string>();
    
      emitirEvento() {
        this.atualizado.emit('Dados atualizados');
      }
    }
    
    ```
    
- **Captura no pai**
    
    ```html
    <app-filho (atualizado)="receberAtualizacao($event)"></app-filho>
    
    ```
    
    ```tsx
    receberAtualizacao(mensagem: string) {
      console.log(mensagem);
    }
    
    ```
    

### HostListener

Para escutar eventos no próprio host (ou globalmente):

```tsx
import { Component, HostListener } from '@angular/core';

@Component({ /* ... */ })
export class EventoHostComponent {
  @HostListener('window:resize', ['$event'])
  onResize(event: Event) {
    console.log('Janela redimensionada', event);
  }
}

```

### Restrições de Uso

- **Manter a lógica no componente**: Evite expressões complexas no template.
- **Tipagem do `$event`**: Declare tipos (e.g. `MouseEvent`, `KeyboardEvent`) para aproveitar o IntelliSense.
- **Desempenho**: Para eventos de alta frequência (scroll, mousemove), prefira RxJS (`fromEvent`) com `throttleTime` ou `debounceTime`.

---

## Exemplos de Código Otimizados

1. **Clique Simples**
    
    ```html
    <button (click)="adicionar()">Adicionar</button>
    
    ```
    
    ```tsx
    adicionar(): void {
      this.lista.push('Novo item');
    }
    
    ```
    
2. **Entrada de Texto com Template Reference**
    
    ```html
    <input #entrada (input)="atualizar(entrada.value)" placeholder="Texto">
    
    ```
    
    ```tsx
    atualizar(valor: string): void {
      this.textoAtual = valor;
    }
    
    ```
    
3. **Componente-Filho Avançado**
    
    ```html
    <!-- Pai -->
    <app-slider (valorMudou)="ajustarVolume($event)"></app-slider>
    
    ```
    
    ```tsx
    // Filho
    @Output() valorMudou = new EventEmitter<number>();
    setValor(novo: number) {
      this.valor = novo;
      this.valorMudou.emit(this.valor);
    }
    
    ```
    
4. **Scroll com RxJS**
    
    ```tsx
    import { fromEvent } from 'rxjs';
    import { throttleTime } from 'rxjs/operators';
    
    ngAfterViewInit() {
      fromEvent(window, 'scroll')
        .pipe(throttleTime(100))
        .subscribe(() => this.onScroll());
    }
    
    ```
    

---

## Informações Adicionais

- **Prevenção e Propagação**: Use `event.preventDefault()` ou `event.stopPropagation()` no método do componente.
- **Limpeza de Subscrições**: Sempre desinscreva em `ngOnDestroy` para evitar vazamentos de memória.
- **Testes Unitários**: Simule eventos com `DebugElement.triggerEventHandler()` nos specs.

---

## Referências para Estudo Independente

- **Angular Docs – Event Binding**
    
    [https://angular.io/guide/event-binding](https://angular.io/guide/event-binding)
    
- **Angular Tutorial: Tour of Heroes**
    
    [https://angular.io/tutorial](https://angular.io/tutorial)
    
- **Livro “Angular in Action”** – Manning
- **RxJS Guide**
    
    [https://rxjs.dev/guide/overview](https://rxjs.dev/guide/overview)