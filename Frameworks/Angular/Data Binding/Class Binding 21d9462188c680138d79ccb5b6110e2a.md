# Class Binding

## 1. Introdução

**Visão Geral**

Em Angular, *Class Binding* é uma forma de ligar (bind) dinamicamente classes CSS a elementos do template, permitindo alterar estilos de acordo com estado ou lógica do componente. Isso mantém o template limpo e separa responsabilidades: o componente controla a lógica e o template apenas reflete as classes necessárias.

**Relevância**

- Facilita a criação de UIs reativas e responsivas a eventos ou mudanças de dados.
- Evita manipulação direta do DOM, promovendo melhores práticas de manutenção e testabilidade.
- Integrado ao mecanismo de *change detection* do Angular, garantindo atualização eficiente.

**Definições e Conceitos Fundamentais**

- **Class Binding (Vinculação de Classe):** associa a presença ou ausência de uma classe CSS a uma propriedade ou expressão booleana/objetos do componente.
- **Subtemas:**
    - `[class]` — atribuição direta do atributo `class`.
    - `[class.nomedaClasse]` — atalho para adicionar/remover uma única classe condicionalmente.
    - `[ngClass]` — diretiva que permite múltiplas classes via objeto, array ou string.

---

## 2. Sumário

1. [Sintaxe e Estrutura](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#sintaxe-e-estrutura)
2. [Componentes Principais e Associados](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#componentes-principais-e-associados)
3. [Restrições de Uso](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#restricoes-de-uso)
4. [Exemplos de Código Otimizados](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#exemplos-de-codigo-otimizados)
    1. Uso Básico com `[class.nomedaClasse]`
    2. Uso de `ngClass` com Objeto
    3. Uso de `ngClass` com Array
    4. Avançado: HostBinding e Renderer2
5. [Informações Adicionais](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#informacoes-adicionais)
6. [Referências para Estudo Independente](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#referencias-para-estudo-independente)

---

## 3. Conteúdo Detalhado

### Sintaxe e Estrutura

- **`[class]`**
    
    Atribui uma string à lista de classes do elemento:
    
    ```html
    <div [class]="minhaClasse"></div>
    
    ```
    
    Onde `minhaClasse: string = 'alerta destaque';` no componente define uma ou várias classes.
    
- **`[class.nomedaClasse]`**
    
    Adiciona ou remove uma classe específica com base em expressão booleana:
    
    ```html
    <button [class.active]="isActive">Clique</button>
    
    ```
    
    Aqui, `active` será aplicada se `isActive: boolean` for `true`.
    
- **`[ngClass]`**
    
    Diretiva flexível para múltiplas classes:
    
    ```html
    <div [ngClass]="{
      'alerta': temErro,
      'sucesso': !temErro,
      'destaque': highlight
    }"></div>
    
    ```
    
    Aceita três formatos:
    
    1. **Objeto** `{ [className: string]: boolean }`
    2. **Array** `string[]` (lista de classes)
    3. **String** espaço-separada

### Componentes Principais e Associados

- **Propriedades do Componente**
    
    Variáveis `boolean`, `string`, `string[]` ou objetos que determinam quais classes serão aplicadas.
    
- **Directives**
    - **`NgClass`** — gerencia múltiplas classes conforme explicado.
    - **HostBinding** — para vincular classes diretamente no host de um componente:
        
        ```
        @Component({...})
        export class MeuComponente {
          @HostBinding('class.selecionado') isSelected = false;
        }
        
        ```
        
- **Renderer2 (Opcional Avançado)**
    
    Serviço Angular para manipular classes no DOM de forma segura:
    
    ```
    constructor(private renderer: Renderer2, private el: ElementRef) {}
    
    toggleHighlight() {
      if (this.highlight) {
        this.renderer.addClass(this.el.nativeElement, 'destaque');
      } else {
        this.renderer.removeClass(this.el.nativeElement, 'destaque');
      }
    }
    
    ```
    

### Restrições de Uso

- **Nomes de classes estáticos**: com `[class.nomedaClasse]`, o Angular só reconhece nomes literais; não funciona com expressões que avaliam o nome da classe.
- **Sanitização**: valores em `[class]` e `ngClass` são sanitizados para evitar injeção de código.
- **Desempenho**: para alternar poucas classes, prefira `[class.nomedaClasse]` em vez de `ngClass` por menor sobrecarga.

---

## 4. Exemplos de Código Otimizados

### 4.1 Uso Básico com `[class.nomedaClasse]`

```html
<!-- template -->
<button
  [class.btn-primary]="isPrimary"
  [class.disabled]="isDisabled"
  (click)="clicar()">
  Botão Dinâmico
</button>

```

```
// componente.ts
export class BotaoComponent {
  isPrimary = true;
  isDisabled = false;

  clicar() {
    this.isPrimary = !this.isPrimary;
  }
}

```

### 4.2 Uso de `ngClass` com Objeto

```html
<div [ngClass]="{ 'erro': hasError, 'alerta': isWarning }">
  Mensagem de Status
</div>

```

```
export class StatusComponent {
  hasError = false;
  isWarning = true;
}

```

### 4.3 Uso de `ngClass` com Array

```html
<div [ngClass]="classesAtuais">
  Conteúdo Estilizado
</div>

```

```
export class EstiloComponent {
  classesAtuais = ['bordas', 'sombreamento'];

  alternar() {
    this.classesAtuais = this.classesAtuais.includes('bordas')
      ? ['sombreamento']
      : ['bordas', 'sombreamento'];
  }
}

```

### 4.4 Avançado: HostBinding e Renderer2

```
@Component({
  selector: 'app-card',
  template: `<ng-content></ng-content>`
})
export class CardComponent {
  @HostBinding('class.card--ativo') isActive = false;

  constructor(private renderer: Renderer2, private el: ElementRef) {}

  ativar() {
    this.isActive = true;
    // ou via Renderer2:
    this.renderer.addClass(this.el.nativeElement, 'foco');
  }
}

```

---

## 5. Informações Adicionais

- **Combinação com Style Binding:** class binding foca em classes CSS; style binding (`[style.prop]`) altera estilos inline.
- **Animações Angular:** classes adicionadas/removidas podem disparar transições e animações definidas em `@Component({ animations: [...] })`.
- **Testabilidade:** em testes de unidade, é fácil verificar se um elemento contém ou não uma classe com `fixture.nativeElement.querySelector`.

---

## 6. Referências para Estudo Independente

- Documentação oficial Angular – Class and Style Bindings
    
    [https://angular.io/guide/class-binding](https://angular.io/guide/class-binding)
    
- Documentação oficial Angular – NgClass
    
    [https://angular.io/api/common/NgClass](https://angular.io/api/common/NgClass)
    
- Artigo “Angular ngClass vs class binding” (Maximilian Schwarzmüller)
    
    [https://academind.com/learn/angular/angular-ngclass-vs-class-binding](https://academind.com/learn/angular/angular-ngclass-vs-class-binding)
    
- Curso “Angular – The Complete Guide” (Udemy)
    
    [https://www.udemy.com/course/the-complete-guide-to-angular-2/](https://www.udemy.com/course/the-complete-guide-to-angular-2/)
    

---

*Com esta estrutura, você tem desde a definição teórica até exemplos práticos e avançados, garantindo aplicação eficaz do Class Binding em projetos Angular.*