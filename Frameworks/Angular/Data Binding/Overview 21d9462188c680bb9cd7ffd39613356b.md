# Overview

## 1. Introdução

- **Visão geral concisa:**
    
    Data Binding em Angular é o mecanismo que conecta dados entre o *component* (classe TypeScript) e a *view* (template HTML). Ele permite que alterações no modelo sejam refletidas na interface e que eventos da interface sejam capturados pelo modelo.
    
- **Relevância e importância:**
    - Promove desacoplamento: separa lógica de apresentação (HTML/CSS) da lógica de negócio (TypeScript).
    - Aumenta produtividade: sintaxes declarativas reduzem código imperativo para sincronização de UI.
    - Suporta manutenção: facilita testes e refatoração ao centralizar a lógica em *components*.
- **Definição e Conceitos Fundamentais:**
    - **Tema Principal:** Data Binding — fluxo de dados entre modelo e view.
    - **Subtemas:**
        - *One-Way Binding* (unidirecional): dados fluem do componente para a view ou da view para o componente.
        - *Two-Way Binding* (bidirecional): sincronização automática em ambos os sentidos.
    - **Para que servem:** manter UI e estado de forma consistente, síncrona e reativa.

---

## 2. Sumário

1. Conceitos de Data Binding
2. Tipos de Data Binding
3. Sintaxe e Estrutura
4. Componentes Principais e Interações
5. Restrições de Uso
6. Exemplos de Código Otimizados
7. Informações Adicionais
8. Referências para Estudo Independente

---

## 3. Conteúdo Detalhado

---

### 3.1 Sintaxe e Estrutura

- **Interpolation (`{{ }}`):**
    
    Utilizado dentro do texto ou de atributos que aceitam string.
    
    ```html
    <h1>Olá, {{ usuario.nome }}!</h1>
    
    ```
    
- **Property Binding (`[propriedade]="expressão"`):**
    
    Atribui valor de uma expressão TS a uma propriedade de DOM ou componente filho.
    
    ```html
    <img [src]="fotoUrl" [alt]="'Foto de ' + usuario.nome">
    
    ```
    
- **Event Binding (`(evento)="método($event)"`):**
    
    Associa eventos de DOM a métodos do *component*.
    
    ```html
    <button (click)="enviarFormulario()">Enviar</button>
    
    ```
    
- **Two-Way Binding (`[(ngModel)]="campo"`):**
    
    Sincroniza valor e captura evento de input; requer o FormsModule.
    
    ```html
    <input [(ngModel)]="usuario.email" placeholder="Email">
    
    ```
    
- **Attribute, Class e Style Bindings:**
    - **Attribute Binding:** `[attr.aria-label]="label"`
    - **Class Binding:** `[class.active]="isActive"`
    - **Style Binding:** `[style.width.px]="tamanho"`
- **Input Properties (`@Input()`):**
    
    Permitem que dados sejam passados de um componente pai para um componente filho.
    
    ```
    @Input() titulo: string;
    
    ```
    
    ```html
    <meu-card [titulo]="'Olá Mundo!'"></meu-card>
    
    ```
    
- **Output Properties (`@Output()`):**
    
    Emitem eventos de um componente filho para o pai via `EventEmitter`.
    
    ```
    @Output() selecionado = new EventEmitter<number>();
    
    ```
    
    ```html
    <meu-card (selecionado)="onSelecionar($event)"></meu-card>
    
    ```
    
- **Acesso ao DOM e Template com `@ViewChild()` / `@ViewChildren()`:**
    
    Injetam referências a elementos ou componentes filhos para manipulação direta no TS.
    
    ```
    @ViewChild('inputBusca') buscaEl: ElementRef<HTMLInputElement>;
    ngAfterViewInit() {
      this.buscaEl.nativeElement.focus();
    }
    
    ```
    
    ```html
    <input #inputBusca type="text">
    
    ```
    

---

### 3.2 Componentes Principais e Interações

- **Templates HTML:** contêm as sintaxes de binding.
- **Component Class:** define propriedades e métodos acessíveis ao template.
- **Change Detection:** Angular verifica (por padrão) alterações em cada *cycle* e atualiza a view.
- **NgModel (FormsModule):** provê Two-Way Binding e validação de formulários.

**Fluxo de interação:**

1. Inicialização do *component*: valores padrão em TS.
2. Renderização do template: Angular avalia bindings unidirecionais.
3. Usuário interage: (click), input, etc.
4. Métodos do *component* são executados, atualizando propriedades.
5. Change Detection atualiza a view com novos valores.

---

### 3.3 Restrições de Uso

- **Interpolation só para texto/string:** não suporta lógica complexa (use métodos ou pipes).
- **Property Binding não avalia expressões perigosas:** evita injeção de scripts.
- **Two-Way Binding exige FormsModule:** habilite em `@NgModule.imports`.
- **Evite lógica pesada no template:** prefira getters simples; muita lógica causa overhead no Change Detection.
- **OnPush Change Detection:** use em *components* performance-sensitive para checar apenas quando inputs mudam.

---

## 4. Exemplos de Código Otimizados

```html
<!-- app.component.html -->
<section>
  <!-- Interpolation -->
  <h2>Bem-vindo, {{ usuario.nome.toUpperCase() }}</h2>

  <!-- Property Binding -->
  <img
    [src]="usuario.avatarUrl"
    [alt]="'Avatar de ' + usuario.nome"
    loading="lazy"
  >

  <!-- Event Binding -->
  <button
    (click)="logout()"
    [disabled]="isProcessing"
  >
    Sair
  </button>

  <!-- Two-Way Binding -->
  <input
    [(ngModel)]="usuario.email"
    type="email"
    placeholder="Digite seu email"
    required
  >

  <!-- Class & Style Binding -->
  <p
    [class.error]="!usuario.emailValid"
    [style.color]="usuario.emailValid ? 'green' : 'red'"
  >
    {{ usuario.emailValid ? 'Email válido' : 'Email inválido' }}
  </p>
</section>

```

```
// app.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html'
})
export class AppComponent {
  usuario = {
    nome: 'Ana',
    avatarUrl: 'https://.../ana.png',
    email: '',
    get emailValid() {
      // validação simples
      return /^\S+@\S+\.\S+$/.test(this.email);
    }
  };
  isProcessing = false;

  logout(): void {
    this.isProcessing = true;
    // simula chamada a API
    setTimeout(() => {
      console.log('Usuário saiu');
      this.isProcessing = false;
    }, 1000);
  }
}

```

---

## 5. Informações Adicionais

- **Performance:** em listas grandes, use `trackBy` em `ngFor` para otimizar atualizações.
- **Pipes:** transforme dados no template sem poluir a classe.
- **Safe Navigation (`?.`):** previne erros de *undefined* em objetos aninhados: `{{ pedido?.cliente?.nome }}`.
- **Custom Binding Directives:** crie suas próprias diretivas para casos especiais de binding.

---

## 6. Referências para Estudo Independente

- [Data Binding Overview – Angular](https://angular.io/guide/binding-overview)
- [Template Syntax – Angular](https://angular.io/guide/template-syntax)
- *Angular in Action*, de Jeremy Wilken (Manning)
- Artigo: “Understanding Angular Change Detection” – Netanel Basal
- Curso: “Angular - The Complete Guide” (Udemy)