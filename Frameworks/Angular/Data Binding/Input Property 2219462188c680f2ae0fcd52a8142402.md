# Input Property

## 1. Introdução

A propriedade de entrada (`@Input`) é o principal mecanismo de **comunicação unidirecional** entre componentes em Angular. Ela permite que um **componente pai** forneça dados a um **componente filho**, promovendo o **reuso**, a **separação de responsabilidades** e a **testabilidade** no desenvolvimento de aplicações.

**Definição e Conceitos Fundamentais**

- **Tema Principal**: a propriedade de entrada (`@Input`) do Angular, isto é, o recurso que habilita o fluxo de dados do componente pai ao filho.
- **Subtemas**: aspectos específicos relacionados ao `@Input`, como sintaxe, alias (renomeação), detecção de mudanças e boas práticas. Cada subtema aprofunda um detalhe de como receber e reagir a dados vindos do componente pai.

---

## 2. Sumário

1. [Introdução](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#1-introdu%C3%A7%C3%A3o)
2. [Sumário](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#2-sum%C3%A1rio)
3. [Conteúdo Detalhado](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#3-conte%C3%BAdo-detalhado)
    1. [Sintaxe e Estrutura](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#31-sintaxe-e-estrutura)
    2. [Componentes Principais e Associados](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#32-componentes-principais-e-associados)
    3. [Restrições de Uso](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#33-restri%C3%A7%C3%B5es-de-uso)
4. [Exemplos de Código Otimizados](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#4-exemplos-de-c%C3%B3digo-otimizados)
5. [Informações Adicionais](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#5-informa%C3%A7%C3%B5es-adicionais)
6. [Referências para Estudo Independente](https://chatgpt.com/g/g-p-67fc74e4e4b0819191996b70ff86754a-angular/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#6-refer%C3%AAncias-para-estudo-independente)

---

## 3. Conteúdo Detalhado

### 3.1 Sintaxe e Estrutura

```
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-filho',
  template: `<p>Recebi: {{ dado }}</p>`
})
export class FilhoComponent {
  // Recebe do componente pai
  @Input() dado!: string;
}

```

No template do **componente pai**:

```html
<app-filho [dado]="textoDoPai"></app-filho>

```

- `@Input()` marca a propriedade que poderá receber valor de fora.
- `[dado]` indica *property binding*, ligando `textoDoPai` à propriedade `dado`.

### Alias de Propriedade

Para renomear a propriedade externa:

```
@Input('rotulo') conteudo!: string;

```

No template:

```html
<app-filho [rotulo]="textoDoPai"></app-filho>

```

---

### 3.2 Componentes Principais e Associados

- **@Input**
    - Decorator que transforma uma propriedade pública do componente em ponto de entrada de dados.
- **Property Binding**
    - Sintaxe `[propriedadeDoFilho]="expressãoDoPai"` no template do componente pai.
- **Detecção de Mudanças**
    - Quando o valor passado muda, o Angular atualiza automaticamente o binding; para capturar alterações com mais controle, use:
        
        ```
        ngOnChanges(changes: SimpleChanges) {
          if (changes['dado']) {
            // Lógica ao mudar 'dado'
          }
        }
        
        ```
        
- **Fluxo Unidirecional**
    - Dados fluem só do pai para o filho. Para comunicar o filho de volta, deve-se usar `@Output` e `EventEmitter`.

---

### 3.3 Restrições de Uso

- **Somente Recepção**: `@Input` não envia dados de volta.
- **Propriedades Públicas**: só funciona em campos públicos do componente filho.
- **Evitar Two-Way Binding**: use `@Output` + `EventEmitter` para alterações no filho.
- **Valores Imutáveis**: para otimizar detecção de mudanças (especialmente em `OnPush`), prefira objetos imutáveis ou novos arrays/objetos ao atualizar.

---

## 4. Exemplos de Código Otimizados

### 4.1 Uso Básico

```
// pai.component.ts
@Component({
  selector: 'app-pai',
  template: `
    <input [(ngModel)]="mensagem" placeholder="Digite algo">
    <app-filho [dado]="mensagem"></app-filho>
  `
})
export class PaiComponent {
  mensagem = 'Olá, mundo!';
}

```

### 4.2 Com Alias e Setter

```
@Component({ selector: 'app-filho', template: `<p>{{ valorInterno }}</p>` })
export class FilhoComponent {
  private _valor!: number;

  @Input('numero')
  set numero(n: number) {
    this._valor = n * 2;         // Exemplo de lógica personalizada
  }
  get numero(): number {
    return this._valor;
  }
}

```

```html
<!-- pai.component.html -->
<app-filho [numero]="contador"></app-filho>

```

### 4.3 Detectando Mudanças com OnPush

```
@Component({
  selector: 'app-filho',
  changeDetection: ChangeDetectionStrategy.OnPush,
  template: `<p>{{ dados | json }}</p>`
})
export class FilhoComponent {
  @Input() dados!: { id: number; nome: string };
}

```

> Dica: ao usar OnPush, atualize dados criando um novo objeto:
> 

```
this.dados = { ...this.dados, nome: 'Novo Nome' };

```

---

## 5. Informações Adicionais

- **Integração com @Output**: combine `@Input` para receber dados e `@Output` para emitir eventos, promovendo comunicação bidirecional de forma explícita e controlada.
- **Validação e Tipagem**: aproveite o TypeScript para garantir que o pai envie apenas tipos esperados.
- **Testing**: em testes de unidade, injete valores no componente filho setando diretamente a propriedade marcada com `@Input`.

---

## 6. Referências para Estudo Independente

- **Documentação Oficial do Angular**
    - Component Interaction: [https://angular.io/guide/component-interaction](https://angular.io/guide/component-interaction)
    - API `@Input`: [https://angular.io/api/core/Input](https://angular.io/api/core/Input)
- **Artigos e Tutoriais**
    - “Angular @Input and @Output Tutorial” (site Scotch.io)
    - “Understanding Property Binding in Angular” (site Alligator.io)
- **Livros**
    - *ng-book: The Complete Guide to Angular*
    - *Angular in Action* (Manning Publications)