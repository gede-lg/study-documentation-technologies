# component

## Parte I: Visão Geral

### Título

**Gerando Componentes Profissionais com `ng generate component` no Angular CLI**

### Introdução

O Angular CLI oferece um conjunto de comandos que aceleram a criação e manutenção de estruturas de projetos Angular. Dentre eles, `ng generate component` (ou seu atalho `ng g c`) é a forma recomendada de gerar novos componentes, que são os blocos de construção básicos de uma aplicação Angular. Esse comando cria automaticamente todos os arquivos necessários — classe TypeScript, template HTML, stylesheet e testes — seguindo as convenções oficiais do framework ([angular.dev](https://angular.dev/cli/generate/component)).

### Sumário

1. Conceitos Fundamentais
2. Sintaxe e Uso
3. Restrições de Uso
4. Argumentos
5. Opções
6. Melhores Práticas e Casos de Uso
7. Exemplos Completos
8. Tópicos Adicionais Sugeridos
9. Tópicos Relacionados para Aprofundamento

---

## Parte II: Fundamentos e Sintaxe

### 1. Conceitos Fundamentais

- **Componentes**: São unidades isoladas que combinam lógica (classe TS), visual (template HTML) e estilo (CSS/SCSS/etc.).
- **Schematic**: Conjunto de instruções que o CLI executa para gerar código padronizado.
- **NgModule**: Container onde os componentes são declarados para serem reconhecidos pela aplicação.
- **Standalone Components**: A partir do Angular 14+, componentes que não precisam ser declarados em um módulo tradicional ([angular.dev](https://angular.dev/cli/generate/component)).

### 2. Sintaxe e Uso

```bash
# Sintaxe genérica
ng generate component <nome-componente> [opções]

# Atalho
ng g c <nome-componente> [opções]

```

- **Exemplo Básico**:
    
    ```bash
    ng g c produto-lista
    
    ```
    
    Cria, dentro de `src/app/produto-lista/`:
    
    - `produto-lista.component.ts`
    - `produto-lista.component.html`
    - `produto-lista.component.css`
    - `produto-lista.component.spec.ts` ([angular.dev](https://angular.dev/cli/generate/component)).
- **Com flags**:
    
    ```bash
    ng g c cliente-detalhe \
      --inline-style \
      --skip-tests \
      --selector=app-cliente-detalhe
    
    ```
    

### 3. Restrições de Uso

- **Não ideal** para gerar código em projetos não-Angular.
- Evite criar componentes muito granulares que dificultem a manutenção.
- **Não use** se você quer apenas alterar um componente existente — nesse caso, edite manualmente.
- Para criar pipelines de build customizados, use **schematics** avançados em vez do comando padrão.

---

## Parte III: Argumentos e Opções

### 4. Argumentos

| Argumento | Tipo | Obrigatório | Descrição |
| --- | --- | --- | --- |
| `name` | string | Sim | Nome do componente. Gera arquivos `name.component.ts/html/css` ([angular.dev](https://angular.dev/cli/generate/component)). |

### 5. Opções

| Opção | Alias | Tipo | Padrão | Descrição |
| --- | --- | --- | --- | --- |
| `--change-detection` | `-c` | `Default` | `OnPush` | `Default` | Estratégia de detecção de mudança do componente. |
| `--display-block` | `-b` | boolean | `false` | Adiciona `:host { display: block; }` ao estilo para renderizar como bloco. |
| `--export` |  | boolean | `false` | Exporta o componente no NgModule especificado. |
| `--export-default` |  | boolean | `false` | Usa `export default` em vez de export nomeado no arquivo TS. |
| `--flat` |  | boolean | `false` | Gera arquivos diretamente em `src/app` (sem criar subpasta). |
| `--inline-style` | `-s` | boolean | `false` | Insere estilos dentro da classe TS em vez de arquivo `.css`. |
| `--inline-template` | `-t` | boolean | `false` | Insere template HTML dentro da classe TS em vez de arquivo `.html`. |
| `--module` | `-m` | string | — | Define o NgModule onde o componente será declarado. Caso omitido, busca o mais próximo no caminho. |
| `--ng-html` |  | boolean | `false` | Gera template com extensão `.ng.html` em vez de `.html`. |
| `--prefix` | `-p` | string | — | Prefixo para o seletor (ex.: `app`). Se omitido, usa o prefixo do projeto. |
| `--project` |  | string | — | Nome do projeto Angular (monorepo) onde o componente será criado. |
| `--selector` |  | string | — | Seletor HTML do componente (ex.: `app-meu-componente`). |
| `--skip-import` |  | boolean | `false` | Não importa automaticamente o componente no NgModule mais próximo. |
| `--skip-selector` |  | boolean | `false` | Não gera seletor HTML no decorator. |
| `--skip-tests` |  | boolean | `false` | Não gera arquivo de teste `*.spec.ts`. |
| `--standalone` |  | boolean | `true` | Gera componente standalone (não precisa de NgModule). |
| `--style` |  | `css` | `scss` | `sass` | `less` | `none` | `css` | Define tipo de stylesheet; use `none` para omitir arquivo de estilo. |
| `--type` |  | string | — | Sufixo customizado para o nome do arquivo (ex.: `.container.ts`). |
| `--view-encapsulation` | `-v` | `Emulated` | `None` | `ShadowDom` | — | Define modo de encapsulamento de estilo. |

> Todos os atributos acima baseados na especificação oficial do Angular CLI (angular.dev).
> 

---

## Parte IV: Boas Práticas e Casos de Uso

- **Nomeclatura**:
    - Use `kebab-case` (ex.: `minha-tabela`).
    - Evite nomes genéricos como `componente1`.
- **Modularização**:
    - Agrupe componentes relacionados em subpastas de feature.
    - Utilize `-module=<feature>` para declarar automaticamente no módulo correto.
- **Performance**:
    - Prefira `-change-detection=OnPush` em componentes imutáveis ou pure pipes.
    - Adote `-standalone` para reduzir dependências de módulos.
- **Testes**:
    - Mantenha `-skip-tests=false` em componentes críticos; remova apenas em protótipos rápidos.
- **Estilos e Templates**:
    - Use `-inline-style` e `-inline-template` em componentes pequenos (ex.: ícones, wrappers).
    - Prefira arquivos separados para componentes maiores, garantindo legibilidade.

---

## Parte V: Exemplos Completos

### Exemplo de Fluxo de Criação em Contexto de Módulo

1. **Estrutura Inicial**
    
    ```
    src/
    └── app/
        ├── produto/
        │   └── produto.module.ts
        └── app.module.ts
    
    ```
    
2. **Comando**
    
    ```bash
    ng generate component produto/lista \
      --module=produto \
      --style=scss \
      --change-detection=OnPush \
      --standalone=false
    
    ```
    
3. **Arquivos Gerados**
    
    ```
    src/app/produto/lista/
    ├── lista.component.ts
    ├── lista.component.html
    ├── lista.component.scss
    └── lista.component.spec.ts
    
    ```
    
4. **Trecho de `lista.component.ts`**
    
    ```tsx
    import { Component, ChangeDetectionStrategy } from '@angular/core';
    
    @Component({
      selector: 'app-lista',
      templateUrl: './lista.component.html',
      styleUrls: ['./lista.component.scss'],
      changeDetection: ChangeDetectionStrategy.OnPush
    })
    export class ListaComponent {
      // Lógica de exibição de lista de produtos
    }
    
    ```
    

---

## Parte VI: Tópicos Adicionais Sugeridos

- Custom Schematics para estruturas de projetos próprias.
- Uso avançado de builders e pipelines de CI/CD no Angular CLI.
- Integração com ferramentas de lint e formatação automática.
- Geração de componentes com testes e mocks de dependências.

---

## Parte VII: Tópicos Relacionados para Aprofundamento

- **ng generate module**: criação e carregamento de módulos com rota.
- **ng generate directive**: como estender comportamentos de elementos.
- **ng generate service**: injeção de dependência e serviços.
- **Custom Schematics**: criar comandos personalizados no CLI.
- **Estratégias de Lazy Loading**: carregamento sob demanda de módulos e componentes.

---

> Com este guia, você tem em mãos um panorama completo e detalhado de tudo o que envolve o comando ng generate component no Angular CLI, desde os conceitos mais básicos até as melhores práticas e cenários avançados.
>