# application

**Gerador de Aplicações em Workspaces Angular com Angular CLI: `ng generate application`**

---

## Parte 1: Introdução e Conceitos Fundamentais

### Introdução

O comando `ng generate application` (ou `ng g app`) faz parte do Angular CLI e permite criar uma nova aplicação dentro de um workspace existente. Ele utiliza *schematics* para gerar toda a estrutura inicial: módulo raiz, componente `AppComponent`, arquivos de configuração e ajustes no `angular.json`. É especialmente útil em cenários de *monorepo*, quando você precisa manter múltiplas aplicações dentro de um mesmo repositório ([angular.dev](https://angular.dev/cli/generate/application)).

### Sumário

1. [Conceitos Fundamentais](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#conceitos-fundamentais)
2. [Sintaxe e Uso](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#sintaxe-e-uso)
3. [Argumentos](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#argumentos)
4. [Opções](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#op%C3%A7%C3%B5es)
    - 4.1 Opções Globais do CLI
    - 4.2 Opções Específicas de `generate application`
5. [Restrições de Uso](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#restri%C3%A7%C3%B5es-de-uso)
6. [Melhores Práticas e Casos de Uso](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#melhores-pr%C3%A1ticas-e-casos-de-uso)
7. [Exemplos Completos](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#exemplos-completos)
8. [Tópicos Adicionais](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#t%C3%B3picos-adicionais)
9. [Tópicos Relacionados para Aprofundamento](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#t%C3%B3picos-relacionados-para-aprofundamento)

### Conceitos Fundamentais

- **Angular CLI & Schematics:** O Angular CLI é uma ferramenta oficial que automatiza tarefas comuns, como criação de componentes, módulos e aplicações, por meio de *schematics* — scripts que geram ou modificam arquivos de acordo com um padrão pré-definido ([angular.dev](https://angular.dev/cli/generate)).
- **Workspace vs Projeto Único:** Por padrão, `ng new` cria um workspace com uma única aplicação. Porém, definindo `-create-application=false`, o workspace inicial fica vazio, pronto para receber múltiplas aplicações via `ng generate application` ([stackoverflow.com](https://stackoverflow.com/questions/67424439/how-to-use-create-application-false-with-ng-new-command?utm_source=chatgpt.com)).
- **Monorepo:** Em equipes grandes ou bibliotecas compartilhadas, manter várias aplicações (ex.: *admin*, *site*, *mobile*) dentro de um mesmo workspace facilita a gestão de dependências, builds e integrações.

---

## Parte 2: Sintaxe e Uso

```bash
ng generate application <name> [options]
# ou de forma abreviada
ng g app <name> [options]

```

- **`ng`**: Chamador do Angular CLI.
- **`generate` / `g`**: Subcomando que executa um *schematic*.
- **`application` / `app`**: O *schematic* que gera uma aplicação Angular.
- **`<name>`**: Nome da nova aplicação (usado em diretórios e identificadores).
- **`[options]`**: Conjunto de flags para personalizar o scaffolding. ([angular.dev](https://angular.dev/cli/generate/application))

---

## Argumentos

| Argumento | Tipo | Descrição |
| --- | --- | --- |
| `name` | string | Nome da aplicação. Serve de base para pastas (`projects/name`) e identificadores no CLI. ([angular.dev](https://angular.dev/cli/generate/application)) |

---

## Opções

### 4.1 Opções Globais do CLI

Estas opções estão disponíveis em **todos** os comandos do Angular CLI:

| Opção | Alias | Tipo | Padrão | Descrição |
| --- | --- | --- | --- | --- |
| `--defaults` |  | boolean | false | Desabilita prompts interativos para opções com valor padrão. |
| `--dry-run` | `-d` | boolean | false | Simula a execução, exibindo resultados sem gravar arquivos. |
| `--force` |  | boolean | false | Força sobrescrita de arquivos existentes. |
| `--help` |  | boolean |  | Exibe mensagem de ajuda para o comando. |
| `--interactive` |  | boolean | true | Habilita/desabilita prompts interativos. |

### 4.2 Opções Específicas de `generate application`

| Opção | Alias | Tipo | Padrão | Descrição |
| --- | --- | --- | --- | --- |
| `--inline-style` | `-s` | boolean | false | Insere estilos CSS diretamente em `app.component.ts` em vez de arquivo separado. |
| `--inline-template` | `-t` | boolean | false | Insere template HTML em `app.component.ts` em vez de arquivo separado. |
| `--minimal` |  | boolean | false | Gera projeto mínimo sem frameworks de teste (para experimentação). |
| `--prefix` | `-p` | string | `app` | Prefixo para seletores de componentes (ex.: `<app-my-component>`). |
| `--project-root` |  | string | — | Diretório relativo ao root do workspace onde ficará a aplicação. |
| `--routing` |  | boolean | true | Gera módulo de roteamento (`app-routing.module.ts`). |
| `--skip-install` |  | boolean | false | Não executa `npm install` automaticamente após a geração. |
| `--skip-package-json` |  | boolean | false | Não adiciona dependências ao `package.json`. |
| `--skip-tests` | `-S` | boolean | false | Não gera arquivos de teste (`*.spec.ts`). |
| `--ssr` |  | boolean | false | Configura SSR/SSG (Angular Universal & Prerender). |
| `--standalone` |  | boolean | true | Gera uma aplicação usando API Standalone (sem NgModules). |
| `--strict` |  | boolean | true | Habilita configurações de *strict mode* (checagem de tipos & orçamentos). |
| `--style` |  | `cssscsssassless` | `css` | Define pré-processador de estilos. |
| `--view-encapsulation` |  | `EmulatedNoneShadowDom` | `Emulated` | Define modo de escopo de estilos dos componentes. |
| `--zoneless` |  | boolean | false | Gera aplicação sem dependência de `zone.js`. |

---

## Restrições de Uso

1. **Somente em Workspaces Existentes:** Se executado fora de um workspace Angular, o comando falhará.
2. **Projeto Único vs Monorepo:** Para um projeto único, recomenda-se `ng new`. Já em *monorepos*, use `-create-application=false` no `ng new` e depois `ng generate application` para cada app ([stackoverflow.com](https://stackoverflow.com/questions/67424439/how-to-use-create-application-false-with-ng-new-command?utm_source=chatgpt.com)).
3. **Não Substitui `ng new`:** O `ng generate application` não instala dependências iniciais nem configura git por padrão (veja `-skip-install`).

---

## Melhores Práticas e Casos de Uso

- **Prefixos Consistentes:** Defina um prefixo único por aplicação para evitar colisões de seletores.
- **Estilos Centralizados:** Utilize `-style=scss` para padronizar pré-processadores em toda a equipe.
- **Roteamento Modular:** Habilite `-routing` apenas quando a aplicação realmente exigir navegação baseada em módulos.
- **Strict Mode:** Mantenha `-strict` ativo para capturar erros de tipos cedo e otimizar bundle budgets.
- **Standalone vs NgModules:** Avalie usar `-standalone` em aplicações novas para reduzir boilerplate e migrar progressivamente.

---

## Exemplos Completos

### Cenário: Monorepo com Duas Aplicações

```bash
# 1. Cria workspace vazio
ng new portal-workspace --create-application=false

cd portal-workspace

# 2. Gera aplicação "admin" com SCSS e roteamento
ng g app admin \
  --routing \
  --style=scss \
  --prefix=admin \
  --strict

# 3. Gera aplicação "site" minimal e inline
ng g app site \
  --minimal \
  --inline-style \
  --inline-template \
  --prefix=site

# 4. Instala dependências
npm install

# 5. Serve aplicação "admin"
ng serve admin

```

### Exemplo de `angular.json` (trecho)

```json
{
  "projects": {
    "admin": {
      "projectType": "application",
      "root": "projects/admin",
      "sourceRoot": "projects/admin/src",
      "architect": { /* build, serve, test etc. */ }
    },
    "site": {
      "projectType": "application",
      "root": "projects/site",
      "sourceRoot": "projects/site/src",
      "architect": { /* build, serve, test etc. */ }
    }
  }
}

```

---

## Tópicos Adicionais

- Personalização de schematics com `ng config schematics`.
- Uso de coleções alternativas via `-collection`.
- Integração com bibliotecas e addons (e.g. Angular Material).

---

## Tópicos Relacionados para Aprofundamento

- **Angular Schematics Avançado:** Criar seus próprios geradores.
- **Monorepo & Nx:** Ferramentas para gerenciar múltiplos projetos.
- **Angular Universal & SSR:** Prerendering e Server-Side Rendering.
- **Standalone Components vs NgModules:** Estratégias de migração.
- **Strict Mode & Bundle Budgets:** Otimização e performance.
- **Integração Contínua (CI/CD):** Build e deploy automatizados.

---

Essa explicação completa cobre desde os conceitos fundamentais até exemplos práticos de uso em uma arquitetura de *monorepo*. Sinta-se à vontade para explorar os tópicos relacionados conforme a necessidade do seu projeto!