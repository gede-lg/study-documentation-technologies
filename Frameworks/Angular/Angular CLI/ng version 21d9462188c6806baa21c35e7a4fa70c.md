# ng version

## Exploração a Fundo do Comando `ng version` do Angular CLI

---

### Introdução

O Angular CLI é publicado como o pacote `@angular/cli` e disponibiliza o binário `ng` para executar tarefas de scaffolding, build, testing e manutenção de aplicações Angular diretamente no terminal ([v17.angular.io](https://v17.angular.io/cli/update?utm_source=chatgpt.com)).

O comando `ng version` (ou seu alias `ng v`) exibe a visão geral das versões do Angular CLI, Node.js, sistema operacional e, quando executado dentro de um workspace, as versões dos pacotes Angular instalados localmente ([angular.dev](https://angular.dev/cli/version?utm_source=chatgpt.com)).

---

### Sumário

1. **Conceitos Fundamentais**
2. **Sintaxe e Aliases**
3. **Argumentos**
4. **Opções**
5. **Restrições de Uso**
6. **Melhores Práticas e Casos de Uso**
7. **Exemplos Completos**
8. **Tópicos Adicionais de Interesse**
9. **Tópicos Relacionados para Aprofundamento**

---

## 1. Conceitos Fundamentais

- **Objetivo**: Fornecer um diagnóstico rápido do ambiente de desenvolvimento, garantindo que as versões do CLI e dos pacotes Angular estejam alinhadas.
- **Global vs. Local**:
    - Executar **fora** de um diretório de projeto retorna a versão global instalada do Angular CLI.
    - Executar **dentro** de um projeto com dependência `@angular/cli` instalada retorna, além da versão global, a **versão local** e as versões dos **pacotes Angular** do projeto ([stackoverflow.com](https://stackoverflow.com/questions/41026895/checking-version-of-angular-cli-thats-installed?utm_source=chatgpt.com)).
- **Importância**:
    - Facilita a investigação de **mismatches** entre versão CLI e dependências.
    - Auxilia pipelines de CI/CD a validar o ambiente antes de builds ou testes.

---

## 2. Sintaxe e Aliases

```bash
ng version [options]
ng v       [options]

```

- **Comando**: `version` (alias `v`) — checa e exibe informações de versão do Angular CLI ([angular.dev](https://angular.dev/cli?utm_source=chatgpt.com)).
- **Forma curta**: `ng v`.

---

## 3. Argumentos

O comando **não** possui argumentos posicionais; sua execução baseia-se apenas nas opções passadas.

> Observação: Em algumas documentações aparece o termo check como subcomando, mas isto refere-se apenas à descrição/alias interno e não é utilizado diretamente no terminal (angular.dev).
> 

---

## 4. Opções

| Opção | Tipo | Padrão | Descrição |
| --- | --- | --- | --- |
| `--help` | boolean | false | Exibe mensagem de ajuda específica para este comando. |

> Outras opções (como --verbose ou --json) não são suportadas por este comando (angular.dev).
> 

---

## 5. Restrições de Uso

- **Não serve** para listar versões de pacotes além daqueles gerenciados pelo Angular (use `npm list` ou inspecione o `package.json`).
- **Não gera** saída em formato JSON; difícil de integrar em scripts sem parsing textual.
- **Não substitui** o comando `ng update`, que além de mostrar versões sugere e executa atualizações.
- **Não recomendável** em ambientes de produção para coleta de métricas frequentes (use analytics ou métrica customizada).

---

## 6. Melhores Práticas e Casos de Uso

1. **Diagnóstico Rápido**: Antes de abrir issues, valide versões de CLI, Node e pacotes Angular.
2. **CI/CD**: Inclua como etapa para falhar pipelines em caso de versões inesperadas.
3. **Compatibilidade**: Confirme se a versão do CLI é compatível com o projeto (compare global vs local).
4. **Documentação**: Capture a saída para documentação de setup em README.
5. **Automação**: Em scripts de build, use parsing simples (`grep`, `awk`) para extrair versão do CLI.

---

## 7. Exemplos Completos

### 7.1. Verificando Versões Local e Global

```bash
# No diretório do projeto
cd meu-projeto-angular
ng version

```

**Saída esperada (exemplo):**

```
Angular CLI: 20.0.3
Node: 18.15.0
OS: linux x64

Angular:
  @angular-devkit/architect    20.0.3 (cli-only)
  @angular-devkit/core         20.0.3 (cli-only)
  @angular/cli                 20.0.3
  @schematics/angular          20.0.3
  @schematics/update           20.0.3

Package                         Version
---------------------------------------------------
@angular/animations             20.0.3
@angular/common                 20.0.3
@angular/compiler               20.0.3
...
rxjs                            7.8.0
typescript                      5.2.2

```

### 7.2. Solicitando Ajuda

```bash
ng version --help

```

**Saída:**

```
ng version [options]

Options:
  --help  Show help                                          [boolean]

```

### 7.3. Fora de um Projeto (Somente CLI Global)

```bash
cd ~
ng v

```

**Saída:**

```
Angular CLI: 20.0.3
Node: 18.15.0
OS: linux x64

```

---

## 8. Tópicos Adicionais de Interesse

- Estratégias de **parsing** da saída de `ng version` para automação.
- Scripts de **validação de ambiente** antes de builds.
- Integração com ferramentas de **monitoramento de versões** (Dependabot, Renovate).

---

## 9. Tópicos Relacionados para Aprofundamento

- **`ng update`** — como atualizar CLI e core automaticamente.
- **Gerenciamento de versões em `package.json`** — método alternativo via `npm list` e inspeção manual.
- **Política de versões do Angular** — ciclo de vida, LTS e compatibilidade entre versões maiores.
- **Angular CLI Analytics** — coleta de métricas de uso e versão em projetos reais.

Espero que esta exploração detalhada ajude a compreender e aproveitar ao máximo o comando `ng version` no seu fluxo de trabalho Angular!