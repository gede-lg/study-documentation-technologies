# ng serve

**Guia Completo do ng serve: Servindo e Desenvolvendo Aplicações Angular via Angular CLI**

## Introdução

O comando `ng serve` do Angular CLI é a forma recomendada de iniciar o servidor de desenvolvimento local para aplicações Angular. Ele compila sua aplicação em memória, pula otimizações desnecessárias e disponibiliza um servidor que reconstrói e recarrega automaticamente a aplicação sempre que detecta alterações nos arquivos. ([angular.dev](https://angular.dev/tools/cli/serve), [angular.dev](https://angular.dev/cli?utm_source=chatgpt.com))

## Sumário

1. [Conceitos Fundamentais](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#conceitos-fundamentais)
2. [Sintaxe e Uso](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#sintaxe-e-uso)
3. [Restrições de Uso](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#restricoes-de-uso)
4. [Argumentos](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#argumentos)
5. [Opções](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#opcoes)
6. [Melhores Práticas e Casos de Uso](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#melhores-praticas-e-casos-de-uso)
7. [Exemplos Completos](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#exemplos-completos)
8. [Tópicos Relacionados](https://chatgpt.com/c/685bd1e4-9d88-8013-9f64-1ff6bede9ffc#topicos-relacionados)

---

## Conceitos Fundamentais

O `ng serve` executa o builder `@angular-devkit/build-angular:dev-server` definido no arquivo `angular.json`, responsável por:

- **Compilação em memória:** Transpila TypeScript e processa templates, sem gerar artefatos em disco.
- **Servidor de desenvolvimento:** Inicia um servidor HTTP na porta padrão (4200), com **live reload** ativado, recarregando a página ao detectar mudanças no código.
- **Otimizações mínimas:** Para agilizar o ciclo de desenvolvimento, o comando **pula otimizações** de produção, como minificação e árvore de agitação. ([angular.dev](https://angular.dev/tools/cli/serve), [geeksforgeeks.org](https://www.geeksforgeeks.org/angular-js/angular-ng-serve/?utm_source=chatgpt.com))

---

## Sintaxe e Uso

**Uso básico:**

```bash
ng serve [<project>] [options]

```

- `<project>` (opcional): Nome do projeto ou aplicação a ser servido, conforme definido em `angular.json`. Se omitido, usa-se o projeto *default*.
- `options`: Conjunto de flags e parâmetros que personalizam o comportamento do servidor.

O comando também possui os aliases:

- `ng s`
- `ng dev` ([angular.dev](https://angular.dev/cli?utm_source=chatgpt.com), [tutorialspoint.com](https://www.tutorialspoint.com/angular_cli/angular_cli_ng_serve.htm?utm_source=chatgpt.com))

---

## Restrições de Uso

- **Apenas para desenvolvimento:** Não gera *build* otimizado para produção. Para ambientes de produção, utilize `ng build --configuration production` seguido de um servidor estático (ex.: Nginx) para servir os arquivos resultantes.
- **Compilação em memória:** Como não grava arquivos em disco, não é adequado para testes de performance de I/O ou integração com pipelines que dependam de artefatos físicos. ([angular.dev](https://angular.dev/tools/cli/serve), [geeksforgeeks.org](https://www.geeksforgeeks.org/angular-js/angular-ng-serve/?utm_source=chatgpt.com))

---

## Argumentos

| Argumento | Descrição |
| --- | --- |
| `<project>` | Nome do projeto/aplicação a ser servido. Quando omitido, utiliza o projeto padrão definido em `angular.json`. ([tutorialspoint.com](https://www.tutorialspoint.com/angular_cli/angular_cli_ng_serve.htm?utm_source=chatgpt.com), [angular.dev](https://angular.dev/tools/cli/serve)) |

---

## Opções

| Opção | Alias | Tipo | Padrão | Descrição |
| --- | --- | --- | --- | --- |
| `--allowed-hosts` | — | array | — | Hosts que o servidor de desenvolvimento irá aceitar. |
| `--configuration` | `-c` | string | — | Nome da configuração definida em `angular.json` (ex.: `production`, `development`). |
| `--headers` | — | array | — | Cabeçalhos HTTP personalizados para todas as respostas (array de strings ou JSON). |
| `--help` | — | boolean | `false` | Exibe a ajuda do comando. |
| `--hmr` | — | boolean | segue `live-reload` | Habilita Hot Module Replacement (HMR). |
| `--host` | — | string | `localhost` | Host/IP em que o servidor escutará. |
| `--inspect` | — | string | — | Ativa o inspector de depuração (útil em SSR/SSG). |
| `--live-reload` | — | boolean | `true` | Ativa/desativa recarregamento automático da página. |
| `--open` | `-o` | boolean | `false` | Abre automaticamente a URL no navegador padrão. |
| `--poll` | — | number | — | Intervalo de polling em ms para detecção de mudanças em FS que não suportam eventos nativos. |
| `--port` | — | number | `4200` | Porta TCP para o servidor. |
| `--prebundle` | — | boolean | `true` | Habilita pré-bundling via Vite para acelerar o carregamento inicial. |
| `--proxy-config` | — | string | — | Caminho para arquivo de configuração de proxy (ex.: `src/proxy.conf.json`). |
| `--serve-path` | — | string | — | Pathbase onde a aplicação será servida (ex.: `/app`). |
| `--ssl` | — | boolean | `false` | Habilita HTTPS no servidor de desenvolvimento. |
| `--ssl-key` | — | string | — | Caminho para chave privada SSL. |
| `--ssl-cert` | — | string | — | Caminho para certificado SSL. |
| `--verbose` | — | boolean | `false` | Gera logs mais detalhados sobre o processo de compilação e do servidor de desenvolvimento. ([stackoverflow.com](https://stackoverflow.com/questions/41056964/how-do-i-show-logs-in-the-console-using-angular-cli?utm_source=chatgpt.com), [docs.angular.lat](https://docs.angular.lat/cli/serve?utm_source=chatgpt.com)) |
| `--watch` | — | boolean | `true` | Observa mudanças nos arquivos e reconstrói automaticamente a aplicação (equivalente ao comportamento padrão de live-reload). ([docs.angular.lat](https://docs.angular.lat/cli/serve?utm_source=chatgpt.com)) |

---

## Melhores Práticas e Casos de Uso

- **Ambientes e configurações:** Utilize `-configuration` para alternar entre configurações de desenvolvimento, testes e produção, definidas em `angular.json`. ([stackoverflow.com](https://stackoverflow.com/questions/50174584/how-to-set-environment-via-ng-serve-in-angular-6?utm_source=chatgpt.com))
- **HMR e produtividade:** Ative HMR (`-hmr`) para aplicar alterações de módulos sem recarregar toda a página, acelerando o fluxo de desenvolvimento. ([angular.dev](https://angular.dev/cli/serve?utm_source=chatgpt.com))
- **Proxy de APIs:** Configure `-proxy-config` para evitar problemas de CORS redirecionando chamadas a endpoints externos durante o desenvolvimento. ([angular.dev](https://angular.dev/tools/cli/serve))
- **SSL local:** Use `-ssl`, `-ssl-key` e `-ssl-cert` para testes de APIs HTTPS localmente com certificados self-signed. ([stackoverflow.com](https://stackoverflow.com/questions/39210467/get-angular-cli-to-ng-serve-over-https?utm_source=chatgpt.com))

---

## Exemplos Completos

### Exemplo de `angular.json`

```
{
  "projects": {
    "my-app": {
      "architect": {
        "serve": {
          "builder": "@angular-devkit/build-angular:dev-server",
          "options": {
            "browserTarget": "my-app:build"
          },
          "configurations": {
            "production": {
              "browserTarget": "my-app:build:production"
            },
            "development": {
              "browserTarget": "my-app:build:development",
              "hmr": true,
              "open": true
            }
          }
        }
      }
    }
  }
}

```

*Este trecho mostra como configurar diferentes targets para `ng serve` no `angular.json`.* ([angular.dev](https://angular.dev/tools/cli/serve))

### Comando completo

```bash
ng serve my-app \
  --configuration development \
  --open \
  --port 4300 \
  --proxy-config src/proxy.conf.json \
  --live-reload \
  --hmr \
  --ssl \
  --ssl-cert "cert/localhost.crt" \
  --ssl-key "cert/localhost.key"

```

Este comando serve o projeto `my-app` em modo de desenvolvimento, abre o navegador, utiliza HMR, configura proxy e HTTPS com certificados locais definidos. ([tutorialspoint.com](https://www.tutorialspoint.com/angular_cli/angular_cli_ng_serve.htm?utm_source=chatgpt.com))

---

## Tópicos Relacionados

- **`ng build`**: Gerar *build* otimizado para produção.
- **`ng test`**: Executar testes unitários.
- **`ng generate`**: Criar componentes, serviços e outros artefatos via Schematics.
- **Configurações de ambiente** (`environment.ts`).
- **Server-side Rendering (SSR)** com `@nguniversal/express-engine`.
- **Integração com Vite** e modernização do pipeline de build.
- **Estratégias avançadas de HMR** e *live reload*.

---