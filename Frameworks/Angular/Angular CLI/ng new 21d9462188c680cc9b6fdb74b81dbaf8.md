# ng new

## Título

**Desbravando `ng new`: Scaffold e Inicialização de Novos Workspaces Angular**

---

## Introdução

O comando `ng new` do Angular CLI é a porta de entrada oficial para criar novos projetos Angular. Ao executá-lo, você gera toda a estrutura de diretórios, arquivos de configuração e dependências iniciais de um workspace e de sua aplicação padrão, permitindo que comece a desenvolver imediatamente sem configurações manuais adicionais ([angular.dev](https://angular.dev/cli/new)).

---

## Sumário

1. [Conceitos Fundamentais](ng%20new%2021d9462188c680cc9b6fdb74b81dbaf8.md)
2. [Sintaxe e Uso](ng%20new%2021d9462188c680cc9b6fdb74b81dbaf8.md)
3. [Restrições de Uso](ng%20new%2021d9462188c680cc9b6fdb74b81dbaf8.md)
4. [Argumentos](ng%20new%2021d9462188c680cc9b6fdb74b81dbaf8.md)
5. [Opções](ng%20new%2021d9462188c680cc9b6fdb74b81dbaf8.md)
6. [Melhores Práticas e Casos de Uso](ng%20new%2021d9462188c680cc9b6fdb74b81dbaf8.md)
7. [Exemplos Completos](ng%20new%2021d9462188c680cc9b6fdb74b81dbaf8.md)
8. [Tópicos Relacionados para Aprofundamento](ng%20new%2021d9462188c680cc9b6fdb74b81dbaf8.md)

---

## Conceitos Fundamentais

- **Workspace vs. Projeto:**
    - *Workspace* é o diretório raiz que contém configurações compartilhadas (em `angular.json`, `tsconfig.json`, etc.).
    - *Projeto* (application ou library) é uma unidade gerenciável dentro do workspace. Por padrão, `ng new` cria um workspace com um projeto inicial. ([angular.dev](https://angular.dev/cli/new))
- **Schematics:**
O Angular CLI utiliza *schematics* para gerar código. `ng new` invoca o schematic principal que provisiona arquivos e pastas base, configurações de build, teste e lint. ([angular.dev](https://angular.dev/cli/new))
- **Interatividade:**
Por padrão, o CLI faz perguntas interativas (por exemplo, se quer adicionar *routing* ou qual estilo de CSS usar). Isso pode ser desativado com `-defaults` ou `-interactive=false`. ([angular.dev](https://angular.dev/cli/new))

---

## Sintaxe e Uso

```bash
ng new <nome-do-workspace> [opções]

```

- `<nome-do-workspace>`: nome do diretório e identificador do projeto inicial.
- Ao executar sem parâmetros, você entrará num modo interativo que guiará pelas opções mais comuns.
- Exemplos comentados:
    
    ```bash
    # Cria 'meu-app' com Angular Router e usando SCSS
    ng new meu-app --routing true --style scss
    # Cria 'portal' sem app inicial (monorepo-friendly)
    ng new portal --create-application false
    
    ```
    
    ([angular.dev](https://angular.dev/cli/new))
    

---

## Restrições de Uso

- **Workspaces existentes:** Não use `ng new` dentro de um workspace já existente — ele sempre cria um novo diretório raiz.
- **Apenas bibliotecas:** Se o objetivo for criar apenas uma *library*, utilize `ng generate library` em um workspace já configurado.
- **Projetos não-Angular:** Comandos como `ng new` têm efeito apenas em projetos que seguirão a arquitetura Angular; para outras frameworks, use seus próprios scaffolds.

---

## Argumentos

| **Argumento** | **Descrição** | **Tipo** |
| --- | --- | --- |
| `name` | Nome do novo workspace e do projeto inicial. Será usado como nome do diretório e identificadores. | `string` |

> Fonte: Angular CLI Docs (angular.dev)
> 

---

## Opções

| **Opção** | **Alias** | **Tipo** | **Default** | **Descrição** |
| --- | --- | --- | --- | --- |
| `--collection <string>` | `-c` | `string` | — | Conjunto de *schematics* a ser usado para gerar o projeto. |
| `--commit <boolean>` | — | `boolean` | `true` | Faz o *initial commit* no repositório Git. |
| `--create-application <boolean>` | — | `boolean` | `true` | Quando `false`, cria apenas o workspace sem aplicação inicial (útil para monorepos). |
| `--defaults <boolean>` | — | `boolean` | `false` | Usa valores padrão sem perguntar interativamente. |
| `--directory <string>` | — | `string` | Diretório atual | Define o diretório onde será criado o workspace. |
| `--dry-run <boolean>` | `-d` | `boolean` | `false` | Simula a execução sem gravar arquivos. |
| `--force <boolean>` | — | `boolean` | `false` | Força sobrescrever arquivos já existentes. |
| `--help <boolean>` | — | `boolean` | — | Exibe a ajuda do comando. |
| `--inline-style <boolean>` | `-s` | `boolean` | `false` | Insere estilos no próprio arquivo `app.component.ts`. |
| `--inline-template <boolean>` | `-t` | `boolean` | `false` | Insere template HTML no próprio `app.component.ts`. |
| `--interactive <boolean>` | — | `boolean` | `true` | Habilita prompts interativos. |
| `--minimal <boolean>` | — | `boolean` | `false` | Gera um workspace minimalista, sem frameworks de teste. |
| `--new-project-root <string>` | — | `string` | `projects` | Pasta relativa onde novos projetos serão criados. |
| `--package-manager <string>` | — | `string` | `npm` | Gerenciador de pacotes (`npm`, `yarn`, `pnpm`, `cnpm`, `bun`). |
| `--prefix <string>` | `-p` | `string` | `app` | Prefixo aplicado aos seletores de componentes (ex.: `app-meu-componente`). |
| `--routing <boolean>` | — | `boolean` | `false` | Adiciona módulo de roteamento na aplicação inicial. |
| `--skip-git <boolean>` | `-g` | `boolean` | `false` | Não inicializa repositório Git. |
| `--skip-install <boolean>` | — | `boolean` | `false` | Não roda `npm install` automaticamente; dependências devem ser instaladas manualmente. |
| `--skip-tests <boolean>` | `-S` | `boolean` | `false` | Não gera arquivos de testes unitários (`*.spec.ts`). |
| `--ssr <boolean>` | — | `boolean` | `false` | Configura aplicação para Server-Side Rendering (SSR) e Prerendering (SSG). |
| `--standalone <boolean>` | — | `boolean` | `true` | Gera a aplicação usando API standalone, sem `NgModule`. |
| `--strict <boolean>` | — | `boolean` | `true` | Habilita configurações de verificação de tipo e limites de bundle mais rigorosos. [Mais detalhes](https://angular.dev/tools/cli/template-typecheck#strict-mode) ([angular.dev](https://angular.dev/cli/new)) |
| `--style <string>` | — | `string` | `css` | Define tipo de stylesheet: `css`, `scss`, `sass`, `less`. |
| `--view-encapsulation <string>` | — | `string` | `Emulated` | Define encapsulamento de estilo: `Emulated`, `None`, `ShadowDom`. |
| `--zoneless <boolean>` | — | `boolean` | `false` | Cria aplicação sem dependência de `zone.js`. |

> Fonte: Angular CLI Docs (angular.dev)
> 

---

## Melhores Práticas e Casos de Uso

- **Workspaces Mono-repositório:** Use `-create-application=false` e depois `ng generate application` para manter múltiplos apps/libraries num único workspace.
- **Configuração Estrita:** Habilite `-strict` para detecção precoce de erros e código mais seguro.
- **Estilos Inline vs. Externos:** Prefira arquivos externos (`-inline-style=false`) em projetos de médio a grande porte para melhor organização e cache.
- **Skip Tests em Prototipagem:** Use `-skip-tests` em protótipos rápidos, mas mantenha testes em aplicações de produção.
- **Gerenciador de Pacotes:** Escolha `pnpm` ou `yarn` em projetos com muitos monorepos para instalações mais rápidas e deduplicação eficiente.

---

## Exemplos Completos

### 1. Aplicação SPA com Routing, SCSS e Strict Mode

```bash
ng new portal-spa \\
  --routing true \\
  --style scss \\
  --strict true \\
  --standalone true \\
  --package-manager pnpm

```

- Cria `portal-spa/` como workspace.
- Gera aplicação inicial em `portal-spa/src/`.
- Configura rota básica em `app-routing.module.ts`.
- Usa SCSS e tipo de verificação estrita.

### 2. Monorepo para Várias Aplicações

```bash
ng new empresa-workspace \\
  --create-application false \\
  --new-project-root projects \\
  --defaults true
cd empresa-workspace
ng generate application frontend --routing --style css
ng generate application backend-dashboard --style less
ng generate library ui-components

```

- Workspace sem app inicial;
- Duas aplicações em `projects/`;
- Uma biblioteca compartilhada para componentes UI.

---

## Tópicos Relacionados para Aprofundamento

- **`ng generate`** – Gerar componentes, módulos e serviços.
- **`angular.json`** – Estrutura e personalização de workspace.
- **Schematics Avançados** – Criação de *schematics* customizados.
- **Build e Deploy** – `ng build`, `ng serve` e integração contínua.
- **Testes** – Configuração de Karma, Jasmine, Protractor e Cypress.

---

Com esta visão completa do `ng new`, você tem a base necessária para criar e estruturar seus projetos Angular com eficiência e escalabilidade.