# **Freezed no Flutter: Guia Completo**

---

## **Sumário**

1. [Introdução](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#introdu%C3%A7%C3%A3o)
2. [O que é o Freezed e para que serve?](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#o-que-%C3%A9-o-freezed-e-para-que-serve)
3. [Como funciona o Freezed?](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#como-funciona-o-freezed)
4. [Sintaxe de Uso](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#sintaxe-de-uso)
    - [Parâmetros e Configurações](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#par%C3%A2metros-e-configura%C3%A7%C3%B5es)
    - [Exemplo Completo](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#exemplo-completo)
5. [Restrições de Uso](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#restri%C3%A7%C3%B5es-de-uso)
6. [Quando Utilizar o Freezed?](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#quando-utilizar-o-freezed)
7. [Dicas e Boas Práticas](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#dicas-e-boas-pr%C3%A1ticas)

---

## **Introdução**

O **Freezed** é uma biblioteca extremamente popular na comunidade Flutter/Dart, projetada para facilitar a criação de classes imutáveis, seguras e com suporte a cópias, igualdade, e até mesmo union types. Desenvolver no Flutter muitas vezes exige manipular dados imutáveis, especialmente em arquiteturas baseadas em `State Management` como **Bloc**, **Provider**, ou **Riverpod**. O Freezed simplifica esse processo e torna o código mais conciso e legível.

Este guia detalhado abordará o que é o Freezed, como ele funciona, sua sintaxe, restrições, e quando utilizá-lo em seus projetos Flutter.

---

## **O que é o Freezed e para que serve?**

O **Freezed** é uma biblioteca geradora de código (code generation) que ajuda a criar classes imutáveis no Dart de maneira simplificada. Ele fornece:

1. **Imutabilidade**: Facilita a criação de classes imutáveis, essenciais para evitar mudanças acidentais de estado.
2. **Equality (Igualdade)**: Implementa automaticamente a comparação de objetos (usando `==`) com base nos seus valores.
3. **Cópias com Modificações**: Gera métodos como `copyWith` para facilitar a cópia de objetos com alterações em campos específicos.
4. **Union Types e Sealed Classes**: Permite definir classes que representam diferentes "estados" de maneira elegante.
5. **Desestruturação**: Facilita a extração de dados específicos de classes.

O Freezed é particularmente útil quando você deseja evitar a verbosidade de escrever manualmente todas essas funcionalidades e reduzir erros no código.

---

## **Como funciona o Freezed?**

O Freezed utiliza **code generation** para gerar automaticamente o código necessário para classes imutáveis e funcionalidades adicionais como `copyWith` e `==`. Ele funciona em conjunto com a biblioteca **build_runner**, que executa a geração de código.

### **Instalação**

Adicione as dependências no seu `pubspec.yaml`:

```yaml
dependencies:
  flutter:
    sdk: flutter
  freezed_annotation: ^2.4.1 # Biblioteca de anotações

dev_dependencies:
  build_runner: ^2.4.6         # Necessário para gerar o código
  freezed: ^2.4.6              # Biblioteca principal do Freezed
```

---

## **Sintaxe de Uso**

### **Estrutura Básica**

Aqui está uma estrutura básica de uma classe usando o Freezed:

```dart
import 'package:freezed_annotation/freezed_annotation.dart';

part 'usuario.freezed.dart'; // Parte gerada automaticamente

@freezed
class Usuario with _$Usuario {
  const factory Usuario({
    required String nome,
    required int idade,
    String? email,
  }) = _Usuario;
}
```

### **Detalhamento dos Parâmetros**

1. **`@freezed`**
    
    - **Descrição**: Anotação que marca a classe como uma classe Freezed.
    - **Obrigatório**: Sim.
2. **`class Usuario with _$Usuario`**
    
    - **Descrição**: Declara a classe `Usuario` com o mixin gerado automaticamente `_$Usuario`.
    - **Obrigatório**: Sim.
3. **`const factory Usuario`**
    
    - **Descrição**: Define um construtor `factory` para criar instâncias da classe.
    - **Obrigatório**: Sim.
4. **Parâmetros do Construtor**
    
    - **Parâmetros Obrigatórios**: Utilize `required` para campos obrigatórios.
    - **Parâmetros Opcionais**: Utilize `String?` para parâmetros opcionais (nulos).
5. **`part 'usuario.freezed.dart';`**
    
    - **Descrição**: Indica o arquivo onde o código gerado pelo Freezed será salvo.
    - **Obrigatório**: Sim.

---

### **Exemplo Completo**

Vamos criar um exemplo mais completo que inclui `copyWith`, `toString`, `equality`, e union types.

```dart
import 'package:freezed_annotation/freezed_annotation.dart';

part 'resultado.freezed.dart';

@freezed
class Resultado with _$Resultado {
  const factory Resultado.sucesso(String mensagem) = Sucesso;
  const factory Resultado.erro(String mensagemErro) = Erro;
  const factory Resultado.carregando() = Carregando;
}
```

### **Como Usar o Exemplo**

```dart
void main() {
  Resultado resultado = Resultado.sucesso("Dados carregados com sucesso!");

  resultado.when(
    sucesso: (mensagem) => print(mensagem),
    erro: (mensagemErro) => print("Erro: $mensagemErro"),
    carregando: () => print("Carregando..."),
  );
}
```

**Explicação**:

- **Union Types**: A classe `Resultado` pode ser `Sucesso`, `Erro`, ou `Carregando`.
- **Método `when`**: Executa diferentes ações com base no tipo de `Resultado`.

---

## **Restrições de Uso**

1. **Code Generation Necessário**
    
    - Sempre execute `build_runner` para gerar o código:
        
        ```bash
        flutter pub run build_runner build --delete-conflicting-outputs
        ```
        
2. **Nomes dos Arquivos**
    
    - O arquivo gerado deve seguir o padrão `nome.freezed.dart`.
3. **Campos Imutáveis**
    
    - Os campos em uma classe Freezed são imutáveis por padrão. Se precisar modificar um valor, use `copyWith`.
4. **Construtores `factory`**
    
    - Utilize apenas construtores `factory` para definir diferentes variantes (union types).

---

## **Quando Utilizar o Freezed?**

1. **Modelos de Dados Imutáveis**
    
    - Ideal para classes de modelos que não devem ser alteradas após a criação.
2. **State Management**
    
    - Útil em arquiteturas como **Bloc**, **Provider**, ou **Riverpod**, onde estados imutáveis são essenciais.
3. **Reduzir Código Boilerplate**
    
    - Evita a necessidade de escrever manualmente métodos como `copyWith`, `toString`, e `==`.
4. **Union Types**
    
    - Quando você precisa representar múltiplas variantes de um mesmo tipo de forma clara e segura.

---

## **Dicas e Boas Práticas**

1. **Sempre Execute o Build Runner**
    
    ```bash
    flutter pub run build_runner build --delete-conflicting-outputs
    ```
    
2. **Use `when` e `maybeWhen`**
    
    - Utilize `when` para tratar todos os casos e `maybeWhen` para tratar alguns casos específicos.
3. **Mantenha o Código Limpo**
    
    - Separe suas classes e arquivos de dados em diretórios organizados, como `models` ou `entities`.
4. **Combine com `json_serializable`**
    
    - Para serialização de dados, combine o Freezed com `json_serializable`:
        
        ```dart
        @freezed
        class Usuario with _$Usuario {
          factory Usuario({required String nome, required int idade}) = _Usuario;
        
          factory Usuario.fromJson(Map<String, dynamic> json) => _$UsuarioFromJson(json);
        }
        ```
        

---

## **Conclusão**

O **Freezed** é uma ferramenta poderosa no Flutter para criar classes imutáveis, seguras e concisas. Ele elimina a necessidade de código boilerplate e facilita a manipulação de dados e estados complexos. Ao adotar o Freezed, você melhora a legibilidade, a manutenção e a confiabilidade do seu código.