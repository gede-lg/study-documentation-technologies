# **Pattern Matching no Freezed: Guia Completo**

---

## **Sum√°rio**

1. [Introdu√ß√£o](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#introdu%C3%A7%C3%A3o)
2. [O que √© Pattern Matching no Freezed?](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#o-que-%C3%A9-pattern-matching-no-freezed)
3. [Como Funciona o Pattern Matching no Freezed?](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#como-funciona-o-pattern-matching-no-freezed)
4. [Sintaxe de Uso](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#sintaxe-de-uso)
    - [Par√¢metros e Configura√ß√µes](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#par%C3%A2metros-e-configura%C3%A7%C3%B5es)
    - [Exemplo Completo](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#exemplo-completo)
5. [Restri√ß√µes de Uso](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#restri%C3%A7%C3%B5es-de-uso)
6. [Quando Utilizar o Pattern Matching?](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#quando-utilizar-o-pattern-matching)
7. [Dicas e Boas Pr√°ticas](https://chatgpt.com/c/WEB:1fad78dc-9c0f-46e1-bc6e-9569bea967ed#dicas-e-boas-pr%C3%A1ticas)

---

## **Introdu√ß√£o**

O **Pattern Matching** no Freezed √© uma funcionalidade poderosa que permite executar a√ß√µes diferentes com base no tipo ou variante espec√≠fica de uma classe. Quando trabalhamos com **union types** e **sealed classes** no Flutter, o pattern matching ajuda a simplificar a l√≥gica de controle de fluxo, tornando o c√≥digo mais leg√≠vel e seguro.

Neste guia, vamos explorar em detalhes o que √© o pattern matching no Freezed, como ele funciona, a sintaxe de uso, exemplos pr√°ticos, e em quais situa√ß√µes voc√™ deve aplic√°-lo.

---

## **O que √© Pattern Matching no Freezed?**

**Pattern Matching** √© uma t√©cnica que permite verificar o tipo ou estrutura de um objeto e, com base nisso, executar uma l√≥gica espec√≠fica. No Freezed, isso √© particularmente √∫til ao lidar com **union types** e **sealed classes**.

Por exemplo, se voc√™ tiver uma classe `Resultado` com diferentes variantes (`Sucesso`, `Erro`, `Carregando`), o pattern matching permite tratar cada variante de forma espec√≠fica sem a necessidade de condicionais (`if`/`else`).

### **Benef√≠cios do Pattern Matching**

1. **C√≥digo mais leg√≠vel**: Evita m√∫ltiplos blocos `if`/`else`.
2. **Seguran√ßa em tempo de compila√ß√£o**: Garante que todas as variantes sejam tratadas.
3. **Manuten√ß√£o simplificada**: Facilita a adi√ß√£o de novas variantes sem quebrar o c√≥digo existente.

---

## **Como Funciona o Pattern Matching no Freezed?**

O Freezed fornece m√©todos espec√≠ficos para pattern matching:

1. **`when`**
    
    - Exige que todas as variantes sejam tratadas.
    - Se uma variante n√£o for tratada, haver√° um erro de compila√ß√£o.
2. **`maybeWhen`**
    
    - Permite tratar apenas algumas variantes.
    - Pode definir um `orElse` para casos n√£o tratados.
3. **`map`**
    
    - Similar ao `when`, mas trabalha diretamente com inst√¢ncias das classes.
4. **`maybeMap`**
    
    - Similar ao `maybeWhen`, mas trabalha com inst√¢ncias das classes e permite um `orElse`.

---

## **Sintaxe de Uso**

### **Estrutura B√°sica com `when`**

```dart
resultado.when(
  sucesso: (mensagem) => print("Sucesso: $mensagem"),
  erro: (mensagemErro) => print("Erro: $mensagemErro"),
  carregando: () => print("Carregando..."),
);
```

### **Estrutura B√°sica com `maybeWhen`**

```dart
resultado.maybeWhen(
  sucesso: (mensagem) => print("Sucesso: $mensagem"),
  orElse: () => print("Outro estado"),
);
```

### **Estrutura B√°sica com `map`**

```dart
resultado.map(
  sucesso: (sucesso) => print("Sucesso: ${sucesso.mensagem}"),
  erro: (erro) => print("Erro: ${erro.mensagemErro}"),
  carregando: (carregando) => print("Carregando..."),
);
```

### **Estrutura B√°sica com `maybeMap`**

```dart
resultado.maybeMap(
  sucesso: (sucesso) => print("Sucesso: ${sucesso.mensagem}"),
  orElse: () => print("Outro estado"),
);
```

---

### **Par√¢metros e Configura√ß√µes**

#### **`when`**

- **Descri√ß√£o**: Executa uma fun√ß√£o espec√≠fica para cada variante da classe.
- **Par√¢metros**:
    - **Obrigat√≥rios**: Todas as variantes da classe devem ser tratadas.
    - **Tipo**: Fun√ß√µes que recebem os par√¢metros definidos para cada variante.

#### **`maybeWhen`**

- **Descri√ß√£o**: Permite tratar algumas variantes e define um `orElse` para os casos n√£o tratados.
- **Par√¢metros**:
    - **Opcionais**: As variantes que voc√™ deseja tratar.
    - **Obrigat√≥rio**: `orElse` para lidar com os casos n√£o tratados.

#### **`map`**

- **Descri√ß√£o**: Similar ao `when`, mas passa a inst√¢ncia completa de cada variante para a fun√ß√£o.
- **Par√¢metros**:
    - **Obrigat√≥rios**: Todas as variantes da classe devem ser tratadas.
    - **Tipo**: Fun√ß√µes que recebem a inst√¢ncia da variante.

#### **`maybeMap`**

- **Descri√ß√£o**: Similar ao `maybeWhen`, mas permite tratar algumas variantes com um `orElse` para os casos n√£o tratados.
- **Par√¢metros**:
    - **Opcionais**: As variantes que voc√™ deseja tratar.
    - **Obrigat√≥rio**: `orElse` para os casos n√£o tratados.

---

## **Exemplo Completo**

Vamos criar um exemplo completo usando o Freezed para demonstrar o pattern matching.

### **Definindo a Classe com Freezed**

```dart
import 'package:freezed_annotation/freezed_annotation.dart';

part 'resultado.freezed.dart';

@freezed
class Resultado with _$Resultado {
  const factory Resultado.sucesso(String mensagem) = Sucesso;
  const factory Resultado.erro(String mensagemErro) = Erro;
  const factory Resultado.carregando() = Carregando;
}
```

### **Usando `when`**

```dart
void main() {
  Resultado resultado = Resultado.sucesso("Dados carregados com sucesso!");

  resultado.when(
    sucesso: (mensagem) => print("Sucesso: $mensagem"),
    erro: (mensagemErro) => print("Erro: $mensagemErro"),
    carregando: () => print("Carregando..."),
  );
}
```

**Sa√≠da**:

```
Sucesso: Dados carregados com sucesso!
```

### **Usando `maybeWhen`**

```dart
resultado.maybeWhen(
  sucesso: (mensagem) => print("Sucesso: $mensagem"),
  orElse: () => print("Outro estado"),
);
```

---

## **Restri√ß√µes de Uso**

1. **Code Generation**
    
    - √â necess√°rio executar o `build_runner` sempre que modificar a classe Freezed:
        
        ```bash
        flutter pub run build_runner build --delete-conflicting-outputs
        ```
        
2. **Obrigatoriedade no `when` e `map`**
    
    - Todas as variantes devem ser tratadas em `when` e `map`. Caso contr√°rio, ocorrer√° erro de compila√ß√£o.
3. **Tipos Definidos no Freezed**
    
    - O pattern matching s√≥ funciona com classes definidas usando Freezed com `@freezed`.

---

## **Quando Utilizar o Pattern Matching?**

1. **Gerenciar Estados Complexos**
    
    - Ideal para `State Management` com diferentes estados (`Loading`, `Success`, `Error`).
2. **Reduzir C√≥digo Boilerplate**
    
    - Evita a necessidade de m√∫ltiplos blocos `if`/`else` para verificar tipos.
3. **Seguran√ßa em Tempo de Compila√ß√£o**
    
    - Garante que todas as variantes s√£o tratadas, evitando erros em tempo de execu√ß√£o.
4. **Manter o C√≥digo Leg√≠vel**
    
    - Deixa o c√≥digo mais claro e f√°cil de manter.

---

## **Dicas e Boas Pr√°ticas**

1. **Sempre Use `when` para Garantir Cobertura Completa**
    
    - Use `when` quando precisar tratar todas as variantes obrigatoriamente.
2. **Use `maybeWhen` para Tratamentos Parciais**
    
    - Quando apenas algumas variantes precisam ser tratadas, `maybeWhen` √© ideal.
3. **Combine com State Management**
    
    - Combine com **Bloc**, **Provider** ou **Riverpod** para gerenciar estados de forma eficiente.
4. **Mantenha o C√≥digo Organizado**
    
    - Separe classes Freezed em arquivos espec√≠ficos para manter a organiza√ß√£o.

---

## **Conclus√£o**

O **pattern matching** no Freezed √© uma t√©cnica poderosa para gerenciar m√∫ltiplas variantes de uma classe de forma clara, segura e eficiente. Ele simplifica a l√≥gica condicional, melhora a legibilidade do c√≥digo e ajuda a evitar erros comuns em tempo de execu√ß√£o. Ao dominar o pattern matching, voc√™ torna suas aplica√ß√µes Flutter mais robustas e f√°ceis de manter. üòäüöÄ