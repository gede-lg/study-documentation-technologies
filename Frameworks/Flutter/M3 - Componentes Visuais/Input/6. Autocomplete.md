
## Introdução

O **Autocomplete** é um widget do Flutter introduzido para simplificar a criação de campos de entrada com sugestões automáticas baseadas no texto inserido pelo usuário. Ele é amplamente utilizado em aplicações modernas para melhorar a experiência do usuário, especialmente em campos de pesquisa ou formulários onde o preenchimento automático agiliza o processo de entrada de dados.

Neste guia, exploraremos o funcionamento do Autocomplete, suas propriedades, métodos, restrições, e muito mais, de forma detalhada e com exemplos práticos.

---

## Sumário

1. [O que é e para que serve?](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#o-que-%C3%A9-e-para-que-serve)
2. [Como funciona?](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#como-funciona)
3. [Sintaxe de uso](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#sintaxe-de-uso)
4. [Restrições de uso](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#restri%C3%A7%C3%B5es-de-uso)
5. [Quando utilizar?](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#quando-utilizar)
6. [Tabela de propriedades](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#tabela-de-propriedades)
7. [Tabela de métodos](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#tabela-de-m%C3%A9todos)
8. [Categorias de widgets relacionadas](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#categorias-de-widgets-relacionadas)
9. [Exemplos práticos](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#exemplos-pr%C3%A1ticos)
10. [Conclusão](https://chatgpt.com/c/674a1610-256c-8003-9d8d-bf91af6995bb#conclus%C3%A3o)

---

## O que é e para que serve?

O **Autocomplete** é um widget que exibe uma lista de sugestões à medida que o usuário digita em um campo de texto. Ele é útil para:

- **Melhorar a experiência do usuário**: Ajuda os usuários a encontrar rapidamente as opções disponíveis sem precisar digitar completamente.
- **Reduzir erros de digitação**: Apresenta sugestões baseadas em dados pré-definidos ou dinâmicos.
- **Aumentar a eficiência**: Automatiza o preenchimento de campos, economizando tempo do usuário.

---

## Como funciona?

O widget **Autocomplete** funciona em três etapas principais:

1. **Entrada do usuário**: O usuário começa a digitar no campo de texto.
2. **Filtragem de opções**: O widget filtra as opções disponíveis com base no texto digitado.
3. **Exibição de sugestões**: As sugestões correspondentes são exibidas em uma lista suspensa.

### Principais componentes:

- **`optionsBuilder`**: Gera as opções com base na entrada do usuário.
- **`onSelected`**: Callback acionado quando o usuário seleciona uma sugestão.
- **`fieldViewBuilder`**: Personaliza a aparência do campo de texto.
- **`optionsViewBuilder`**: Personaliza a lista de sugestões.

---

## Sintaxe de uso

A estrutura básica do widget **Autocomplete** é a seguinte:

```dart
Autocomplete<String>(
  optionsBuilder: (TextEditingValue textEditingValue) {
    if (textEditingValue.text.isEmpty) {
      return const Iterable<String>.empty();
    }
    return listaDeOpcoes.where((String option) {
      return option.toLowerCase().contains(textEditingValue.text.toLowerCase());
    });
  },
  onSelected: (String selection) {
    print('Você selecionou $selection');
  },
);
```

### Parâmetros principais:

- **`optionsBuilder`**: (Obrigatório) Função que retorna as opções baseadas no texto digitado.
    - Tipo: `Iterable<T> Function(TextEditingValue)`
- **`onSelected`**: (Obrigatório) Callback chamado quando uma sugestão é selecionada.
    - Tipo: `void Function(T)`
- **`fieldViewBuilder`**: (Opcional) Personaliza o campo de entrada.
    - Tipo: `Widget Function(BuildContext, TextEditingController, FocusNode)`
- **`optionsViewBuilder`**: (Opcional) Personaliza a lista de sugestões.
    - Tipo: `Widget Function(BuildContext, AutocompleteOnSelected<T>, Iterable<T>)`

---

## Restrições de uso

1. **Lista de opções**: A lista de opções deve ser bem definida para evitar confusões ao usuário.
2. **Performance**: Listas muito grandes podem afetar o desempenho. Use técnicas de otimização para filtrar dados em tempo real.
3. **Espaço limitado**: Certifique-se de que há espaço suficiente na interface para exibir a lista de sugestões.
4. **Somente para texto**: O widget é mais adequado para dados de entrada baseados em texto.

---

## Quando utilizar?

- **Campos de pesquisa**: Para ajudar os usuários a encontrar rapidamente resultados relevantes.
- **Formulários complexos**: Para simplificar o preenchimento de campos como endereços, cidades ou estados.
- **Aplicativos de catálogo**: Para sugerir produtos ou serviços com base em entradas parciais.

---

## Tabela de Propriedades

|**Propriedade**|**Descrição**|**Sintaxe de Uso**|
|---|---|---|
|`optionsBuilder`|Função para gerar opções com base no texto digitado.|`(TextEditingValue textEditingValue) => Iterable<T>`|
|`onSelected`|Callback chamado quando uma sugestão é selecionada.|`(T selection) => void`|
|`fieldViewBuilder`|Personaliza o campo de entrada de texto.|`(BuildContext context, TextEditingController controller, FocusNode focusNode) => Widget`|
|`optionsViewBuilder`|Personaliza a lista de sugestões.|`(BuildContext context, AutocompleteOnSelected<T> onSelected, Iterable<T> options) => Widget`|
|`displayStringForOption`|Define como as opções devem ser exibidas na lista.|`(T option) => String`|

---

## Tabela de Métodos

|**Método**|**Descrição**|**Sintaxe de Uso**|
|---|---|---|
|`createState`|Cria o estado associado ao widget.|`AutocompleteState<T> createState()`|
|`buildOptions`|Constrói a lista de opções visíveis com base na entrada do usuário.|`Widget buildOptions(BuildContext context)`|
|`buildField`|Constrói o campo de entrada customizado.|`Widget buildField(BuildContext context)`|

---

## Categorias de Widgets Relacionadas

O **Autocomplete** pertence às seguintes categorias de widgets:

- **Input**: Facilita a entrada de dados.
- **Material Components**: Faz parte dos componentes de Material Design.
- **Interaction Models**: Interage com a entrada do usuário.

---

## Exemplos Práticos

### Exemplo Básico

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: const Text('Exemplo de Autocomplete')),
        body: const AutocompleteDemo(),
      ),
    );
  }
}

class AutocompleteDemo extends StatelessWidget {
  const AutocompleteDemo({super.key});

  @override
  Widget build(BuildContext context) {
    final List<String> opcoes = ['Flutter', 'Dart', 'Android', 'iOS', 'React'];

    return Padding(
      padding: const EdgeInsets.all(16.0),
      child: Autocomplete<String>(
        optionsBuilder: (TextEditingValue textEditingValue) {
          if (textEditingValue.text.isEmpty) {
            return const Iterable<String>.empty();
          }
          return opcoes.where((String option) {
            return option.toLowerCase().contains(textEditingValue.text.toLowerCase());
          });
        },
        onSelected: (String selection) {
          print('Você selecionou $selection');
        },
      ),
    );
  }
}
```

### Exemplo com Personalização de Campo e Lista

```dart
Autocomplete<String>(
  optionsBuilder: (TextEditingValue textEditingValue) {
    if (textEditingValue.text.isEmpty) {
      return const Iterable<String>.empty();
    }
    return ['Banana', 'Maçã', 'Laranja'].where((String option) {
      return option.toLowerCase().contains(textEditingValue.text.toLowerCase());
    });
  },
  fieldViewBuilder: (BuildContext context, TextEditingController controller, FocusNode focusNode) {
    return TextField(
      controller: controller,
      focusNode: focusNode,
      decoration: const InputDecoration(
        hintText: 'Digite uma fruta...',
      ),
    );
  },
  optionsViewBuilder: (BuildContext context, AutocompleteOnSelected<String> onSelected, Iterable<String> options) {
    return Align(
      alignment: Alignment.topLeft,
      child: Material(
        child: Container(
          width: 300.0,
          color: Colors.white,
          child: ListView.builder(
            itemCount: options.length,
            itemBuilder: (BuildContext context, int index) {
              final String option = options.elementAt(index);
              return GestureDetector(
                onTap: () {
                  onSelected(option);
                },
                child: ListTile(
                  title: Text(option),
                ),
              );
            },
          ),
        ),
      ),
    );
  },
);
```

---

## Conclusão

O **Autocomplete** no Flutter é uma ferramenta poderosa para melhorar a experiência do usuário em aplicativos. Ele é flexível e pode ser customizado para atender a diferentes necessidades. Com suporte para personalização de campos e listas de sugestões, além de facilidade de uso, este widget é indispensável em formulários, sistemas de busca e outros contextos de entrada de dados.