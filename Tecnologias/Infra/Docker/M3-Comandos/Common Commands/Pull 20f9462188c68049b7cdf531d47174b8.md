# Pull

---

## 1. Finalidade do `docker pull`

O **`docker pull`** baixa imagens (ou tags específicas) de um **registro** (registry) Docker para o seu host local. Isso garante que você tenha a versão correta da imagem antes de criar ou rodar contêineres.

---

## 2. Sintaxe básica

```bash
docker pull [OPTIONS] NAME[:TAG|@DIGEST]

```

- **`NAME`**: nome do repositório (ex.: `nginx`, `myuser/app`).
- **`TAG`**: versão da imagem (ex.: `:latest`, `:1.2.3`). Se omitido, assume `:latest`.
- **`@DIGEST`**: digest SHA256 para referenciar exatamente uma imagem imutável.

---

## 3. Parâmetro

| Parâmetro | Obrigatório | Descrição |
| --- | --- | --- |
| `NAME[:TAG | @DIGEST]` | Sim |

---

## 4. Opções disponíveis

| Opção | Tipo | Padrão | Finalidade |
| --- | --- | --- | --- |
| `-a, --all-tags` | boolean | `false` | Baixa **todas** as tags disponíveis do repositório, e não apenas aquela especificada. |
| `--disable-content-trust` | boolean | `true` | Desativa a verificação de assinatura via Docker Content Trust. |
| `--platform string` | string | — | Especifica a **plataforma** (OS/ARCH) em ambientes multi-plataforma (ex.: `linux/amd64`). |
| `-q, --quiet` | boolean | `false` | Suprime a saída detalhada, mostrando somente progressos simplificados. |

---

## 5. Fluxo de funcionamento

1. **Resolver nome e tag/digest**
    - Traduz `NAME[:TAG|@DIGEST]` no endpoint do registry (Docker Hub, registro privado, etc.).
2. **Solicitar manifest**
    - Baixa o manifesto OCI que descreve camadas e metadados da imagem.
3. **Baixar camadas**
    - Transfere cada camada ausente no cache local (`/var/lib/docker`).
4. **Verificar Content Trust**
    - Se ativado, confere assinaturas TUF/Notary antes de armazenar.
5. **Armazenar localmente**
    - Grava as camadas e o metadata para uso em `docker run`, `docker create`, etc.

---

## 6. Exemplos de uso

1. **Baixar a imagem padrão `nginx:latest`**
    
    ```bash
    docker pull nginx
    
    ```
    
2. **Baixar uma tag específica**
    
    ```bash
    docker pull redis:6.2.5
    
    ```
    
3. **Baixar pelo digest**
    
    ```bash
    docker pull alpine@sha256:3a0a...
    
    ```
    
4. **Baixar todas as tags de um repositório**
    
    ```bash
    docker pull --all-tags myuser/app
    
    ```
    
5. **Forçar baixar novamente sem Content Trust**
    
    ```bash
    docker pull --disable-content-trust myprivate/secret:1.0
    
    ```
    
6. **Escolher plataforma em node multi-arch**
    
    ```bash
    docker pull --platform linux/arm64 ubuntu:20.04
    
    ```
    

---

## 7. Tabela de referência rápida

| Componente | Sintaxe | Descrição |
| --- | --- | --- |
| Comando base | `docker pull [OPTIONS] NAME[:TAG]` | Baixa imagem do registry para o host local. |
| Parâmetro | `NAME[:TAG | @DIGEST]` |
| Opção | `-a, --all-tags` | Baixa todas as tags do repositório. |
| Opção | `--disable-content-trust` | Ignora verificação de assinatura de Content Trust. |
| Opção | `--platform <os/arch>` | Define a plataforma (Linux/Windows, CPU arch) para o pull. |
| Opção | `-q, --quiet` | Output minimalista; mostra apenas progresso resumido. |

---

Agora você tem tudo para usar o **`docker pull`** de forma eficaz, garantindo que as imagens corretas estejam disponíveis localmente antes de rodar seus contêineres.