# Login

---

## 1. Finalidade do `docker login`

O **`docker login`** autentica seu cliente Docker em um **registry** (público ou privado), salvando localmente suas credenciais para que comandos como `docker pull`, `docker push` e `docker buildx build --push` possam operar sem solicitar usuário/senha repetidamente. Por padrão, usa o Docker Hub se nenhum servidor for especificado.

---

## 2. Sintaxe básica

```bash
docker login [OPTIONS] [SERVER]

```

- **`SERVER`** (opcional): URL ou host do registry. Se omitido, conecta-se a `https://index.docker.io/v1/` (Docker Hub).

---

## 3. Parâmetros

| Parâmetro | Obrigatório | Descrição |
| --- | --- | --- |
| `SERVER` | Não | Endpoint do registry (e.g., `myregistry.example.com`). |

---

## 4. Opções disponíveis

| Opção | Tipo | Padrão | Finalidade |
| --- | --- | --- | --- |
| `-u, --username string` | string | — | Seu **nome de usuário** ou ID no registry. |
| `-p, --password string` | string | — | Sua **senha** ou **Personal Access Token (PAT)**. |
| `--password-stdin` | boolean | `false` | Lê a senha/PAT via **stdin**, evitando que ela apareça no histórico do shell (mais seguro). |

---

## 5. Fluxo de funcionamento

1. **Chamada do comando**
    - Se não usar `-password-stdin`, o CLI solicitará interativamente a senha após você digitar o comando.
2. **Transmissão segura**
    - A senha é enviada via TLS ao registry.
3. **Armazenamento local**
    - Em caso de sucesso, salva um **token** de acesso em `~/.docker/config.json` (campo `"auths"`).
4. **Uso subsequente**
    - Outros comandos (pull, push) reutilizam esse token, evitando novas solicitações de autenticação.

---

## 6. Exemplos de uso

1. **Login interativo no Docker Hub**
    
    ```bash
    docker login
    # Username: meu_usuario
    # Password: ******
    
    ```
    
2. **Login em um registry privado**
    
    ```bash
    docker login myregistry.example.com
    # Username: ju
    # Password: ******
    
    ```
    
3. **Login com senha na linha de comando**
    
    ```bash
    docker login -u ju -p minhaSenhaSecreta myregistry.example.com
    
    ```
    
4. **Login seguro via stdin**
    
    ```bash
    echo "minhaSenhaSecreta" | docker login -u ju --password-stdin myregistry.example.com
    
    ```
    

---

## 7. Tabela de referência rápida

| Componente | Sintaxe | Descrição |
| --- | --- | --- |
| Comando base | `docker login [OPTIONS] [SERVER]` | Autentica seu cliente Docker em um registry e salva token local. |
| Parâmetro | `SERVER` | Endpoint do registry (por ex., `registry.example.com`). |
| Opção | `-u, --username <user>` | Nome de usuário ou ID no registry. |
| Opção | `-p, --password <pwd>` | Senha ou Personal Access Token (PAT). |
| Opção | `--password-stdin` | Lê a senha/PAT via stdin (evita expor no histórico de comandos). |

---

Pronto! Agora você está apto a autenticar seu Docker em qualquer registry com segurança e praticidade. Se precisar de detalhes adicionais, só avisar!