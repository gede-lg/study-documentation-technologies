# Inspect

OlÃ¡ GedÃª! A.R.I.A. na Ã¡rea para te ajudar a dominar o `docker image inspect`.

Este comando Ã© a sua lupa ğŸ•µï¸ para investigar todos os detalhes de uma ou mais imagens Docker. Ele retorna uma grande quantidade de informaÃ§Ãµes em formato JSON por padrÃ£o, incluindo camadas, variÃ¡veis de ambiente, pontos de montagem e muito mais.

Vamos detalhar cada parte do comando.

---

### **Sintaxe Geral**

A estrutura bÃ¡sica do comando Ã©:

```bash
docker image inspect [OPÃ‡Ã•ES] IMAGEM [IMAGEM...]

```

- **`IMAGEM [IMAGEM...]`**: Aqui vocÃª especifica qual(is) imagem(ns) deseja inspecionar. VocÃª pode usar o **Nome:Tag** da imagem ou o **ID da Imagem**. Ã‰ possÃ­vel listar vÃ¡rias imagens separadas por espaÃ§o.

---

### **OpÃ§Ãµes (OPTIONS)**

As opÃ§Ãµes permitem que vocÃª refine e formate a saÃ­da do comando.

### **`f`, `-format <string>`**

Esta Ã© a opÃ§Ã£o mais poderosa. Ela permite que vocÃª formate a saÃ­da usando um template Go, em vez de receber o JSON completo. Isso Ã© extremamente Ãºtil para extrair apenas a informaÃ§Ã£o que vocÃª precisa, facilitando a automaÃ§Ã£o e a leitura.

- **Sintaxe**: `-format '{{ .Campo.SubCampo }}'`
- **Finalidade**: Filtrar e exibir apenas dados especÃ­ficos do JSON de saÃ­da.

**Valores possÃ­veis:**

- **`'json'`**: Retorna a saÃ­da no formato JSON completo e bem indentado.
- **`'TEMPLATE'`**: Utiliza uma string de formataÃ§Ã£o Go para extrair informaÃ§Ãµes. A sintaxe `{{ }}` Ã© usada para interpolar os dados. VocÃª navega pela estrutura do JSON usando um ponto (`.`) para acessar os campos.

**Exemplo PrÃ¡tico:**

Para obter apenas o endereÃ§o IP de um contÃªiner em execuÃ§Ã£o (usando `docker inspect` que tem a mesma flag de formataÃ§Ã£o):
`docker inspect --format='{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' nome_do_container`

Para uma imagem, vocÃª poderia querer saber a arquitetura dela:
`docker image inspect --format='{{.Architecture}}' ubuntu:latest`

---

### **`-platform <string>`**

Esta opÃ§Ã£o Ã© utilizada para inspecionar uma imagem especÃ­fica dentro de uma "imagem multi-plataforma" (multi-platform image). Imagens como a oficial do `golang` ou `python` no Docker Hub geralmente tÃªm versÃµes para diferentes arquiteturas (como `linux/amd64`, `linux/arm64`).

- **Sintaxe**: `-platform 'os[/arch[/variant]]'`
- **Finalidade**: Selecionar uma variaÃ§Ã£o de plataforma especÃ­fica de uma imagem para inspecionar.

**Exemplo PrÃ¡tico:**

Se vocÃª estiver em um Mac com chip M1 (arquitetura `arm64`) mas precisar inspecionar a versÃ£o da imagem `golang` para a arquitetura `amd64`, vocÃª usaria:

```bash
docker image inspect --platform 'linux/amd64' golang:1.22

```

Se vocÃª nÃ£o especificar a plataforma, o Docker inspecionarÃ¡ a versÃ£o que corresponde Ã  arquitetura do seu sistema. O comando darÃ¡ erro se a imagem nÃ£o for multi-plataforma ou se a plataforma especificada nÃ£o existir.

---

### **Tabela Resumo**

| ParÃ¢metro | Sintaxe | Finalidade | Exemplo de Uso |
| --- | --- | --- | --- |
| **`IMAGEM`** | `NOME:TAG` ou `ID` | Identificar a imagem a ser inspecionada. | `docker image inspect ubuntu:latest` |
| **`-f`, `--format`** | `'{{ .Campo.SubCampo }}'` | Formatar a saÃ­da para extrair informaÃ§Ãµes especÃ­ficas. | `docker image inspect --format='{{.Os}}/{{.Architecture}}' nginx` |
| **`--platform`** | `'os[/arch[/variant]]'` | Especificar a plataforma de uma imagem multi-plataforma. | `docker image inspect --platform 'linux/arm64' python:3.10` |

Espero que esta explicaÃ§Ã£o detalhada ajude vocÃª a utilizar o `docker image inspect` com mais confianÃ§a nos seus projetos, GedÃª! Se tiver mais alguma dÃºvida, Ã© sÃ³ chamar a A.R.I.A. aqui. ğŸ˜‰