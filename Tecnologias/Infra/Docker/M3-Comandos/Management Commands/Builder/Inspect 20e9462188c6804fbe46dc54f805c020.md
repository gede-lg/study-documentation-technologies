# Inspect

Segue uma explicação detalhada e estruturada de todos os parâmetros do comando:

---

## 1. Visão Geral

O comando `docker buildx inspect` (ou via alias `docker builder inspect`) serve para inspecionar uma instância de *builder* do BuildKit no Docker. Ele exibe configurações e status do construtor atualmente configurado ou de um construtor específico, caso seja informado.

---

## 2. Sintaxe de Uso

```bash
docker buildx inspect [OPTIONS] [NAME]

```

- **NAME** (opcional): nome da instância de builder a inspecionar.
    - Se omitido, inspeciona o builder “default” ou o configurado atualmente.

---

## 3. Opções

| Opção | Forma Abreviada | Argumento | Descrição | Valor Padrão |
| --- | --- | --- | --- | --- |
| `--bootstrap` | — | — | Garante que o builder esteja iniciado (bootstrapped) antes de exibir as informações. | — |
| `--builder` *string* | — | nome do builder | Substitui o builder configurado pelo especificado. | `"default"` |
| `-D`, `--debug` | `-D` | — | Habilita logs de depuração (debug) durante a inspeção, mostrando mais detalhes. | desativado |

> Ocultos: comandos e flags experimentais só aparecem se a variável de ambiente BUILDX_EXPERIMENTAL=1 estiver exportada no ambiente.
> 

---

## 4. Detalhamento de Cada Parâmetro

### 4.1 `-bootstrap`

- **Finalidade**: Antes de inspecionar, assegura que todos os nós e drivers do builder estejam conectados e operacionais.
- **Quando usar**: Útil em scripts ou pipelines CI/CD para garantir que o builder esteja pronto antes de coletar informações.

### 4.2 `-builder string`

- **Finalidade**: Permite direcionar o comando a uma instância nomeada diferente da padrão.
- **Sintaxe**:
    
    ```bash
    docker buildx inspect --builder meu-builder
    
    ```
    
- **Caso de uso**: Quando você gerencia vários builders (por exemplo, um para múltiplas arquiteturas, outro local).

### 4.3 `D, --debug`

- **Finalidade**: Liga o modo debug, exibindo mensagens detalhadas de log do BuildKit e possíveis erros internos.
- **Sintaxe**:
    
    ```bash
    docker buildx inspect --debug
    # ou
    docker buildx inspect -D
    
    ```
    
- **Quando usar**: Para diagnosticar falhas ou comportamentos inesperados no builder.

---

## 5. Exemplos de Uso

1. **Inspecionar o builder padrão**
    
    ```bash
    docker buildx inspect
    
    ```
    
2. **Inspecionar um builder chamado “ci-builder”**
    
    ```bash
    docker buildx inspect --builder ci-builder
    
    ```
    
3. **Forçar bootstrap antes de inspecionar**
    
    ```bash
    docker buildx inspect --bootstrap
    
    ```
    
4. **Inspeção com logs de debug**
    
    ```bash
    docker buildx inspect -D
    
    ```
    
5. **Combinação de flags**
    
    ```bash
    docker buildx inspect --builder multiarch --bootstrap --debug
    
    ```
    

---

## 6. Como Exibir Flags Experimentais

Algumas opções do `buildx` ainda estão em fase experimental e não aparecem por padrão. Para torná-las visíveis:

```bash
export BUILDX_EXPERIMENTAL=1
docker buildx inspect --help

```

Isso habilita a listagem completa de comandos/flags ainda em teste.

---

### Resumo em Tabela

| Comando | Descrição |
| --- | --- |
| `docker buildx inspect` | Inspeciona o builder atual (“default”). |
| `docker buildx inspect <NAME>` | Inspeciona o builder especificado por `<NAME>`. |
| `--bootstrap` | Garante inicialização (bootstrap) do builder antes da inspeção. |
| `--builder <nome>` | Usa o builder `<nome>` em vez do configurado por padrão. |
| `-D`, `--debug` | Mostra logs detalhados de depuração durante a inspeção. |
| `export BUILDX_EXPERIMENTAL=1` + `--help` | Exibe também comandos e flags experimentais do BuildX. |

---

Com isso, você tem um guia completo sobre sintaxes, finalidades e exemplos de uso de cada parâmetro do `docker buildx inspect`. Qualquer dúvida ou se precisar de mais exemplos, só avisar!