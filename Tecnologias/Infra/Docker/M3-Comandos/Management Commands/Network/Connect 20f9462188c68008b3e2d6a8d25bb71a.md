# Connect

## Visão Geral

O comando `docker network connect` adiciona um container em execução a uma rede Docker existente, permitindo que ele se comunique com outros containers nessa mesma rede. É útil para integrar containers já lançados em novos domínios de rede ou isolar fluxos de tráfego em ambientes multi-rede. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/network/connect/?utm_source=chatgpt.com))

---

## Sintaxe

```bash
docker network connect [OPÇÕES] REDE CONTAINER

```

- **REDE**: nome ou ID da rede Docker à qual o container será ligado.
- **CONTAINER**: nome ou ID do container que será conectado. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/network/connect/?utm_source=chatgpt.com))

---

## Parâmetros

| Parâmetro | Descrição |
| --- | --- |
| `REDE` | Identificador da rede Docker (ex.: `bridge`, `my-net`, ou o ID retornado por `docker network ls`). |
| `CONTAINER` | Nome ou ID do container que você deseja conectar à rede. |

---

## Opções

| Opção | Descrição |
| --- | --- |
| `--alias strings` | Define um ou mais **aliases** dentro da rede para resolver o container por esses nomes. |
| `--driver-opt strings` | Especifica opções de driver de rede (por ex.: sysctls por interface via `com.docker.network.endpoint.sysctls`). |
| `--gw-priority int` | Define a prioridade de gateway (valores positivos/negativos), onde o maior valor se torna o gateway padrão. |
| `--ip string` | Atribui um **endereço IPv4** estático ao container dentro da rede (ex.: `172.30.100.104`). |
| `--ip6 string` | Atribui um **endereço IPv6** estático ao container (ex.: `2001:db8::33`). |
| `--link list` | (Legado) Cria um link de container para outro, semelhante à flag `--link` do `docker run`. |
| `--link-local-ip strings` | Define um endereço link-local adicional para o container na rede. |

Todas as opções estão descritas na documentação oficial do Docker ([docs.docker.com](https://docs.docker.com/reference/cli/docker/network/connect/?utm_source=chatgpt.com))

---

## Exemplos de Uso

1. **Conectar um container em execução**
    
    ```bash
    docker network connect multi-host-network container1
    
    ```
    
    Esta chamada conecta o container `container1` à rede `multi-host-network`. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/network/connect/?utm_source=chatgpt.com))
    
2. **Especificar IP estático**
    
    ```bash
    docker network connect --ip 10.10.36.122 multi-host-network container2
    
    ```
    
    Conecta `container2` à rede e fixa o IP `10.10.36.122`. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/network/connect/?utm_source=chatgpt.com))
    
3. **Criar um alias de rede**
    
    ```bash
    docker network connect --alias db multi-host-network container2
    
    ```
    
    Dentro de `multi-host-network`, `container2` pode ser acessado pelo nome `db`. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/network/connect/?utm_source=chatgpt.com))
    
4. **Usar opção de driver para sysctls**
    
    ```bash
    docker network connect \
      --driver-opt "com.docker.network.endpoint.sysctls=net.ipv4.conf.IFNAME.log_martians=1" \
      multi-host-network container2
    
    ```
    
    Adiciona um sysctl específico à interface do container. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/network/connect/?utm_source=chatgpt.com))
    

---

> Dica: Após conectar, verifique o status com:
> 
> 
> ```bash
> docker network inspect multi-host-network
> 
> ```
> 
> e use `docker network disconnect` para remover o container da rede quando não for mais necessário.
>