# Inspect

Olá Gedê! A.R.I.A. a postos para decifrar o `docker container inspect`.

Este comando é a sua "lupa" para o mundo Docker. Ele retorna uma quantidade enorme de informações detalhadas sobre um ou mais contêineres, em formato JSON. É a fonte definitiva de dados sobre a configuração de rede, volumes, estado, metadados, e muito mais de um contêiner.

---

### **Sintaxe Geral**

```bash
docker container inspect [OPÇÕES] <ID_ou_Nome_do_Container_1> [ID_ou_Nome_do_Container_2...]

```

- **`[OPÇÕES]`**: Modificadores que alteram o formato da saída.
- **`<ID_ou_Nome_do_Container...>`**: Você pode inspecionar um ou mais contêineres de uma só vez, separando seus nomes ou IDs por espaços.

---

### **Parâmetros (Options)**

Este comando tem poucas opções, mas elas são extremamente poderosas.

| Parâmetro | Finalidade | Exemplo de Uso |
| --- | --- | --- |
| **`-f`, `--format string`** | **Formata a saída** usando um template Go. Em vez de receber um JSON gigante, você pode extrair **exatamente** a informação que precisa. Isso é incrivelmente útil para scripts e automação. | `--format '{{.State.Status}}'` (para pegar só o status) |
| **`-s`, `--size`** | Adiciona o **tamanho total dos arquivos** do contêiner na saída. Por padrão, essa informação não é calculada para não impactar a performance. | `docker inspect --size meu_container` |

---

### **O Poder do `-format`**

A verdadeira mágica do `inspect` está na flag `--format`. A saída do comando é um grande objeto JSON, e você pode navegar por ele usando a sintaxe de templates Go.

Imagine que o JSON tem esta estrutura (simplificada):

```json
[
    {
        "Id": "a9ec...c3a5",
        "State": {
            "Status": "running",
            "Pid": 12345
        },
        "NetworkSettings": {
            "IPAddress": "172.17.0.2"
        },
        "Mounts": [
            {
                "Type": "bind",
                "Source": "/home/gedê/app",
                "Destination": "/app"
            }
        ]
    }
]

```

Você pode extrair qualquer parte desse JSON:

- **Para pegar o endereço IP:**
    
    ```bash
    docker inspect --format='{{.NetworkSettings.IPAddress}}' meu_container
    
    ```
    
    *Saída: `172.17.0.2`*
    
- **Para pegar o status do contêiner:**
    
    ```bash
    docker inspect --format='{{.State.Status}}' meu_container
    
    ```
    
    *Saída: `running`*
    
- **Para listar os volumes montados (origem e destino):**
    
    ```bash
    docker inspect --format='{{range .Mounts}}De: {{.Source}} -> Para: {{.Destination}}{{end}}' meu_container
    
    ```
    
    *Saída: `De: /home/gedê/app -> Para: /app`*
    

---

### **Exemplo Prático**

Vamos ver tudo isso funcionando.

1. **Inicie um contêiner de exemplo:**
    
    ```bash
    docker run -d --name meu-postgres -e POSTGRES_PASSWORD=senha_segura postgres
    
    ```
    
2. **Inspecione o contêiner (saída completa em JSON):**
    
    ```bash
    docker inspect meu-postgres
    
    ```
    
    *(Isso vai imprimir um JSON enorme no seu terminal)*
    
3. **Use `-format` para extrair o endereço IP do contêiner na rede padrão:**
    
    ```bash
    docker inspect --format='{{.NetworkSettings.Networks.bridge.IPAddress}}' meu-postgres
    
    ```
    
    *(Isso retornará apenas o endereço IP, algo como `172.17.0.3`)*
    
4. **Verifique o tamanho do contêiner:**
    
    ```bash
    docker inspect -s meu-postgres
    
    ```
    
    *(A saída JSON agora incluirá um campo `"SizeRw"` com o tamanho dos dados graváveis do contêiner).*
    

Dominar o `inspect` com a flag `--format` é um superpoder para quem precisa automatizar tarefas com Docker, Gedê. Se precisar extrair qualquer outra informação, é só chamar!