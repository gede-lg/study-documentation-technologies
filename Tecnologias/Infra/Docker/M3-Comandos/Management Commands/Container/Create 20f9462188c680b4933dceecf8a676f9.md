# Create

E aí, Gedê! A.R.I.A. de volta. Você trouxe um comando com muitas opções, o `docker container create`. Vamos organizar isso.

O comando `docker container create` **prepara um contêiner**, mas **não o inicia**. Pense nele como o primeiro passo do `docker run`. Enquanto `docker run` cria e já inicia o contêiner em um só comando, o `docker create` apenas monta o contêiner e o deixa pronto, aguardando o comando `docker start` para executá-lo.

Isso é útil quando você quer configurar um contêiner com antecedência ou em scripts de automação onde a criação e a execução são etapas distintas.

---

### **Sintaxe Geral**

```bash
docker container create [OPÇÕES] <IMAGEM> [COMANDO] [ARGUMENTOS...]

```

- **`<IMAGEM>`**: A imagem que será usada como base para o contêiner (ex: `ubuntu:22.04` ou `golang:1.22-alpine`).
- **`[COMANDO]` (opcional)**: Sobrescreve o comando padrão (`CMD`) definido na imagem.
- **`[ARGUMENTOS...]` (opcional)**: Argumentos para o comando que você especificou.

---

### **Opções Mais Comuns (Agrupadas por Finalidade)**

A lista de flags é gigante, então agrupei as mais importantes que você, como desenvolvedor, provavelmente usará.

### **Identificação e Execução Básica**

| Parâmetro | Finalidade | Exemplo de Uso |
| --- | --- | --- |
| `--name string` | Atribui um **nome legível** ao contêiner. Facilita muito a sua identificação. | `--name meu-banco-de-dados` |
| `-i`, `--interactive` | Mantém o `STDIN` (entrada padrão) **aberto**, permitindo interatividade. | `-i` |
| `-t`, `--tty` | Aloca um **terminal** (pseudo-TTY), essencial para executar um shell interativo. | `-t` (geralmente usado como `-it`) |
| `--rm` | **Remove automaticamente o contêiner** quando ele é parado. Ótimo para tarefas temporárias. | `--rm` |
| `--restart string` | Define uma **política de reinicialização** (`no`, `on-failure`, `unless-stopped`, `always`). | `--restart unless-stopped` |

---

### **Rede (Networking)**

| Parâmetro | Finalidade | Exemplo de Uso |
| --- | --- | --- |
| `-p`, `--publish list` | **Publica/mapeia uma porta** do contêiner para uma porta do seu computador (host). | `-p 8080:80` (mapeia a 8080 do host para a 80 do contêiner) |
| `-P`, `--publish-all` | Publica **todas as portas expostas** pela imagem em portas aleatórias no host. | `-P` |
| `--network network` | Conecta o contêiner a uma **rede específica** do Docker. | `--network minha-rede-privada` |
| `--add-host list` | Adiciona uma **entrada no `/etc/hosts`** do contêiner (host:ip). | `--add-host db.local:172.17.0.5` |
| `-h`, `--hostname` | Define o **nome do host** *dentro* do contêiner. | `-h meu-backend-app` |

---

### **Volumes e Armazenamento**

| Parâmetro | Finalidade | Exemplo de Uso |
| --- | --- | --- |
| `-v`, `--volume list` | **Mapeia um diretório** do seu computador (host) para um diretório dentro do contêiner. Essencial para persistir dados e injetar código. | `-v /home/gedê/app:/app` |
| `--mount mount` | Uma sintaxe mais **explícita e poderosa** para montar volumes, com mais opções. | `--mount type=bind,source="$(pwd)",target=/app` |
| `-w`, `--workdir string` | Define o **diretório de trabalho** inicial dentro do contêiner. | `-w /app` |
| `--read-only` | Monta o sistema de arquivos do contêiner como **somente leitura**. | `--read-only` |

---

### **Variáveis de Ambiente e Comandos**

| Parâmetro | Finalidade | Exemplo de Uso |
| --- | --- | --- |
| `-e`, `--env list` | Define uma **variável de ambiente** dentro do contêiner. | `-e "DATABASE_URL=postgres://user:pass@host:5432/db"` |
| `--env-file list` | Lê as variáveis de ambiente de um **arquivo de texto** (ex: `.env`). | `--env-file ./backend.env` |
| `--entrypoint string` | **Sobrescreve o `ENTRYPOINT`** da imagem, que é o executável principal. | `--entrypoint /bin/sh` |

---

### **Exemplo Prático: Criar e Iniciar**

Vamos criar um contêiner NGINX com um nome e uma porta mapeada, mas sem iniciá-lo.

1. **Crie o contêiner:**
    
    ```bash
    docker create --name meu-servidor-web -p 8080:80 nginx:latest
    
    ```
    
    - Isso retornará o ID longo do contêiner. Se você executar `docker ps -a`, verá o `meu-servidor-web` com o status `Created`.
2. **Inicie o contêiner:**
    
    ```bash
    docker start meu-servidor-web
    
    ```
    
    - Agora, se executar `docker ps`, verá que ele está `Up` e rodando. Você pode acessar `http://localhost:8080` no seu navegador.

Essa abordagem em duas etapas te dá mais controle sobre a configuração e o ciclo de vida dos seus contêineres.

Qualquer outra dúvida, Gedê, pode mandar!