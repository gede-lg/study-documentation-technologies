# Attach

## Visão Geral

O comando `docker container attach` conecta os seus streams locais (STDIN, STDOUT e STDERR) a um container em execução, permitindo visualizar sua saída ou interagir diretamente com o processo principal (`ENTRYPOINT`/`CMD`) como se estivesse dentro do terminal do container. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/container/attach/?utm_source=chatgpt.com), [docker-docs.uclv.cu](https://docker-docs.uclv.cu/engine/reference/commandline/attach/?utm_source=chatgpt.com))

---

## Sintaxe

```bash
docker container attach [OPÇÕES] CONTAINER

```

- **CONTAINER**
    
    ID ou nome do container alvo.
    

---

## Aliases

- `docker container attach`
- `docker attach`

---

## Descrição Detalhada

Use este comando quando precisar:

- **Ver em tempo real** logs e saídas de um serviço que já está rodando em modo desacoplado (detached).
- **Interagir** com o processo em execução, enviando entradas via teclado, caso o container aceite STDIN.
- **Diagnosticar** comportamento de aplicações foreground sem parar o container. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/container/attach/?utm_source=chatgpt.com))

> Obs.:
> 
> - O `attach` sempre se liga ao processo principal definido pelo `ENTRYPOINT` ou `CMD`.
> - É possível conectar-se múltiplas vezes ao mesmo container a partir de sessões diferentes.
> - Para desanexar sem encerrar o container, use a sequência padrão `CTRL-P CTRL-Q` (ou a definida em `-detach-keys`). ([docs.docker.com](https://docs.docker.com/reference/cli/docker/container/attach/?utm_source=chatgpt.com))

---

## Opções

| Opção | Padrão | Descrição |
| --- | --- | --- |
| `--detach-keys string` | `ctrl-p,ctrl-q` | Sequência de tecla personalizada para desanexar sem parar o container. |
| `--no-stdin` | `false` | Não anexa o **STDIN**; apenas **STDOUT** e **STDERR** serão conectados. |
| `--sig-proxy` | `true` | Encaminha sinais do cliente (ex.: `SIGINT` de `CTRL-C`) para o processo dentro do container; `false` desativa esse proxy. |

*Citações de referência das opções:* ([docker-docs.uclv.cu](https://docker-docs.uclv.cu/engine/reference/commandline/container_attach/?utm_source=chatgpt.com))

---

## Exemplos de Uso

1. **Anexar a um container pelo nome**
    
    ```bash
    docker container attach webapp
    
    ```
    
    Fica bloqueado até você desanexar (e o container continua rodando).
    
2. **Anexar a um container pelo ID**
    
    ```bash
    docker container attach a1b2c3d4e5f6
    
    ```
    
3. **Desanexar com outra sequência de teclas**
    
    ```bash
    docker container attach --detach-keys="ctrl-\\,ctrl-." webapp
    
    ```
    
    Use `CTRL+\` então `CTRL+.` para sair da sessão sem parar o container.
    
4. **Anexar somente saída e erros**
    
    ```bash
    docker container attach --no-stdin myservice
    
    ```
    
    Impede que qualquer entrada digitada seja enviada ao container.
    
5. **Não encaminhar sinais de interrupção**
    
    ```bash
    docker container attach --sig-proxy=false backend
    
    ```
    
    `CTRL-C` interrompe apenas a sessão de attach, sem enviar `SIGINT` ao processo do container.
    

---

> Dica:
> 
> 
> Combine `docker attach` com `docker logs --follow` para alternar entre logs históricos e interação em tempo real, conforme a necessidade do seu fluxo de depuração.
>