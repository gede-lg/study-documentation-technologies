# Wait

## Visão Geral

O comando `docker container wait` (ou seu alias `docker wait`) bloqueia a execução até que um ou mais containers sejam interrompidos, e então imprime seus códigos de saída. É útil em scripts ou fluxos de trabalho que dependem da conclusão de um processo dentro de um container antes de prosseguir. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/container/wait/?utm_source=chatgpt.com))

---

## Sintaxe

```bash
docker container wait CONTAINER [CONTAINER...]

```

- **CONTAINER [CONTAINER…]**: nome(s) ou ID(s) do container (ou containers) a aguardar. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/container/wait/?utm_source=chatgpt.com))

---

## Parâmetros

| Parâmetro | Descrição |
| --- | --- |
| `CONTAINER` | Nome ou ID do container cujo término você quer aguardar. |
| `[CONTAINER...]` | Lista opcional de containers adicionais; a chamada só retorna após **todos** terem parado. |

---

## Comportamento e Saída

- Ao executar o comando, o terminal “fica pendurado” até que o(s) container(s) alvo(s) saiam do estado de execução.
- Quando cada container termina, seu código de saída (exit code) é exibido em uma nova linha.
- Códigos de saída seguem a convenção Unix: `0` indica sucesso; valores diferentes sinalizam erros ou condições específicas. ([dhrpdocs.readthedocs.io](https://dhrpdocs.readthedocs.io/en/stable/commandline/command/wait/?utm_source=chatgpt.com))

---

## Exemplos de Uso

1. **Aguardar um único container**
    
    ```bash
    docker run -d --name sleep30 alpine sleep 30
    docker container wait sleep30
    
    ```
    
    O segundo comando bloqueia até o `sleep30` terminar e então imprime `0`. ([docs.docker.com](https://docs.docker.com/reference/cli/docker/container/wait/?utm_source=chatgpt.com))
    
2. **Aguardar múltiplos containers**
    
    ```bash
    docker run -d --name a alpine sleep 10
    docker run -d --name b alpine sleep 15
    docker container wait a b
    
    ```
    
    Bloqueia até ambos os containers pararem e exibe, por exemplo:
    
    ```
    0
    0
    ``` :contentReference[oaicite:4]{index=4}
    
    ```
    
3. **Uso em scripts**
    
    ```bash
    #!/bin/bash
    docker run -d --name job1 myjob:latest
    echo "Aguardando job1 terminar..."
    exit_code=$(docker container wait job1)
    echo "job1 finalizou com código $exit_code"
    if [ "$exit_code" -ne 0 ]; then
      echo "Erro detectado — abortando pipeline."
      exit 1
    fi
    # prossegue com as próximas etapas...
    
    ```
    

---

> Dica: Combine docker container wait com gatilhos condicionais em seus scripts para tratamento automático de falhas, reinícios condicionais ou limpeza controlada de recursos após o término de tasks em containers.
>