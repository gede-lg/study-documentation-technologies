# Prune

Olá Gedê! A.R.I.A. aqui para te ajudar a manter o ambiente Docker limpo e organizado.

O comando `docker container prune` é uma ferramenta de limpeza. Sua função é **remover todos os contêineres que estão parados (`stopped`)**. Com o tempo, é comum acumularmos contêineres que foram usados para testes ou tarefas rápidas e que agora só ocupam espaço. Este comando limpa todos eles de uma só vez.

---

### **Sintaxe Geral**

```bash
docker container prune [OPÇÕES]

```

O comando é simples e não requer o nome de um contêiner, pois ele atua sobre *todos* os que estão parados.

---

### **Parâmetros (Options)**

| Parâmetro | Finalidade | Exemplo de Uso |
| --- | --- | --- |
| **`-f`, `--force`** | **Força a execução sem pedir confirmação**. Por padrão, o Docker perguntará se você tem certeza que deseja remover os contêineres. Usar `-f` pula essa etapa. | `docker container prune -f` |
| **`--filter filter`** | **Aplica um filtro** para restringir quais contêineres parados serão removidos. O filtro mais comum é o `until`. | `docker container prune --filter "until=24h"` |

### **Detalhes do Filtro `until`**

O filtro `until` é particularmente útil. Ele permite remover contêineres que foram parados *antes* de um determinado ponto no tempo.

- `-filter "until=24h"`: Remove contêineres parados há mais de 24 horas.
- `-filter "until=2025-06-01T00:00:00"`: Remove contêineres parados antes da data e hora especificadas.

---

### **Exemplo Prático**

Vamos simular um cenário para ver o comando em ação.

1. **Crie e rode alguns contêineres:**
    
    ```bash
    docker run -d --name app1 nginx
    docker run -it --name app2 ubuntu bash
    # (Dentro do app2, pressione CTRL+D para pará-lo)
    docker run -d --name app3 redis
    
    ```
    
2. **Pare um dos contêineres:**
    
    ```bash
    docker stop app3
    
    ```
    
3. **Liste todos os contêineres para ver o estado atual:**
    
    ```bash
    docker ps -a
    
    ```
    
    Você verá que `app1` está rodando (`Up`), enquanto `app2` e `app3` estão parados (`Exited`).
    
4. **Execute o comando de limpeza:**
    
    ```bash
    docker container prune
    
    ```
    
    O Docker vai te mostrar uma mensagem de aviso e pedir confirmação:
    
    ```
    WARNING! This will remove all stopped containers.
    Are you sure you want to continue? [y/N]
    
    ```
    
    Se você digitar `y`, ele removerá `app2` e `app3`.
    
5. **Verifique o resultado:**
    
    ```bash
    docker ps -a
    
    ```
    
    Agora, você verá apenas o contêiner `app1`, que estava em execução.
    

Usar `docker container prune` periodicamente é uma ótima prática para liberar espaço em disco e manter seu ambiente de desenvolvimento limpo.

Se precisar de mais alguma coisa, Gedê, é só chamar!