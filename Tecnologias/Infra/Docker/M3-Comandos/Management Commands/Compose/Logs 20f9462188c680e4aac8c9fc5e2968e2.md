# Logs

Aqui está uma explicação detalhada e estruturada de **todos** os parâmetros do comando:

---

## 1. Visão Geral do Comando

O `docker compose logs` serve para **visualizar o output (logs) dos containers** gerenciados pelo seu arquivo `docker-compose.yml`. Permite filtrar e formatar esses logs de várias formas.

```bash
docker compose logs [OPÇÕES] [SERVIÇOS...]

```

- **SERVIÇOS...** – nomes dos serviços definidos no Compose (se omitido, mostra todos).
- Se múltiplas réplicas existirem para um serviço, use `-index` para escolher qual container mostrar.

---

## 2. Sintaxe Básica

```
Usage:  docker compose logs [OPTIONS] [SERVICE...]

View output from containers

```

- `[OPTIONS]`: parâmetros que controlam formato, intervalo de tempo, quantidade de linhas etc.
- `[SERVICE...]`: lista opcional de serviços cujos logs você quer ver.

---

## 3. Parâmetros / Opções

| Opção | Abreviação | Tipo de Valor | Descrição | Exemplo |
| --- | --- | --- | --- | --- |
| `--dry-run` | — | *booleano* | Executa o comando em modo simulação, **sem** efetuar a leitura real dos logs. | `docker compose logs --dry-run` |
| `-f`, `--follow` | `-f` | *booleano* | Segue os logs em tempo real (modo “tail -f”), atualizando conforme novos registros são gerados. | `docker compose logs -f` |
| `--index int` | — | *inteiro* | Índice do container dentro de um serviço que possui múltiplas réplicas (começa em 1). | `docker compose logs --index 2 web` |
| `--no-color` | — | *booleano* | Desabilita coloração ANSI, produzindo saída monocromática (útil para arquivos ou pipelines CI). | `docker compose logs --no-color` |
| `--no-log-prefix` | — | *booleano* | Remove o prefixo (serviço/nome do container) de cada linha de log, deixando apenas a mensagem em si. | `docker compose logs --no-log-prefix` |
| `--since string` | — | *string* | Mostra logs **a partir** de um timestamp absoluto (RFC 3339) ou relativo (ex.: `42m`, `2h`, `1d`). | `docker compose logs --since 2025-06-09T15:00:00Zdocker compose logs --since 30m` |
| `-n`, `--tail string` | `-n` | *string* | Quantidade de linhas finais para cada container (padrão `all`). Aceita número ou `all`. | `docker compose logs --tail 100` |
| `-t`, `--timestamps` | `-t` | *booleano* | Exibe o **carimbo de data/hora** (timestamp) antes de cada linha de log. | `docker compose logs --timestamps` |
| `--until string` | — | *string* | Mostra logs **até** um timestamp absoluto ou relativo (idem `--since`). | `docker compose logs --until 10m` |

---

## 4. Exemplos de Uso

1. **Ver todos os logs** de todos os serviços:
    
    ```bash
    docker compose logs
    
    ```
    
2. **Seguir** os logs em tempo real (como `tail -f`):
    
    ```bash
    docker compose logs --follow
    
    ```
    
3. **Exibir só as 50 últimas linhas**, com timestamps:
    
    ```bash
    docker compose logs --tail 50 --timestamps
    
    ```
    
4. **Ver logs a partir de 1 hora atrás** (timestamp relativo):
    
    ```bash
    docker compose logs --since 1h
    
    ```
    
5. **Logs do serviço “api” somente**, sem cores e sem prefixos:
    
    ```bash
    docker compose logs api --no-color --no-log-prefix
    
    ```
    
6. **Simular o comando** (dry run):
    
    ```bash
    docker compose logs --dry-run
    
    ```
    
7. **Selecionar a 2ª réplica** do serviço “worker”:
    
    ```bash
    docker compose logs worker --index 2
    
    ```
    

---

## 5. Dicas Adicionais

- Combine `-follow` com `-tail` para já começar “na ponta” e acompanhando novos logs.
- Use timestamps (`t`) para correlacionar eventos em diferentes containers.
- Em scripts de CI/CD, remova cores (`-no-color`) e prefixos (`-no-log-prefix`) para facilitar parsing automático.

---

Com essa estrutura você tem uma visão completa de sintaxes, finalidades e exemplos práticos de **todos** os parâmetros do `docker compose logs`.