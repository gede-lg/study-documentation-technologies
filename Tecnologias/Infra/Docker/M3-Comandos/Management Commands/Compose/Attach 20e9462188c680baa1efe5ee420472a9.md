# Attach

## Visão Geral do Comando

O comando `docker compose attach` é utilizado para conectar os fluxos locais de entrada (stdin), saída (stdout) e erro (stderr) a um container em execução de um determinado serviço.

## Sintaxe Básica

```
docker compose attach [OPTIONS] SERVICE
```

## Parâmetros e Opções

| **Opção** | **Tipo** | **Padrão** | **Descrição** |
| --- | --- | --- | --- |
| --detach-keys | string | - | Define uma sequência personalizada de teclas para desconectar do container |
| --dry-run | boolean | false | Executa o comando em modo de simulação, sem realizar alterações reais |
| --index | integer | - | Especifica o índice do container quando o serviço possui múltiplas réplicas |
| --no-stdin | boolean | false | Desativa a conexão com a entrada padrão (STDIN) |
| --sig-proxy | boolean | true | Habilita ou desabilita o encaminhamento de sinais para o processo |

## Detalhamento das Opções

### --detach-keys

Esta opção permite personalizar a sequência de teclas utilizada para desconectar do container. Por padrão, a sequência é CTRL-p CTRL-q.

```
docker compose attach --detach-keys="ctrl-e,e" my-service
```

### --dry-run

Útil para testar o comando sem executá-lo efetivamente. Mostra o que seria executado sem realizar as ações.

```
docker compose attach --dry-run my-service
```

### --index

Quando um serviço possui múltiplas réplicas, esta opção permite especificar qual instância você deseja conectar.

```
docker compose attach --index=2 my-service
```

### --no-stdin

Desativa a entrada padrão, útil quando você quer apenas observar a saída do container sem interagir com ele.

```
docker compose attach --no-stdin my-service
```

### --sig-proxy

Controla se os sinais recebidos pelo processo do Docker Compose devem ser encaminhados para o container. Por padrão é true.

```
docker compose attach --sig-proxy=false my-service
```

## Exemplos de Uso

```
# Conectar a um serviço específico
docker compose attach web-service

# Conectar a uma réplica específica sem entrada padrão
docker compose attach --index=1 --no-stdin web-service

# Conectar com teclas de desconexão personalizadas
docker compose attach --detach-keys="ctrl-e,e" web-service

```

<aside>
⚠️ Importante: Ao utilizar o comando attach, você está se conectando diretamente ao processo principal do container. Se este processo terminar, o container também será encerrado.

</aside>