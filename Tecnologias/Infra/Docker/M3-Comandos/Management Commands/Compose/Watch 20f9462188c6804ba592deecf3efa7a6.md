# Watch

Olá Gedê!

Claro, aqui está uma explicação detalhada sobre o comando `docker compose watch` e seus parâmetros, como você pediu.

O comando `docker compose watch` é uma ferramenta extremamente útil durante o desenvolvimento. Ele monitora os arquivos do seu projeto e, ao detectar qualquer alteração, reconstrói automaticamente a imagem e reinicia o serviço correspondente que está rodando no Docker. Isso elimina a necessidade de parar e iniciar manualmente seus contêineres a cada mudança no código, agilizando muito o ciclo de desenvolvimento.

---

### **Sintaxe Geral**

A estrutura básica do comando é:

```bash
docker compose watch [OPÇÕES] [SERVIÇO...]

```

- **[OPÇÕES]**: Modificadores que alteram o comportamento do comando.
- **[SERVIÇO...]**: O nome de um ou mais serviços (definidos no seu arquivo `docker-compose.yml`) que você deseja monitorar. Se nenhum serviço for especificado, ele monitorará todos os serviços que possuem uma seção `build` definida.

---

### **Parâmetros (Options)**

Abaixo estão os detalhes de cada opção disponível para o `docker compose watch`.

| Parâmetro | Sintaxe de Uso | Finalidade |
| --- | --- | --- |
| **`--no-up`** | `docker compose watch --no-up [SERVIÇO...]` | Impede que o `watch` execute o `docker compose up` antes de começar a monitorar. Por padrão, ele primeiro garante que os serviços estejam construídos e em execução. Use esta opção se você já subiu os serviços com outro comando e quer apenas iniciar o monitoramento. |
| **`--prune`** | `docker compose watch --prune [SERVIÇO...]` | Esta é a opção padrão (`true`). Após reconstruir uma imagem devido a uma alteração, ele remove as imagens antigas e não utilizadas (dangling images) para liberar espaço em disco. Para desativar, use `--no-prune`. |
| **`--quiet`** | `docker compose watch --quiet [SERVIÇO...]` | Oculta a saída detalhada do processo de build. Em vez de ver todas as camadas da imagem sendo construídas, você verá uma saída mais limpa e focada apenas no resultado final. Útil para manter o terminal menos poluído. |
| **`--dry-run`** | `docker compose watch --dry-run [SERVIÇO...]` | Executa o comando em "modo de simulação". Ele mostrará o que *seria* feito (quais serviços seriam monitorados e quais ações seriam tomadas em caso de mudança) sem de fato executar nada. É ótimo para verificar se sua configuração está correta antes de iniciar o processo de fato. |

---

### **Argumento [SERVICE...]**

- **Finalidade**: Especificar quais serviços, definidos no seu arquivo `docker-compose.yml`, devem ser monitorados.
- **Sintaxe**: `docker compose watch <nome_do_servico_1> <nome_do_servico_2>`
- **Exemplo**: Se você tem um `docker-compose.yml` com os serviços `backend` e `database`, e quer monitorar apenas o `backend`, você usaria:
    
    ```bash
    docker compose watch backend
    
    ```
    
- **Comportamento Padrão**: Se você não especificar nenhum serviço, o `docker compose watch` irá monitorar **todos** os serviços do seu `docker-compose.yml` que tenham a seção `build` configurada. Ele ignora serviços que usam imagens prontas do Docker Hub sem um contexto de build local.

Espero que esta explicação estruturada ajude você, Gedê, nos seus projetos de desenvolvimento! Se tiver mais alguma dúvida, pode perguntar.