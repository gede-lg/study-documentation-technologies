# RM

**Visão Geral**

O comando `docker compose rm` remove containers de serviços que estejam parados, permitindo a limpeza de recursos antes de recriar ou encerrar um ambiente Compose. Por padrão, volumes anônimos não são removidos, evitando perda acidental de dados; para removê-los, use a opção `-v`.

---

## Sintaxe

```bash
docker compose rm [OPÇÕES] [SERVIÇO...]

```

- **SERVIÇO...**
    
    Lista opcional de nomes de serviços definidos no `docker-compose.yml`. Se omitido, age sobre *todos* os serviços parados.
    

---

## Parâmetros e Finalidades

| Parâmetro | Sintaxe curta | Sintaxe longa | Descrição |
| --- | --- | --- | --- |
| dry run | — | `--dry-run` | Executa o comando em modo “ensaio”: mostra o que seria removido, sem efetuar a remoção de fato. |
| force | `-f` | `--force` | Não solicita confirmação interativa antes de remover os containers. |
| stop | `-s` | `--stop` | Se o container ainda estiver em execução, para-o antes de remover. |
| volumes | `-v` | `--volumes` | Remove também *volumes anônimos* (criados sem nome) que estejam atrelados aos containers removidos. |

---

## Explicação das Opções

1. **`-dry-run`**
    - **Finalidade:** Lista quais containers seriam removidos, sem executar a remoção.
    - **Uso típico:** Verificar impacto antes de um `rm` massivo.
    - **Exemplo:**
        
        ```bash
        docker compose rm --dry-run
        
        ```
        
2. **`f, --force`**
    - **Finalidade:** Pule a solicitação de confirmação (“Are you sure?”).
    - **Uso típico:** Scripts automatizados ou quando já se tem certeza do que será removido.
    - **Exemplo:**
        
        ```bash
        docker compose rm -f
        
        ```
        
3. **`s, --stop`**
    - **Finalidade:** Para containers em execução antes de removê-los.
    - **Cenário de uso:** Se deixou algum serviço rodando e quer garantir que sejam todos parados e removidos.
    - **Exemplo:**
        
        ```bash
        docker compose rm -s service1 service2
        
        ```
        
4. **`v, --volumes`**
    - **Finalidade:** Remove volumes anônimos atrelados aos containers.
    - **Cuidado:** Dados nesses volumes serão perdidos.
    - **Exemplo:**
        
        ```bash
        docker compose rm -v
        
        ```
        

---

## Exemplos Práticos

1. **Simular remoção de todos os containers parados**
    
    ```bash
    docker compose rm --dry-run
    
    ```
    
2. **Forçar remoção sem confirmação de dois serviços**
    
    ```bash
    docker compose rm -f web db
    
    ```
    
3. **Parar e remover todos, incluindo volumes anônimos**
    
    ```bash
    docker compose rm -s -v
    
    ```
    
4. **Remover apenas o serviço `cache`, forçando sem prompt**
    
    ```bash
    docker compose rm -f cache
    
    ```
    

---

> Atenção:
> 
> - Containers em execução **não** são removidos a menos que você use `s`.
> - Volumes nomeados (definidos em `volumes:` do Compose) **não** são afetados por `v`; apenas os anônimos.
> - Qualquer dado não persistido em volumes será perdido permanentemente.