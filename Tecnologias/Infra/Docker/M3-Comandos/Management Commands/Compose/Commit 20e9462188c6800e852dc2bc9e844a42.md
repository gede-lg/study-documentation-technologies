# Commit

## Visão Geral do Comando

O comando `docker compose commit` cria uma nova imagem a partir das alterações feitas em um container de serviço em execução.

## Sintaxe Básica

```
docker compose commit [OPTIONS] SERVICE [REPOSITORY[:TAG]]
```

## Parâmetros e Opções

| **Opção** | **Tipo** | **Padrão** | **Descrição** |
| --- | --- | --- | --- |
| -a, --author | string | - | Define o autor do commit (ex: "John Smith john@example.com") |
| -c, --change | list | - | Aplica instruções do Dockerfile à imagem criada |
| --dry-run | boolean | false | Executa o comando em modo de simulação |
| --index | integer | - | Índice do container quando o serviço possui múltiplas réplicas |
| -m, --message | string | - | Mensagem de commit |
| -p, --pause | boolean | true | Pausa o container durante o commit |

## Detalhamento das Opções

### --author

Especifica o autor responsável pelas alterações na imagem.

```
docker compose commit --author="Maria Silva maria@exemplo.com" web-service
```

### --change

Permite aplicar instruções do Dockerfile durante o commit.

```
docker compose commit --change="ENV DEBUG=true" web-service
```

### --index

Especifica qual réplica do serviço será utilizada para criar a nova imagem.

```
docker compose commit --index=2 web-service my-repo:tag
```

### --message

Adiciona uma mensagem descritiva ao commit.

```
docker compose commit -m "Adicionadas novas dependências" web-service
```

## Exemplos de Uso

```
# Commit básico de um serviço
docker compose commit web-service my-image:v1

# Commit com autor e mensagem
docker compose commit -a "Dev Team" -m "Atualizações de configuração" web-service my-repo:v2

# Commit sem pausar o container
docker compose commit --pause=false web-service new-image:latest

# Commit com alterações do Dockerfile
docker compose commit --change="ENV NODE_ENV=production" web-service prod-image:v1

```

<aside>
⚠️ Importante: O comando commit cria uma nova imagem com o estado atual do container, incluindo todas as alterações feitas desde sua criação.

</aside>