# Create

A seguir, uma explicação completa e estruturada do comando **`docker volume create`**, cobrindo sua finalidade, sintaxe, parâmetros, opções e exemplos de uso.

---

## 1. O que faz este comando

O **`docker volume create`** cria um **volume** Docker, que é um mecanismo de armazenamento **persistente** e **independente** de contêineres. Volumes permitem:

- **Persistir dados** mesmo quando contêineres são destruídos.
- **Compartilhar dados** entre múltiplos contêineres.
- **Isolar** os dados da aplicação do ciclo de vida dos contêineres.

---

## 2. Sintaxe geral

```bash
docker volume create [OPTIONS] [VOLUME]

```

- **`[OPTIONS]`**: flags que modificam o comportamento de criação.
- **`[VOLUME]`**: nome opcional do volume; se omitido, o Docker gera um nome aleatório.

---

## 3. Parâmetros

| Parâmetro | Obrigatório | Descrição |
| --- | --- | --- |
| `VOLUME` | Não | **Nome** do volume a ser criado. Se não informado, o Docker gera um nome. |

---

## 4. Opções disponíveis

| Opção | Tipo | Padrão | Finalidade |
| --- | --- | --- | --- |
| `-d`, `--driver string` | string | `"local"` | Especifica o **driver** de volume a ser usado (ex.: `local`, `nfs`, plugins de terceiros). |
| `--label list` | lista de pares | — | Define **metadados** (labels) para o volume, no formato `chave=valor`. Ex.: `--label project=backend --label env=prd`. |
| `-o`, `--opt map` | mapa de pares | `map[]` | Define **opções específicas** para o driver, no formato `chave=valor`. Ex.: `-o o=<origem>` para driver `local`. |

---

## 5. Fluxo de funcionamento

1. **Validação de parâmetros**
    - Verifica se o volume já existe (com mesmo nome e driver); caso exista, retorna o nome existente.
2. **Criação pelo driver**
    - Invoca o driver especificado (`local` por padrão) com as opções definidas em `o`.
3. **Registro no Docker**
    - Adiciona o volume ao registro local (`docker volume ls`), tornando-o disponível para containers.

---

## 6. Exemplos de uso

1. **Criar volume com nome gerado automaticamente**
    
    ```bash
    docker volume create
    # Exemplo de saída:
    #   7b9f1a3c6e1f3d9a2b4c5d6e7f8g9h0i
    
    ```
    
2. **Criar volume nomeado “meu_volume”**
    
    ```bash
    docker volume create meu_volume
    # Saída:
    #   meu_volume
    
    ```
    
3. **Criar volume com driver específico**
    
    ```bash
    docker volume create --driver local meu_volume_local
    
    ```
    
4. **Criar volume com labels**
    
    ```bash
    docker volume create \
      --label project=backend \
      --label env=staging \
      dados_staging
    
    ```
    
5. **Criar volume `nfs_volume` usando o driver NFS**
    
    ```bash
    docker volume create \
      --driver local \
      -o type=nfs \
      -o o=addr=192.168.0.10,rw \
      -o device=:/export/data \
      nfs_volume
    
    ```
    

---

## 7. Tabela de referência rápida

| Componente | Sintaxe | Descrição |
| --- | --- | --- |
| Comando base | `docker volume create [OPTIONS] [VOLUME]` | Cria um volume Docker para armazenamento persistente e compartilhado. |
| Parâmetro | `VOLUME` | Nome opcional do volume; se omitido, o Docker gera um nome aleatório. |
| Opção | `-d`, `--driver <driver>` | Define o driver de volume (padrão: `local`). |
| Opção | `--label <chave=valor>` | Adiciona metadados (labels) ao volume. |
| Opção | `-o`, `--opt <chave=valor>` | Passa opções específicas ao driver (ex.: NFS, plugins, etc.). |

---

Com isso, você tem tudo o que precisa para **criar** volumes Docker com diferentes configurações de drivers, labels e opções de driver. Se quiser ver como montar esses volumes em contêineres ou tiver outras dúvidas, é só dizer!