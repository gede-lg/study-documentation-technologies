# Set

## Visão Geral

O comando `docker plugin set` ajusta dinamicamente as **configurações** de um plugin já instalado, modificando pares **KEY=VALUE** definidos no `config.json` do plugin. É útil para alterar parâmetros (por exemplo, variáveis de ambiente, opções de driver ou endpoints) sem precisar reinstalar ou recriar o plugin.

---

## Sintaxe

```bash
docker plugin set PLUGIN KEY=VALUE [KEY=VALUE...]

```

- **PLUGIN**: nome (e opcionalmente tag) do plugin a ser configurado.
- **KEY=VALUE**: um ou mais pares que correspondem às **chaves** definidas em `Settings` do `config.json` do plugin.

---

## Como Funciona

1. **Examinar configurações disponíveis**
    
    Antes de usar `set`, verifique quais chaves o plugin suporta:
    
    ```bash
    docker plugin inspect meu-plugin --format '{{json .Settings.Env}}'
    
    ```
    
    Isso lista as variáveis de ambiente configuráveis.
    
2. **Aplicar alterações**
    
    O Docker atualiza o `config.json` local do plugin e, se o plugin estiver habilitado, irá reiniciar automaticamente para aplicar as mudanças.
    

---

## Exemplos de Uso

1. **Alterar uma variável de ambiente**
    
    ```bash
    docker plugin set rexray/s3fs AWS_REGION=us-west-2
    
    ```
    
    Atualiza o `AWS_REGION` para `us-west-2` no plugin REX-Ray S3 Script.
    
2. **Configurar múltiplas chaves de uma vez**
    
    ```bash
    docker plugin set meussh/volume-plugin SSH_PORT=2222 SSH_USER=deploy
    
    ```
    
    Define `SSH_PORT` e `SSH_USER` simultaneamente no plugin de volume SSH.
    
3. **Ajustar opções de driver**
    
    ```bash
    docker plugin set traefik:latest LOG_LEVEL=DEBUG MAX_CONNS=1000
    
    ```
    
    Coloca o Traefik em modo debug e limita conexões simultâneas a 1000.
    

---

> Dica:
> 
> - Sempre use `docker plugin inspect <PLUGIN>` para revisar a seção **Settings** e confirmar os nomes exatos das chaves antes de aplicar `docker plugin set`.
> - Se necessário, desative (`docker plugin disable`) o plugin antes de ajustá-lo, e reative (`docker plugin enable`) depois para garantir que a nova configuração seja carregada corretamente.