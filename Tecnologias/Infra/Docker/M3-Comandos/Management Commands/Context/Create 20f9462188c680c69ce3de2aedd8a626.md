# Create

## Visão Geral

O comando `docker context create` é usado para criar um **contexto** Docker—um agrupamento de configurações de endpoint e metadados—que permite alternar facilmente entre diferentes ambientes (por exemplo, clusters remotos, contextos de produção e desenvolvimento) sem redefinir manualmente variáveis de ambiente ou flags toda vez que usar o Docker CLI.

---

## Sintaxe

```bash
docker context create [OPÇÕES] CONTEXT

```

- **CONTEXT**
    
    Nome que você quer dar ao novo contexto (deve ser único).
    

---

## Configuração de Endpoint Docker

Ao criar um contexto, você deve especificar **pelo menos** qual endpoint Docker usar. Isso é feito via a flag `--docker` ou copiando de um contexto já existente com `--from`. Dentro da string passada a `--docker`, você pode usar os seguintes campos (vírgula-separados):

| Campo | Descrição |
| --- | --- |
| `host` | URL do daemon Docker (ex.: `tcp://10.0.0.5:2376` ou `unix:///var/run/docker.sock`). |
| `ca` | Caminho para o arquivo CA que assina o certificado do servidor. |
| `cert` | Caminho para o certificado TLS do cliente (.pem). |
| `key` | Caminho para a chave privada TLS do cliente (.pem). |
| `skip-tls-verify` | Se `true`, desabilita a verificação de validade do certificado do servidor (útil em ambientes de teste). |
| `from` | Nome de um contexto já existente para **copiar** sua configuração de endpoint. |

> Obs.:
> 
> - Todos os campos de endpoint (exceto `from`) podem ser combinados livremente na string `-docker`.
> - Se você usar `-from`, não precisa especificar `-docker`; o novo contexto herda tudo do contexto de origem.

---

## Opções

| Opção | Tipo | Descrição |
| --- | --- | --- |
| `--description string` | Texto | Texto livre que descreve para que serve este contexto. |
| `--docker stringToString` | Lista de pares key=val | Define configurações de endpoint Docker (ver tabela acima). |
| `--from string` | Texto | Copia a configuração de endpoint de um contexto já existente. |

---

## Exemplos de Uso

1. **Criar um contexto para um daemon remoto com TLS**
    
    ```bash
    docker context create prod-us-east \
      --description "Produção US East" \
      --docker "host=tcp://192.168.1.100:2376,ca=~/certs/ca.pem,cert=~/certs/cert.pem,key=~/certs/key.pem"
    
    ```
    
2. **Criar um contexto copiando outro**
    
    ```bash
    docker context create staging --from prod-us-east \
      --description "Ambiente de staging baseado em produção"
    
    ```
    
3. **Criar um contexto local sem verificação TLS**
    
    ```bash
    docker context create dev-local \
      --description "Ambiente de dev local" \
      --docker "host=unix:///var/run/docker.sock,skip-tls-verify=true"
    
    ```
    
4. **Listar contextos e alternar**
    
    ```bash
    docker context ls
    docker context use prod-us-east
    
    ```
    

Com isso, você pode definir múltiplos contextos (por exemplo, clusters Kubernetes integrados via Docker Desktop, endpoints de Swarm ou hosts remotos) e alternar rapidamente entre eles conforme sua necessidade.