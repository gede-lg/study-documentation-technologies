# RMI

---

## 1. Finalidade do `docker rmi`

O **`docker rmi`** remove uma ou mais **imagens** Docker do cache local. É útil para liberar espaço em disco, descartar versões antigas ou limpar imagens órfãs.

---

## 2. Sintaxe básica

```bash
docker rmi [OPTIONS] IMAGE [IMAGE...]

```

- **`IMAGE`**: nome (com tag) ou ID da(s) imagem(ns) a remover. Pode listar várias de uma só vez.

---

## 3. Parâmetros

| Parâmetro | Obrigatório | Descrição |
| --- | --- | --- |
| `IMAGE` | Sim | Nome ou ID da imagem Docker a ser removida (pode repetir). |

---

## 4. Opções disponíveis

| Opção | Tipo | Padrão | Descrição |
| --- | --- | --- | --- |
| `-f, --force` | boolean | `false` | Força remoção mesmo que a imagem esteja em uso por contêineres parados ou tenha múltiplas tags. |
| `--no-prune` | boolean | `false` | Não remove **imagens pai não marcadas** (untagged parents), ou seja, evita pruning automático de camadas órfãs. |
| `--platform strings` | string | — | Remove apenas a variante de plataforma especificada em imagens multi-arquitetura (ex.: `linux/amd64`). |

---

## 5. Exemplos de uso

1. **Remover uma única imagem**
    
    ```bash
    docker rmi myapp:latest
    
    ```
    
2. **Remover múltiplas imagens**
    
    ```bash
    docker rmi app:v1.0 oldapp:v0.9 unused_image
    
    ```
    
3. **Forçar remoção de imagem em uso**
    
    ```bash
    docker rmi --force busybox:1.32
    
    ```
    
4. **Evitar pruning de imagens pai**
    
    ```bash
    docker rmi --no-prune intermediate_image
    
    ```
    
5. **Remover variante ARM64 de uma imagem multi-arquitetura**
    
    ```bash
    docker rmi --platform linux/arm64 multiarch_app:2.0
    
    ```
    

---

## 6. Tabela de referência rápida

| Componente | Sintaxe | Descrição |
| --- | --- | --- |
| Comando base | `docker rmi [OPTIONS] IMAGE [IMAGE...]` | Remove imagem(ns) Docker do host local. |
| Opção | `-f, --force` | Força remoção mesmo se imagem estiver em uso. |
| Opção | `--no-prune` | Não descarta imagens pai não marcadas automaticamente. |
| Opção | `--platform <os/arch[/variant]>` | Remove só a variante de plataforma especificada. |

---

Use **`docker rmi`** para manter seu repositório local de imagens enxuto e livre de versões obsoletas ou camadas órfãs.