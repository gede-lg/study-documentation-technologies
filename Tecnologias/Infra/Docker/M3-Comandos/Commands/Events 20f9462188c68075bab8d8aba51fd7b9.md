# Events

---

## 1. Finalidade do `docker events`

O **`docker events`** exibe em **tempo real** o fluxo de eventos do daemon Docker, permitindo monitorar atividades como criação/exclusão de containers, imagens, volumes, redes, pull/push, entre outros. Útil para:

- Auditar ações no ambiente Docker.
- Integrar com sistemas de logging/monitoramento.
- Depurar comportamento de orquestração ou scripts.

---

## 2. Sintaxe básica

```bash
docker events [OPTIONS]

```

- Sem filtros, começa a **stream** de todos os eventos até ser interrompido (Ctrl-C).

---

## 3. Opções disponíveis

| Opção | Tipo | Padrão | Descrição |
| --- | --- | --- | --- |
| `-f, --filter filter` | string | — | Filtra eventos por condições; pode repetir. Ex.: |
- `event=start`
- `container=web`
- `type=image`
- `label=env=prod` |
    
    | `--format string`       | string  | `plain`  | Formata saída via Go template ou JSON.
    
- `json` → JSON bruto
- `TEMPLATE` → ex.: `-format '{{.Time}} {{.Type}} {{.Action}} {{.Actor.ID}}'` |
    
    | `--since string`        | string  | —        | Mostra eventos ocorridos desde timestamp ou duração relativa. Ex.:
    
- `-since 2025-06-10T15:00:00`
- `-since 1h` (última hora) |
    
    | `--until string`        | string  | —        | Continua stream até timestamp ou duração relativa. Ex.:
    
- `-until 2025-06-10T16:00:00`
- `-until 30m` (próximos 30 minutos) |

---

## 4. Exemplo de saída

```
2025-06-11T22:45:10.123456789Z container create 8dfafdbc3a40 (image=nginx:latest, name=web)
2025-06-11T22:45:10.456789012Z container start 8dfafdbc3a40 (image=nginx:latest, name=web)
2025-06-11T22:46:05.987654321Z network connect 5e3a1d2c3f4b (container=8dfafdbc3a40, name=bridge)

```

Cada linha informa:

- **Timestamp UTC**
- **Type** (`container`, `image`, `network`, …)
- **Action** (`create`, `start`, `pull`, `disconnect`, …)
- **Actor.ID** (ID do objeto)
- **Attributes** (chave=valor)

---

## 5. Exemplos de uso

1. **Monitorar todos os eventos**
    
    ```bash
    docker events
    
    ```
    
2. **Filtrar apenas eventos de containers**
    
    ```bash
    docker events --filter 'type=container'
    
    ```
    
3. **Ver eventos de um container específico**
    
    ```bash
    docker events -f 'container=8dfafdbc3a40'
    
    ```
    
4. **Limitar a um intervalo de tempo**
    
    ```bash
    docker events --since 10m --until 5m
    # Eventos dos últimos 10 minutos até 5 minutos atrás
    
    ```
    
5. **Formatar em JSON para ingestão por sistemas**
    
    ```bash
    docker events --format json
    
    ```
    
6. **Exibir apenas início e parada de containers**
    
    ```bash
    docker events \
      --filter 'event=start' \
      --filter 'event=stop'
    
    ```
    

---

## 6. Tabela de referência rápida

| Opção | Sintaxe / Exemplo | Propósito |
| --- | --- | --- |
| `-f, --filter` | `--filter type=container` | Filtrar por tipo, nome, evento, label, etc. |
| `--format` | `--format '{{.Time}} {{.Action}} {{.Actor.ID}}'` | Customizar campos exibidos. |
| `--since` | `--since 2025-06-11T22:00:00` or `--since 1h` | Eventos desde timestamp ou duração relativa. |
| `--until` | `--until 2025-06-11T23:00:00` or `--until 30m` | Parar stream após timestamp ou duração. |

---

Use **`docker events`** para manter-se informado em tempo real sobre tudo o que acontece no seu ambiente Docker e automatizar reações a eventos críticos.