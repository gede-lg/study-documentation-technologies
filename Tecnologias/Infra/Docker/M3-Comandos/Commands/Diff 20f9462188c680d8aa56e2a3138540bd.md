# Diff

---

## 1. Finalidade do `docker diff`

O **`docker diff`** mostra as **diferenças** entre o sistema de arquivos de um contêiner em execução (ou parado) e sua imagem de origem. Ele lista arquivos e diretórios que foram **adicionados**, **modificados** ou **removidos**, indicando como seu contêiner divergiu do estado inicial.

---

## 2. Sintaxe básica

```bash
docker diff CONTAINER

```

- **`CONTAINER`**: nome ou ID do contêiner cujo sistema de arquivos será inspecionado.

---

## 3. Saída e códigos

Cada linha da saída começa com um código de ação seguido pelo caminho, onde:

| Código | Significado |
| --- | --- |
| `A` | **Adicionado** — arquivo/diretório novo |
| `C` | **Modificado** — conteúdo alterado |
| `D` | **Deletado** — removido do sistema |

Exemplo de saída:

```
C /etc/hosts
A /app/new_file.txt
D /var/log/old.log

```

---

## 4. Exemplos de uso

1. **Ver diferenças de um contêiner**
    
    ```bash
    docker diff my_container
    # C /etc/hosts
    # A /root/.bash_history
    # D /tmp/tempfile
    
    ```
    
2. **Inspecionar após um comando específico**
    
    ```bash
    # Dentro do contêiner, crie um arquivo e instale algo:
    docker exec my_container touch /opt/test.txt
    docker exec my_container apt-get update
    
    # Agora veja o que mudou:
    docker diff my_container
    # A /opt/test.txt
    # C /var/lib/apt/lists/...
    
    ```
    

---

## 5. Tabela de referência rápida

| Componente | Sintaxe | Descrição |
| --- | --- | --- |
| Comando base | `docker diff CONTAINER` | Lista alterações no filesystem do contêiner. |
| Saída | `A`, `C`, `D` + caminho | Código de Adicionado, Modificado ou Deletado. |

---

Use **`docker diff`** para **auditar** e **debugar** mudanças de arquivos em contêineres, ajudando a entender exatamente o que foi criado, alterado ou removido durante sua execução.