# Stop

---

## 1. Finalidade do `docker stop`

O **`docker stop`** para um ou mais contêineres em execução de forma **graciosa**, enviando primeiro um sinal (por padrão **SIGTERM**) e aguardando até um timeout antes de, se necessário, forçar a parada com **SIGKILL**.

---

## 2. Sintaxe básica

```bash
docker stop [OPTIONS] CONTAINER [CONTAINER...]

```

- **`CONTAINER`**: nome(s) ou ID(s) do contêiner(es) a parar.

---

## 3. Opções disponíveis

| Opção | Tipo | Padrão | Descrição |
| --- | --- | --- | --- |
| `-t, --timeout int` | int | `10` segundos | Tempo (em segundos) que o Docker aguarda após enviar SIGTERM antes de enviar SIGKILL. |
| `-s, --signal string` | string | `SIGTERM` | Sinal UNIX inicial a enviar ao processo principal do contêiner (ex.: `SIGINT`, `SIGHUP`). |

---

## 4. Fluxo de funcionamento

1. **Envio de sinal**
    - Docker envia o sinal definido por `-signal` (ou SIGTERM).
2. **Aguardar timeout**
    - Aguarda até `-timeout` segundos pela parada graciosa.
3. **Forçar parada**
    - Se o contêiner não parar, envia SIGKILL.

---

## 5. Exemplos de uso

1. **Parar um contêiner com timeout padrão**
    
    ```bash
    docker stop meu_container
    
    ```
    
2. **Parar múltiplos contêineres**
    
    ```bash
    docker stop web1 db_cache worker
    
    ```
    
3. **Usar timeout de 30 segundos**
    
    ```bash
    docker stop --timeout 30 meu_container
    
    ```
    
4. **Enviar SIGINT em vez de SIGTERM**
    
    ```bash
    docker stop --signal SIGINT meu_container
    
    ```
    
5. **Combinar sinal e timeout**
    
    ```bash
    docker stop -s SIGHUP -t 20 web_server
    
    ```
    

---

## 6. Tabela de referência rápida

| Componente | Sintaxe | Descrição |
| --- | --- | --- |
| Comando base | `docker stop [OPTIONS] CONTAINER...` | Para contêiner(es) em execução de forma graciosa. |
| Opção | `-t, --timeout <segundos>` | Tempo de espera antes de forçar parada (padrão 10s). |
| Opção | `-s, --signal <SINAL>` | Sinal a enviar para término gracioso (padrão SIGTERM). |

---

Use **`docker stop`** para interromper contêineres de maneira controlada, dando a eles chance de encerrar processos corretamente antes de forçar o encerramento.