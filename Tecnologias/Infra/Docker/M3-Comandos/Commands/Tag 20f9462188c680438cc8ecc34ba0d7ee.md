# Tag

---

## 1. Finalidade do `docker tag`

O **`docker tag`** cria uma **nova referência** (tag) para uma imagem Docker existente, sem duplicar camadas. É comumente usado para:

- **Marcar** imagens com versões específicas antes de enviar ao registry.
- **Reetiquetar** imagens para diferentes repositórios ou namespaces.
- **Organizar** e identificar imagens em fluxos de CI/CD.

---

## 2. Sintaxe básica

```bash
docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]

```

- **`SOURCE_IMAGE[:TAG]`**: nome (e opcionalmente tag) da imagem existente. Se `:TAG` omitido, usa `:latest`.
- **`TARGET_IMAGE[:TAG]`**: novo nome e tag a ser criado, apontando para o mesmo conteúdo.

---

## 3. Parâmetros

| Parâmetro | Obrigatório | Descrição |
| --- | --- | --- |
| `SOURCE_IMAGE[:TAG]` | Sim | Imagem de origem que será referenciada pela nova tag. |
| `TARGET_IMAGE[:TAG]` | Sim | Nome e tag que serão atribuídos como alias à imagem de origem. |

---

## 4. Comportamento

- Não copia dados: a nova tag aponta diretamente para as mesmas camadas da imagem original.
- Não altera a imagem de origem.
- Permite múltiplas tags para uma única imagem.

---

## 5. Exemplos de uso

1. **Tag padrão “latest” para uma imagem local**
    
    ```bash
    docker tag myapp:dev myapp:latest
    # Agora 'myapp:latest' e 'myapp:dev' referenciam a mesma imagem.
    
    ```
    
2. **Reetiquetar para um registry remoto**
    
    ```bash
    docker tag myapp:latest registry.example.com/myuser/myapp:1.0
    
    ```
    
3. **Tag sem especificar fonte TAG (usa latest)**
    
    ```bash
    docker tag ubuntu ubuntu:custom
    
    ```
    
4. **Tag multi-arquitetura antes de push**
    
    ```bash
    docker tag multiarch_app:arm64 multiarch_app:arm64-stable
    
    ```
    

---

## 6. Tabela de referência rápida

| Componente | Sintaxe | Descrição |
| --- | --- | --- |
| Comando base | `docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]` | Cria um alias (tag) para uma imagem existente. |
| Parâmetro | `SOURCE_IMAGE[:TAG]` | Imagem de origem (nome e tag). |
| Parâmetro | `TARGET_IMAGE[:TAG]` | Novo nome e tag para referenciar a mesma imagem. |

---

Agora você pode **reatribuir tags** a suas imagens facilmente, facilitando versionamento e organização no seu fluxo de trabalho Docker.