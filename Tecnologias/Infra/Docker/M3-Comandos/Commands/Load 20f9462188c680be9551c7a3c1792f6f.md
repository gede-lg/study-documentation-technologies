# Load

---

## 1. Finalidade do `docker load`

O **`docker load`** importa (load) uma **imagem Docker** previamente exportada em um arquivo TAR (gerado por `docker save` ou fluxo de STDIN) de volta para o repositório local de imagens. Isso permite restaurar imagens sem depender de um registry.

---

## 2. Sintaxe básica

```bash
docker load [OPTIONS]

```

O comando **lê** de **STDIN** por padrão, mas pode usar um arquivo por meio de `-i`.

---

## 3. Parâmetros

Este comando **não** aceita argumentos posicionais — todas as configurações são feitas via opções.

---

## 4. Opções disponíveis

| Opção | Tipo | Padrão | Descrição |
| --- | --- | --- | --- |
| `-i, --input string` | string | STDIN | Lê o TAR de imagem a partir do arquivo especificado em vez de STDIN. |
| `--platform string` | string | — | Se a imagem for multi-plataforma, carrega apenas a variante para a **plataforma** informada |
| (`os[/arch[/variant]]`, ex.: `linux/amd64`). |  |  |  |
| `-q, --quiet` | boolean | `false` | Suprime mensagens de progresso e output detalhado, exibindo apenas o status final. |

---

## 5. Fluxo de funcionamento

1. **Leitura do tar**
    - Se `i` for usado, abre o arquivo TAR; caso contrário, lê da STDIN.
2. **Extração**
    - Descompacta o conteúdo do TAR (camadas, manifesto e metadata) no armazenamento local de imagens.
3. **Registro**
    - Adiciona imagem(s) ao repositório local, preservando nomes e tags conforme o manifesto.
4. **Relatório**
    - Imprime o nome e ID da(s) imagem(ns) carregada(s), exceto se em modo `-quiet`.

---

## 6. Exemplos de uso

1. **Carregar de STDIN via pipe**
    
    ```bash
    gzip -dc ubuntu.tar.gz | docker load
    # Importa o conteúdo do tar.gz no Docker local.
    
    ```
    
2. **Carregar de arquivo direto**
    
    ```bash
    docker load --input meuarquivo.tar
    # Carrega as imagens contidas em meuarquivo.tar.
    
    ```
    
3. **Carregar somente variante `linux/arm64`**
    
    ```bash
    docker load --input multicontainer.tar --platform linux/arm64
    
    ```
    
4. **Load silencioso**
    
    ```bash
    docker load -i backup.tar -q
    # Nenhuma saída detalhada, apenas confirmação de carregamento.
    
    ```
    

---

## 7. Tabela de referência rápida

| Componente | Sintaxe | Descrição |
| --- | --- | --- |
| Comando base | `docker load [OPTIONS]` | Importa imagens Docker de um tarball para o host local. |
| Opção | `-i, --input <arquivo>.tar` | Lê o tar a partir de um arquivo em vez de STDIN. |
| Opção | `--platform <os/arch[/variant]>` | Carrega apenas a variante de plataforma especificada. |
| Opção | `-q, --quiet` | Modo silencioso, sem output detalhado. |

---

Agora você pode **restaurar** rapidamente suas imagens Docker exportadas, escolhendo o arquivo ou streaming via STDIN e ajustando a variante de plataforma se necessário. Se precisar de mais detalhes ou tiver outro comando em mente, estou à disposição!