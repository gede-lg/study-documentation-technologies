# Stats

---

## 1. Finalidade do `docker stats`

O **`docker stats`** exibe em **tempo real** métricas de recursos dos contêineres Docker, incluindo uso de CPU, memória, I/O de rede e de disco. É útil para:

- Monitorar performance de aplicações containerizadas.
- Diagnosticar gargalos de recurso em produção ou testes.
- Comparar consumo entre múltiplos contêineres simultaneamente.

---

## 2. Sintaxe básica

```bash
docker stats [OPTIONS] [CONTAINER...]

```

- Se nenhum **`CONTAINER`** for especificado, mostra estatísticas de **todos os contêineres em execução** (salvo usar `-all`).
- É uma **stream** contínua de dados, atualizada a cada segundo por padrão.

---

## 3. Parâmetros

| Parâmetro | Obrigatório | Descrição |
| --- | --- | --- |
| `CONTAINER...` | Não | Um ou mais nomes/IDs de contêineres a monitorar. |

---

## 4. Opções disponíveis

| Opção | Tipo | Padrão | Descrição |
| --- | --- | --- | --- |
| `-a, --all` | boolean | `false` | Inclui **todos** os contêineres, mesmo os **parados** (para ver zero stats). |
| `--no-stream` | boolean | `false` | Desabilita streaming contínuo e exibe apenas **uma vez** os dados atuais de uso. |
| `--format string` | string | `table` | Formata saída: |
- `table` (padrão)
- `json`
- `table TEMPLATE` ou `TEMPLATE` (Go template). |
    
    | `--no-trunc`                  | boolean  | `false`   | Não trunca campos (como nomes longos de contêiner), exibindo a informação completa.                     |
    

---

## 5. Colunas exibidas (padrão)

- **CONTAINER**: nome ou ID abreviado do contêiner
- **CPU %**: porcentagem de uso de CPU
- **MEM USAGE / LIMIT**: uso de memória vs. limite configurado
- **MEM %**: porcentagem de memória usada
- **NET I/O**: tráfego de rede recebido/transmitido
- **BLOCK I/O**: leitura/gravação em disco
- **PIDS**: número de processos ativos no contêiner

---

## 6. Exemplos de uso

1. **Monitorar todos os contêineres em execução (stream contínuo)**
    
    ```bash
    docker stats
    
    ```
    
2. **Exibir apenas uma vez (snapshot) para um contêiner específico**
    
    ```bash
    docker stats --no-stream my_app
    
    ```
    
3. **Monitorar múltiplos contêineres**
    
    ```bash
    docker stats webapi db_cache worker
    
    ```
    
4. **Incluir contêineres parados na lista**
    
    ```bash
    docker stats --all
    
    ```
    
5. **Formato JSON para ingestão por ferramentas**
    
    ```bash
    docker stats --no-stream --format json webapp
    
    ```
    
6. **Customizar colunas com template**
    
    ```bash
    docker stats --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemPerc}}" --no-stream
    
    ```
    

---

## 7. Tabela de referência rápida

| Componente | Sintaxe / Exemplo | Descrição |
| --- | --- | --- |
| Comando base | `docker stats [OPTIONS] [CONTAINER...]` | Exibe métricas de uso de recursos dos contêineres. |
| Opção | `-a, --all` | Incluir contêineres parados (mostram zeros). |
| Opção | `--no-stream` | Mostrar estatísticas apenas uma vez. |
| Opção | `--format <template | json>` |
| Opção | `--no-trunc` | Exibir campos completos sem truncar. |

---

Agora você pode usar **`docker stats`** para obter insights em tempo real sobre o consumo de CPU, memória, rede e I/O dos seus contêineres, ajustando filtros e formatos para atender suas necessidades de monitoramento.