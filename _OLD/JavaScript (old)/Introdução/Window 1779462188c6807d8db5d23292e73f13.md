# Window

## **Navegadores e o Objeto `window` no Lado Cliente (JavaScript)**

### **Sumário**

1. [Introdução](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#introdu%C3%A7%C3%A3o)
2. [O que é e para que serve?](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#o-que-%C3%A9-e-para-que-serve)
3. [Quando utilizar?](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#quando-utilizar)
4. [Sintaxe de uso](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#sintaxe-de-uso)
5. [Restrições de uso](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#restri%C3%A7%C3%B5es-de-uso)
6. [Propriedades do `window`](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#propriedades-do-window)
7. [Métodos do `window`](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#m%C3%A9todos-do-window)
8. [Exemplos de uso](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#exemplos-de-uso)
9. [Conclusão](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#conclus%C3%A3o)
10. [Referências](https://chatgpt.com/c/677fba4f-1a58-8003-b311-a5ba4637e315#refer%C3%AAncias)

---

## **Introdução**

O objeto `window` é a raiz do lado cliente em JavaScript quando estamos falando de navegação em páginas web. Ele representa a janela do navegador (tab, no caso de navegadores modernos) e contém tudo que é necessário para manipular o documento em exibição, interagir com o ambiente do usuário, armazenar dados localmente, disparar alertas e muito mais.

Ele é, essencialmente, o **contexto global** do JavaScript em um navegador. Tudo que declaramos no escopo global (fora de funções e módulos) acaba se tornando parte de `window`. Por exemplo, se você declarar:

```
var minhaVariavel = 10;

```

No navegador, você pode acessá-la como:

```
console.log(window.minhaVariavel); // 10

```

Este documento explicará em detalhes a função do objeto `window`, como e quando usar suas propriedades e métodos, e as principais (outras são adicionadas periodicamente conforme surgem novas especificações) funcionalidades disponíveis no ambiente do navegador.

---

## **O que é e para que serve?**

- **Contexto Global**: O `window` é o escopo global de qualquer script executado em uma página web. Qualquer variável ou função declarada globalmente torna-se propriedade do objeto `window`.
- **Interface com o Navegador**: Ele oferece acesso às APIs do navegador (DOM, geolocalização, histórico, armazenamento local, notificações, etc.).
- **Controlar a Aba ou a Janela**: Métodos como `window.close()`, `window.moveBy()`, `window.resizeTo()`, etc., permitem manipular a janela (ou aba) em que o script está rodando.
- **Acessar Informações do Ambiente**: Propriedades como `window.location`, `window.navigator` e `window.screen` fornecem dados sobre a URL atual, o usuário, e as dimensões da tela.

---

## **Quando utilizar?**

- **Interagir com o DOM**: Embora o DOM seja acessado principalmente por `document`, lembre-se de que `document` é, na verdade, uma propriedade de `window`.
- **Controlar Comportamentos da Janela**: Em aplicações de front-end que exigem manipulação do tamanho, posição ou visibilidade da janela (embora algumas dessas práticas sejam raras hoje em dia ou restritas por questões de segurança).
- **Criar e Manipular Janelas/Abas**: Ao abrir novas abas com `window.open()`, por exemplo.
- **Trabalhar com APIs nativas**: Como `localStorage`, `sessionStorage`, `indexedDB`, `requestAnimationFrame()`, entre outras.
- **Executar Ações Globais**: Tarefas como `alert()`, `confirm()`, `setTimeout()`, `setInterval()` são métodos do objeto `window`.

---

## **Sintaxe de uso**

Normalmente, para acessar uma propriedade ou método do `window`, você faz:

```
window.propriedade;
window.metodo();

// Exemplo
window.location.href = "https://www.example.com";
window.alert("Alerta!");

```

No entanto, o JavaScript permite acessar a maior parte desses recursos de forma **implícita**, sem escrever `window.`, por exemplo:

```
location.href = "https://www.example.com";
alert("Alerta!");

```

Embora funcione, é **boa prática** deixar explícito que tais propriedades pertencem ao `window` em casos que possam gerar confusão ou conflito com variáveis locais.

---

## **Restrições de uso**

1. **Mesma Origem (Same-Origin Policy)**
    - Grande parte das funcionalidades do objeto `window` estão sujeitas às regras de “mesma origem” (ex.: manipular a `window.location` pode não funcionar adequadamente se você estiver tentando acessar iframes de outro domínio, ou janelas abertas de outra origem).
2. **Restrição de Popup**
    - Navegadores modernos bloqueiam janelas abertas por scripts que não são disparados diretamente por uma ação do usuário (como um clique). Assim, `window.open()` pode ser bloqueado se não for chamado dentro de um evento gerado pelo usuário.
3. **Bloqueadores de Conteúdo**
    - Alguns métodos como `alert()`, `confirm()`, `prompt()` podem ser bloqueados ou gerar comportamentos diferentes em navegadores ou extensões que bloqueiam popups interativos.
4. **Acesso Limitado em Alguns Contextos**
    - Em páginas que rodam como “Aplicativos Web Progressivos” (PWA) ou em modos de segurança reforçada, alguns métodos de `window` podem não estar disponíveis ou terem comportamento diferente.

---

## **Propriedades do `window`**

A seguir está uma **tabela** com as principais e mais utilizadas propriedades do objeto `window`. Há muitas outras propriedades específicas ou obsoletas, mas listamos as fundamentais e amplamente suportadas (assim como diversas que aparecem em documentações mais completas). Note que algumas podem não existir em todos os navegadores ou podem ser “read-only” (apenas leitura).

| **Propriedade** | **Descrição** | **Sintaxe de Uso** |
| --- | --- | --- |
| `window.document` | Representa o objeto `Document`, que permite manipular o DOM. | `window.document` ou simplesmente `document` |
| `window.location` | Contém informações sobre a URL atual (protocolo, hostname, pathname, etc.). Permite redirecionamento. | `window.location.href = "https://exemplo.com";` |
| `window.navigator` | Informações sobre o agente do usuário (browser), como `userAgent` e recursos de geolocalização. | `window.navigator.userAgent` |
| `window.history` | Permite navegar pelo histórico do navegador (avançar, voltar). | `window.history.back()` |
| `window.screen` | Informações sobre a tela do dispositivo (largura, altura, profundidade de cor, etc.). | `window.screen.width`, `window.screen.height` |
| `window.console` | Objeto para exibir logs e mensagens de depuração. | `window.console.log("mensagem");` |
| `window.innerHeight` | Altura interna da janela (área de visualização). | `let h = window.innerHeight;` |
| `window.innerWidth` | Largura interna da janela (área de visualização). | `let w = window.innerWidth;` |
| `window.outerHeight` | Altura total da janela, incluindo bordas e barras do navegador. | `let oh = window.outerHeight;` |
| `window.outerWidth` | Largura total da janela, incluindo bordas e barras do navegador. | `let ow = window.outerWidth;` |
| `window.scrollX` | Posição atual do scroll horizontal. | `let x = window.scrollX;` |
| `window.scrollY` | Posição atual do scroll vertical. | `let y = window.scrollY;` |
| `window.frames` | Lista de frames (subjanelas) dentro da janela atual. | `let framesList = window.frames;` |
| `window.closed` | Indica se a janela foi fechada (`true` ou `false`). | `if (window.closed) { /* ... */ }` |
| `window.length` | Retorna o número de frames dentro da janela atual. | `let qtdFrames = window.length;` |
| `window.name` | Nome da janela (pode ser atribuído para identificar a janela). | `window.name = "minhaJanela";` |
| `window.opener` | Referência para a janela que abriu a janela atual (se existir). | `if (window.opener) { /* ... */ }` |
| `window.parent` | Referência para a janela “pai” (no caso de frames ou iframes). | `window.parent` |
| `window.self` | Referência para a própria janela. (igual a `window`) | `window.self` |
| `window.top` | Referência para a janela superior, no topo da hierarquia de frames. | `window.top` |
| `window.status` | Texto exibido na barra de status do navegador (antigo, pouco utilizado). | `window.status = "Carregando...";` |
| `window.localStorage` | Armazenamento local (persistente) no navegador. | `window.localStorage.setItem("chave", "valor");` |
| `window.sessionStorage` | Armazenamento de sessão (limpa ao fechar a aba). | `window.sessionStorage.setItem("chave", "valor");` |
| `window.indexedDB` | Interface para banco de dados do lado do cliente (IndexedDB). | `let db = window.indexedDB.open("meuDB");` |
| `window.customElements` | API para registrar e usar Web Components personalizados. | `window.customElements.define("meu-componente", classe);` |
| `window.crypto` | Prover funcionalidades de criptografia, como geração de números aleatórios seguros. | `window.crypto.getRandomValues(new Uint8Array(10));` |
| `window.performance` | Informações de performance, como tempo de carregamento. | `window.performance.now()` |
| `window.speechSynthesis` | Interface para converter texto em fala (Text-to-Speech). | `window.speechSynthesis.speak(new SpeechSynthesisUtterance("Olá"));` |
| `window.CSS` | Interface para manipular CSSOM e checar suportes. | `window.CSS.supports("display", "grid")` |

> Observação: Além dessas, existem diversas outras propriedades que podem surgir ou serem depreciadas ao longo do tempo, dependendo das versões de cada navegador e do ECMAScript/WhatWG specs.
> 

---

## **Métodos do `window`**

A tabela a seguir lista os métodos mais comuns (ou importantes) do `window`. Assim como as propriedades, a disponibilidade e comportamento podem variar conforme o navegador.

| **Método** | **Descrição** | **Sintaxe de Uso** |
| --- | --- | --- |
| `window.alert()` | Exibe uma caixa de diálogo com uma mensagem e um botão "OK". | `window.alert("Mensagem");` |
| `window.confirm()` | Exibe uma caixa de diálogo com mensagem e botões "OK" e "Cancelar". Retorna `true` ou `false`. | `let resposta = window.confirm("Deseja continuar?");` |
| `window.prompt()` | Exibe uma caixa de diálogo com input de texto. Retorna o valor digitado ou `null`. | `let nome = window.prompt("Qual seu nome?");` |
| `window.blur()` | Tira o foco da janela atual. | `window.blur();` |
| `window.focus()` | Foca na janela atual, trazendo-a para frente (quando possível). | `window.focus();` |
| `window.open()` | Abre nova janela ou aba. Pode ser bloqueado se não estiver em ação do usuário. | `window.open("https://exemplo.com", "nomeJanela");` |
| `window.close()` | Fecha a janela atual ou a janela aberta via `window.open()`. | `window.close();` |
| `window.moveTo()` | Move a janela para coordenadas (x, y) específicas na tela. | `window.moveTo(100, 100);` |
| `window.moveBy()` | Move a janela relativamente à posição atual. | `window.moveBy(50, 50);` |
| `window.resizeTo()` | Redimensiona a janela para a largura e altura especificadas. | `window.resizeTo(800, 600);` |
| `window.resizeBy()` | Redimensiona a janela somando valores à largura e altura atuais. | `window.resizeBy(100, 50);` |
| `window.scroll()` | `window.scrollTo()` | Desloca a janela para uma posição específica de rolagem (scroll). | `window.scrollTo(x, y); // ou window.scroll(x, y);` |
| `window.scrollBy()` | Desloca a janela relativamente à posição atual de rolagem. | `window.scrollBy(0, 100);` |
| `window.requestAnimationFrame()` | Solicita que o navegador execute uma animação no próximo “frame”. Útil para animações suaves. | ```js |
| window.requestAnimationFrame(callback); |  |  |

```
| `window.cancelAnimationFrame()` | Cancela uma animação agendada com `requestAnimationFrame()`.                                  | ```js
window.cancelAnimationFrame(requestId);
``` |
| `window.setInterval()`         | Executa repetidamente uma função após um intervalo fixo em milissegundos.                    | ```js
let id = window.setInterval(() => {
  console.log("Executa a cada 2s");
}, 2000);
``` |
| `window.clearInterval()`       | Cancela a repetição iniciada por `setInterval()`.                                             | `window.clearInterval(id);`                            |
| `window.setTimeout()`          | Executa uma função uma única vez após um intervalo em milissegundos.                          | ```js
let idTimeout = window.setTimeout(() => {
  alert("Atrasado 3s");
}, 3000);
``` |
| `window.clearTimeout()`        | Cancela a execução programada por `setTimeout()`.                                             | `window.clearTimeout(idTimeout);`                      |
| `window.getComputedStyle()`    | Retorna um objeto de estilo calculado para um elemento (ex.: após aplicação de CSS).          | ```js
let estilos = window.getComputedStyle(elemento);
``` |
| `window.matchMedia()`          | Retorna um objeto `MediaQueryList` para verificar media queries (responsivo).                 | ```js
let mq = window.matchMedia("(max-width: 600px)");
``` |
| `window.print()`               | Abre a caixa de diálogo de impressão para a janela atual.                                     | `window.print();`                                      |
| `window.stop()`                | Para o carregamento do recurso atual (semelhante ao botão "Parar" do navegador).              | `window.stop();`                                       |

> **Dica**: Métodos como `alert()`, `confirm()` e `prompt()` são conhecidos como “diálogos modais” (bloqueiam a interação da página até serem fechados), por isso são usados com moderação em projetos modernos.

---

## **Exemplos de uso**

Abaixo, alguns exemplos que ilustram o uso das propriedades e métodos do objeto `window`.

### 1. Redirecionando para outra página

```html
<button id="btnRedirecionar">Redirecionar</button>

<script>
  const btn = document.getElementById("btnRedirecionar");
  btn.addEventListener("click", () => {
    // Podemos usar window.location ou apenas location
    window.location.href = "https://www.example.com";
  });
</script>

```

### 2. Exibindo informações da janela

```
console.log("Largura da área visível:", window.innerWidth);
console.log("Altura da área visível:", window.innerHeight);
console.log("Origem (host):", window.location.host);
console.log("User Agent:", window.navigator.userAgent);

```

### 3. Utilizando `setTimeout()` e `clearTimeout()`

```
const alertaTarde = window.setTimeout(() => {
  alert("Vocês demoraram para ver este alerta!");
}, 5000);

// Caso o usuário clique em cancelar antes de 5s:
document.getElementById("btnCancelar").addEventListener("click", () => {
  window.clearTimeout(alertaTarde);
  console.log("Alerta cancelado!");
});

```

### 4. Abrindo e fechando uma nova janela

```
let novaJanela = null;

function abrirJanela() {
  novaJanela = window.open("https://www.example.com", "novaJanela", "width=600,height=400");
}

function fecharJanela() {
  if (novaJanela) {
    novaJanela.close();
  }
}

```

---

## **Conclusão**

O objeto `window` é a porta de entrada para todas as APIs do navegador no JavaScript. Ele possibilita interagir com o DOM, manipular o histórico, armazenar dados localmente, disparar popups e muito mais. Entender bem suas propriedades e métodos é fundamental para quem deseja desenvolver aplicações front-end modernas e ricas em recursos.

No entanto, é crucial usar esses recursos com cautela:

- **Melhorar a experiência do usuário** e não prejudicá-la com popups excessivos.
- Manter as **boas práticas de segurança** e respeitar a **same-origin policy**.
- **Tratar compatibilidade** entre diferentes navegadores e versões, pois algumas propriedades ou métodos podem não funcionar em todos os contextos.

---

## **Referências**

- [MDN Web Docs - Window](https://developer.mozilla.org/pt-BR/docs/Web/API/Window)
- [WhatWG HTML Living Standard - Window](https://html.spec.whatwg.org/multipage/window-object.html)
- [W3C Web APIs](https://www.w3.org/TR/?tag=webapi)

---

**FIM**.