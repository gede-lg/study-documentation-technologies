# Organiza√ß√£o de C√≥digo no React

## üéØ Introdu√ß√£o e Defini√ß√£o

### Defini√ß√£o Conceitual

**Organiza√ß√£o de C√≥digo** √© a pr√°tica de **estruturar arquivos, pastas e m√≥dulos** de forma **l√≥gica, escal√°vel e manuten√≠vel**, seguindo **conven√ß√µes claras** que facilitam navega√ß√£o, localiza√ß√£o e modifica√ß√£o de c√≥digo. Conceitualmente, representa **mapa do c√≥digo** - desenvolvedores devem encontrar o que precisam **intuitivamente** sem procurar por todo o projeto.

### Problema que Resolve

**C√≥digo Desorganizado**:
- Imposs√≠vel encontrar arquivos
- Conven√ß√µes inconsistentes
- Imports confusos (../../../../../../)
- Componentes misturados

**C√≥digo Organizado**:
- Localiza√ß√£o intuitiva
- Conven√ß√µes claras
- Imports limpos (@/...)
- Estrutura previs√≠vel

---

## üìÅ Estrutura Moderna (Feature-First)

### Estrutura Completa

```
project/
‚îú‚îÄ‚îÄ public/              # Assets est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ fonts/
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/            # Next.js App Router (se usar)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ features/       # Features da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginForm.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SignupForm.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useLogin.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authApi.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validateEmail.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cart/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ shared/         # C√≥digo compartilhado
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/ # UI components gen√©ricos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.test.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.stories.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/      # Hooks reutiliz√°veis
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useLocalStorage.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useDebounce.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useMediaQuery.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/      # Fun√ß√µes utilit√°rias
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ format/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatCurrency.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatDate.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validate/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validateEmail.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/      # Tipos compartilhados
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common.types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ constants/  # Constantes
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ routes.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ apiEndpoints.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lib/            # Configura√ß√µes de bibliotecas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ axios.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ react-query.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dayjs.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ layouts/        # Layouts reutiliz√°veis
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainLayout.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthLayout.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/         # Configura√ß√£o de rotas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ paths.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ styles/         # Estilos globais
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ globals.css
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ variables.css
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx         # Componente raiz
‚îÇ   ‚îú‚îÄ‚îÄ main.tsx        # Entry point
‚îÇ   ‚îî‚îÄ‚îÄ vite-env.d.ts   # Type definitions
‚îÇ
‚îú‚îÄ‚îÄ tests/              # Testes E2E
‚îÇ   ‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îî‚îÄ‚îÄ setup.ts
‚îÇ
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .eslintrc.json
‚îú‚îÄ‚îÄ .prettierrc
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ vite.config.ts
‚îî‚îÄ‚îÄ package.json
```

---

## üì¶ Conven√ß√µes de Nomea√ß√£o

### Arquivos

```
Componentes:      PascalCase.tsx
‚îú‚îÄ‚îÄ Button.tsx
‚îú‚îÄ‚îÄ ProductCard.tsx
‚îî‚îÄ‚îÄ UserProfile.tsx

Hooks:            camelCase.ts
‚îú‚îÄ‚îÄ useAuth.ts
‚îú‚îÄ‚îÄ useProducts.ts
‚îî‚îÄ‚îÄ useLocalStorage.ts

Utils:            camelCase.ts
‚îú‚îÄ‚îÄ formatCurrency.ts
‚îú‚îÄ‚îÄ validateEmail.ts
‚îî‚îÄ‚îÄ debounce.ts

Types:            camelCase.types.ts
‚îú‚îÄ‚îÄ user.types.ts
‚îú‚îÄ‚îÄ product.types.ts
‚îî‚îÄ‚îÄ common.types.ts

Constants:        camelCase.ts ou SCREAMING_SNAKE_CASE.ts
‚îú‚îÄ‚îÄ routes.ts
‚îú‚îÄ‚îÄ apiEndpoints.ts
‚îî‚îÄ‚îÄ CONFIG.ts

Testes:           *.test.tsx ou *.spec.tsx
‚îú‚îÄ‚îÄ Button.test.tsx
‚îú‚îÄ‚îÄ useAuth.test.ts
‚îî‚îÄ‚îÄ formatCurrency.spec.ts

Stories:          *.stories.tsx
‚îú‚îÄ‚îÄ Button.stories.tsx
‚îî‚îÄ‚îÄ Modal.stories.tsx
```

### Vari√°veis e Fun√ß√µes

```tsx
// Componentes: PascalCase
function UserProfile() {}
const ProductCard = () => {};

// Hooks: camelCase com prefixo 'use'
function useAuth() {}
const useProducts = () => {};

// Fun√ß√µes: camelCase
function formatCurrency() {}
const validateEmail = () => {};

// Constantes: SCREAMING_SNAKE_CASE ou camelCase
const API_BASE_URL = 'https://api.example.com';
const MAX_RETRIES = 3;

// Context: PascalCase com sufixo 'Context'
const AuthContext = createContext();
const ThemeContext = createContext();

// Tipos: PascalCase
type User = { id: number; name: string };
interface Product { id: number; name: string; }
```

---

## üîó Barrel Exports (index.ts)

### Pattern de Exports

```tsx
// ‚ùå Sem barrel exports
import { Button } from './shared/components/Button/Button';
import { Input } from './shared/components/Input/Input';
import { Modal } from './shared/components/Modal/Modal';

// ‚úÖ Com barrel exports
// shared/components/index.ts
export { Button } from './Button/Button';
export { Input } from './Input/Input';
export { Modal } from './Modal/Modal';

// Uso
import { Button, Input, Modal } from '@/shared/components';
```

### Organiza√ß√£o por Feature

```tsx
// features/auth/index.ts
export * from './components';
export * from './hooks';
export * from './types';

// features/auth/components/index.ts
export { LoginForm } from './LoginForm';
export { SignupForm } from './SignupForm';

// features/auth/hooks/index.ts
export { useAuth } from './useAuth';
export { useLogin } from './useLogin';

// Uso em outro arquivo
import {
  LoginForm,
  useAuth,
  type User,
  type LoginCredentials
} from '@/features/auth';
```

---

## üóÇÔ∏è Organiza√ß√£o de Componentes

### Componente Simples (Arquivo √önico)

```tsx
// Button.tsx
import styles from './Button.module.css';

type ButtonProps = {
  children: React.ReactNode;
  onClick: () => void;
  variant?: 'primary' | 'secondary';
};

export function Button({ children, onClick, variant = 'primary' }: ButtonProps) {
  return (
    <button className={styles[variant]} onClick={onClick}>
      {children}
    </button>
  );
}
```

### Componente Complexo (Pasta)

```
ProductCard/
‚îú‚îÄ‚îÄ ProductCard.tsx          # Componente principal
‚îú‚îÄ‚îÄ ProductCard.test.tsx     # Testes
‚îú‚îÄ‚îÄ ProductCard.stories.tsx  # Storybook
‚îú‚îÄ‚îÄ ProductCard.module.css   # Estilos
‚îú‚îÄ‚îÄ components/              # Subcomponentes
‚îÇ   ‚îú‚îÄ‚îÄ ProductImage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ProductPrice.tsx
‚îÇ   ‚îî‚îÄ‚îÄ ProductActions.tsx
‚îú‚îÄ‚îÄ hooks/                   # Hooks espec√≠ficos
‚îÇ   ‚îî‚îÄ‚îÄ useProductCard.ts
‚îú‚îÄ‚îÄ types.ts                 # Tipos
‚îî‚îÄ‚îÄ index.ts                 # Barrel export
```

```tsx
// ProductCard/ProductCard.tsx
import { ProductImage } from './components/ProductImage';
import { ProductPrice } from './components/ProductPrice';
import { ProductActions } from './components/ProductActions';
import { useProductCard } from './hooks/useProductCard';
import type { ProductCardProps } from './types';
import styles from './ProductCard.module.css';

export function ProductCard({ product }: ProductCardProps) {
  const { handleAddToCart, inCart } = useProductCard(product.id);

  return (
    <div className={styles.card}>
      <ProductImage src={product.image} alt={product.name} />
      <h3>{product.name}</h3>
      <ProductPrice price={product.price} salePrice={product.salePrice} />
      <ProductActions
        onAddToCart={handleAddToCart}
        inCart={inCart}
      />
    </div>
  );
}

// ProductCard/index.ts
export { ProductCard } from './ProductCard';
export type { ProductCardProps } from './types';
```

---

## üõ£Ô∏è Path Aliases (Absolute Imports)

### Configura√ß√£o TypeScript

```json
// tsconfig.json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "@/components/*": ["src/shared/components/*"],
      "@/hooks/*": ["src/shared/hooks/*"],
      "@/utils/*": ["src/shared/utils/*"],
      "@/features/*": ["src/features/*"],
      "@/lib/*": ["src/lib/*"],
      "@/types/*": ["src/shared/types/*"]
    }
  }
}
```

### Configura√ß√£o Vite

```typescript
// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      '@/components': path.resolve(__dirname, './src/shared/components'),
      '@/hooks': path.resolve(__dirname, './src/shared/hooks'),
      '@/utils': path.resolve(__dirname, './src/shared/utils'),
      '@/features': path.resolve(__dirname, './src/features'),
      '@/lib': path.resolve(__dirname, './src/lib'),
      '@/types': path.resolve(__dirname, './src/shared/types')
    }
  }
});
```

### Uso

```tsx
// ‚ùå Relative imports (confuso, fr√°gil)
import { Button } from '../../../shared/components/Button';
import { useAuth } from '../../../../features/auth/hooks/useAuth';
import { formatCurrency } from '../../../shared/utils/format/formatCurrency';

// ‚úÖ Absolute imports (claro, robusto)
import { Button } from '@/components/Button';
import { useAuth } from '@/features/auth';
import { formatCurrency } from '@/utils/format';
```

---

## üìã Ordem de Imports

### Conven√ß√£o Recomendada

```tsx
// 1. External dependencies (bibliotecas)
import React, { useState, useEffect } from 'react';
import { useQuery } from '@tanstack/react-query';
import { format } from 'date-fns';

// 2. Internal dependencies - Absolute imports
import { Button } from '@/components/Button';
import { useAuth } from '@/features/auth';
import { formatCurrency } from '@/utils/format';

// 3. Relative imports (mesma feature)
import { ProductCard } from './components/ProductCard';
import { useProducts } from './hooks/useProducts';

// 4. Types
import type { Product } from '@/types/product';

// 5. Styles/Assets
import styles from './ProductList.module.css';
import logo from './assets/logo.svg';

export function ProductList() {
  // ...
}
```

### ESLint Plugin (Automatizar)

```json
// .eslintrc.json
{
  "plugins": ["import"],
  "rules": {
    "import/order": [
      "error",
      {
        "groups": [
          "builtin",
          "external",
          "internal",
          "parent",
          "sibling",
          "index",
          "type"
        ],
        "pathGroups": [
          {
            "pattern": "@/**",
            "group": "internal"
          }
        ],
        "alphabetize": {
          "order": "asc"
        },
        "newlines-between": "always"
      }
    ]
  }
}
```

---

## üöÄ Conclus√£o

Organiza√ß√£o de C√≥digo inclui:
- **Estrutura**: Feature-first, pastas por dom√≠nio
- **Nomea√ß√£o**: PascalCase (componentes), camelCase (fun√ß√µes/hooks)
- **Barrel Exports**: index.ts para imports limpos
- **Path Aliases**: @/ para imports absolutos
- **Ordem**: Externa ‚Üí Interna ‚Üí Relativa ‚Üí Types ‚Üí Styles

C√≥digo bem organizado √© **invis√≠vel** - desenvolvedores n√£o pensam em "onde est√° X?", apenas **encontram naturalmente**.
