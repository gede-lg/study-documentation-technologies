# Fundamentos de Acessibilidade no React

## üéØ Introdu√ß√£o e Defini√ß√£o

### Defini√ß√£o Conceitual

**Acessibilidade (a11y)** no React √© a pr√°tica de **tornar aplica√ß√µes web us√°veis por todas as pessoas**, incluindo aquelas com defici√™ncias visuais, auditivas, motoras ou cognitivas, atrav√©s de **HTML sem√¢ntico**, **ARIA attributes** e **keyboard navigation**. Conceitualmente, representa **inclus√£o digital** - garantir que ningu√©m seja exclu√≠do da experi√™ncia web, independente de suas capacidades.

### Contexto Hist√≥rico

Evolu√ß√£o da acessibilidade:
- **Anos 90**: HTML b√°sico, acessibilidade natural
- **Anos 2000**: Flash/JavaScript - acessibilidade quebrada
- **2008**: WAI-ARIA 1.0 - atributos para apps ricas
- **2010+**: Frameworks (React/Vue) - desafios novos
- **2023+**: Acessibilidade como padr√£o

### Problema que Resolve

**Sem Acessibilidade**:
- 15% da popula√ß√£o mundial exclu√≠da (1+ bilh√£o)
- Screen readers n√£o funcionam
- Navega√ß√£o por teclado imposs√≠vel
- Contraste insuficiente
- Problemas legais (processos)

**Com Acessibilidade**:
- Todos podem usar a aplica√ß√£o
- Melhor SEO
- Melhor UX para todos
- Compliance legal (ADA, WCAG)
- Maior alcance de mercado

---

## üìã WCAG - Web Content Accessibility Guidelines

### N√≠veis de Conformidade

```
A (M√≠nimo)
‚îú‚îÄ‚îÄ Contraste b√°sico
‚îú‚îÄ‚îÄ Texto alternativo em imagens
‚îî‚îÄ‚îÄ Navega√ß√£o por teclado

AA (Recomendado) ‚Üê Padr√£o legal
‚îú‚îÄ‚îÄ Contraste 4.5:1 para texto
‚îú‚îÄ‚îÄ Resize at√© 200%
‚îî‚îÄ‚îÄ Labels em formul√°rios

AAA (√ìtimo)
‚îú‚îÄ‚îÄ Contraste 7:1
‚îú‚îÄ‚îÄ Linguagem simples
‚îî‚îÄ‚îÄ Ajuda contextual
```

### Quatro Princ√≠pios (POUR)

1. **Perceivable (Percept√≠vel)**
   - Informa√ß√£o deve ser apresentada de forma que usu√°rios possam perceber
   - Alt text em imagens
   - Legendas em v√≠deos
   - Contraste de cores adequado

2. **Operable (Oper√°vel)**
   - Interface e navega√ß√£o devem ser oper√°veis
   - Navega√ß√£o por teclado
   - Tempo suficiente para ler
   - Sem conte√∫do que cause convuls√µes

3. **Understandable (Compreens√≠vel)**
   - Informa√ß√£o e opera√ß√£o da UI devem ser compreens√≠veis
   - Linguagem clara
   - Previsibilidade
   - Ajuda com erros

4. **Robust (Robusto)**
   - Conte√∫do deve ser robusto o suficiente para ser interpretado por diversos user agents
   - HTML v√°lido
   - ARIA correto
   - Compatibilidade com tecnologias assistivas

---

## üß† HTML Sem√¢ntico

### Elementos Sem√¢nticos vs Divs

```jsx
// ‚ùå N√£o sem√¢ntico
<div className="header">
  <div className="nav">
    <div onClick={handleClick}>Home</div>
    <div onClick={handleClick}>About</div>
  </div>
</div>

<div className="main">
  <div className="article">
    <div className="title">Title</div>
    <div className="content">Content</div>
  </div>
</div>

// ‚úÖ Sem√¢ntico
<header>
  <nav>
    <a href="/">Home</a>
    <a href="/about">About</a>
  </nav>
</header>

<main>
  <article>
    <h1>Title</h1>
    <p>Content</p>
  </article>
</main>
```

### Benef√≠cios do HTML Sem√¢ntico

- **Screen readers** entendem estrutura
- **Navega√ß√£o** por landmarks (nav, main, aside)
- **SEO** melhorado
- **Acessibilidade** autom√°tica (roles impl√≠citos)
- **Manuten√ß√£o** mais f√°cil

### Elementos Importantes

```jsx
// Estrutura
<header>  {/* Banner do site */}
<nav>     {/* Navega√ß√£o */}
<main>    {/* Conte√∫do principal */}
<aside>   {/* Conte√∫do relacionado */}
<footer>  {/* Rodap√© */}

// Conte√∫do
<article> {/* Conte√∫do independente */}
<section> {/* Se√ß√£o tem√°tica */}
<h1>-<h6> {/* Headings hier√°rquicos */}
<p>       {/* Par√°grafo */}

// Formul√°rios
<form>    {/* Formul√°rio */}
<label>   {/* Label de input */}
<button>  {/* Bot√£o (n√£o div!) */}
<input>   {/* Input */}
```

---

## üéØ Headings e Estrutura

### Hierarquia de Headings

```jsx
// ‚ùå Hierarquia quebrada
function Page() {
  return (
    <>
      <h1>Site Title</h1>
      <h4>Section</h4>  {/* Pulou h2 e h3! */}
      <h2>Subsection</h2> {/* Voltou para h2! */}
    </>
  );
}

// ‚úÖ Hierarquia correta
function Page() {
  return (
    <>
      <h1>Site Title</h1>
      <h2>Main Section</h2>
      <h3>Subsection</h3>
      <h3>Another Subsection</h3>
      <h2>Another Main Section</h2>
    </>
  );
}
```

### Apenas um H1 por P√°gina

```jsx
// ‚ùå M√∫ltiplos h1
function App() {
  return (
    <>
      <h1>Header</h1>
      <main>
        <h1>Page Title</h1> {/* Segundo h1! */}
      </main>
    </>
  );
}

// ‚úÖ Um h1
function App() {
  return (
    <>
      <header>
        <p>Site Name</p> {/* N√£o precisa ser h1 */}
      </header>
      <main>
        <h1>Page Title</h1> {/* √önico h1 */}
      </main>
    </>
  );
}
```

---

## üñºÔ∏è Imagens e Alt Text

### Alt Text Correto

```jsx
// ‚ùå Alt ruim
<img src="cat.jpg" alt="image" /> {/* Gen√©rico */}
<img src="cat.jpg" alt="" /> {/* Vazio quando deveria ter */}
<img src="cat.jpg" alt="cat.jpg" /> {/* Nome de arquivo */}

// ‚úÖ Alt bom
<img src="cat.jpg" alt="Orange tabby cat sleeping on a couch" />

// ‚úÖ Alt vazio para decorativas
<img src="border.png" alt="" /> {/* Puramente decorativa */}

// ‚úÖ Alt com contexto
<button>
  <img src="delete.svg" alt="" /> {/* Alt vazio pois bot√£o tem texto */}
  Delete
</button>

<button aria-label="Delete item">
  <img src="delete.svg" alt="" /> {/* Alt vazio, aria-label no bot√£o */}
</button>
```

### Imagens Complexas

```jsx
// Gr√°fico - use aria-describedby
function Chart() {
  return (
    <>
      <img
        src="sales-chart.png"
        alt="Sales chart for Q1 2024"
        aria-describedby="chart-description"
      />
      <div id="chart-description">
        Detailed description: Sales increased 30% from January to March,
        with a peak in February at $50,000.
      </div>
    </>
  );
}
```

---

## üîó Links e Navega√ß√£o

### Links Descritivos

```jsx
// ‚ùå Link gen√©rico
<a href="/article">Click here</a>
<a href="/article">Read more</a>
<a href="/article">Learn more</a>

// ‚úÖ Link descritivo
<a href="/article">Read the full accessibility guide</a>
<a href="/article">Learn more about WCAG 2.1 guidelines</a>
```

### Skip Links

```jsx
// Permite pular navega√ß√£o
function Layout() {
  return (
    <>
      <a href="#main" className="skip-link">
        Skip to main content
      </a>

      <nav>
        {/* Muitos links */}
      </nav>

      <main id="main">
        {/* Conte√∫do principal */}
      </main>
    </>
  );
}

// CSS
.skip-link {
  position: absolute;
  left: -9999px;
}

.skip-link:focus {
  left: 0;
  top: 0;
  z-index: 999;
}
```

---

## ‚å®Ô∏è Navega√ß√£o por Teclado

### Tabindex

```jsx
// tabindex="0" - Ordem natural do DOM
<div tabIndex={0}>Focusable div</div>

// tabindex="-1" - Focusable programaticamente, n√£o via Tab
<div tabIndex={-1} ref={errorRef}>Error message</div>

// ‚ùå NUNCA use tabindex > 0
<div tabIndex={1}>Bad!</div> {/* Quebra ordem natural */}

// Foco program√°tico
useEffect(() => {
  if (error) {
    errorRef.current?.focus();
  }
}, [error]);
```

### Elementos Interativos

```jsx
// ‚ùå Div clic√°vel (n√£o acess√≠vel)
<div onClick={handleClick}>Click me</div>

// ‚úÖ Button (acess√≠vel nativamente)
<button onClick={handleClick}>Click me</button>

// ‚úÖ Div com role e keyboard support
<div
  role="button"
  tabIndex={0}
  onClick={handleClick}
  onKeyDown={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      handleClick();
    }
  }}
>
  Click me
</div>
```

### Focus Trapping em Modals

```jsx
function Modal({ isOpen, onClose, children }) {
  const modalRef = useRef(null);

  useEffect(() => {
    if (!isOpen) return;

    const focusableElements = modalRef.current.querySelectorAll(
      'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
    );
    const firstElement = focusableElements[0];
    const lastElement = focusableElements[focusableElements.length - 1];

    const handleTab = (e) => {
      if (e.key !== 'Tab') return;

      if (e.shiftKey) {
        if (document.activeElement === firstElement) {
          lastElement.focus();
          e.preventDefault();
        }
      } else {
        if (document.activeElement === lastElement) {
          firstElement.focus();
          e.preventDefault();
        }
      }
    };

    modalRef.current.addEventListener('keydown', handleTab);
    firstElement?.focus();

    return () => {
      modalRef.current?.removeEventListener('keydown', handleTab);
    };
  }, [isOpen]);

  if (!isOpen) return null;

  return (
    <div
      ref={modalRef}
      role="dialog"
      aria-modal="true"
    >
      {children}
    </div>
  );
}
```

---

## üé® Contraste de Cores

### Requisitos WCAG

```
Texto Normal (< 18pt):
‚îú‚îÄ‚îÄ AA: 4.5:1
‚îî‚îÄ‚îÄ AAA: 7:1

Texto Grande (‚â• 18pt ou 14pt bold):
‚îú‚îÄ‚îÄ AA: 3:1
‚îî‚îÄ‚îÄ AAA: 4.5:1

Componentes de UI:
‚îî‚îÄ‚îÄ AA: 3:1 (√≠cones, bordas)
```

### Exemplos

```css
/* ‚ùå Contraste insuficiente (2.5:1) */
.text {
  color: #888; /* Cinza claro */
  background: #fff; /* Branco */
}

/* ‚úÖ Contraste suficiente (4.6:1) */
.text {
  color: #595959; /* Cinza escuro */
  background: #fff;
}

/* ‚úÖ Contraste alto (12:1) */
.text {
  color: #000;
  background: #fff;
}
```

### Ferramentas

- **Chrome DevTools**: Lighthouse audit
- **WebAIM Contrast Checker**: https://webaim.org/resources/contrastchecker/
- **Contrast Ratio**: https://contrast-ratio.com/

---

## üöÄ Conclus√£o

Fundamentos de Acessibilidade incluem:
- **WCAG**: N√≠veis A, AA, AAA - Princ√≠pios POUR
- **HTML Sem√¢ntico**: header, nav, main, button
- **Headings**: Hierarquia h1-h6
- **Alt Text**: Descritivo e contextual
- **Keyboard**: tabindex, focus management
- **Contraste**: 4.5:1 (AA) para texto normal

Acessibilidade n√£o √© feature opcional - √© responsabilidade fundamental que beneficia todos os usu√°rios e √© exigida por lei em muitas jurisdi√ß√µes.
