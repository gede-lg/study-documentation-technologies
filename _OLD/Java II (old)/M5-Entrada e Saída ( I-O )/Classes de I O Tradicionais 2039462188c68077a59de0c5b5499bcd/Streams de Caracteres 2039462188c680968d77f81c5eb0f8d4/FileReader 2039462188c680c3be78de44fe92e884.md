# FileReader

**1. Introdução**

A API de *Streams de Caracteres* do Java faz parte do pacote `java.io` e foi projetada para facilitar a leitura e escrita de fluxos de texto (ao contrário de fluxos de bytes, que tratam dados binários). Dentre essas classes, o **`FileReader`** é uma implementação direta de `Reader` que simplifica a leitura de arquivos como sequências de caracteres.

- **Relevância:** Em aplicações de backend, ETL, scripts de manutenção e utilitários, ler arquivos de configuração, logs ou dados em texto puro é tarefa corriqueira. O `FileReader` provê uma solução padrão e integrada ao Java para esse fim.
- **Conceitos fundamentais:**
    - **Tema principal:** *Streams de caracteres – FileReader*, que engloba as operações básicas de leitura de texto de arquivos.
    - **Subtemas:**
        1. Herança de `Reader`
        2. Métodos de leitura (`read()`, `read(char[]…)`)
        3. Boas práticas (uso de *try-with-resources*, buffering, tratamento de encodings)

**2. Sumário**

1. [Sintaxe e Estrutura](FileReader%202039462188c680c3be78de44fe92e884.md)
2. [Componentes Principais](FileReader%202039462188c680c3be78de44fe92e884.md)
3. [Restrições de Uso](FileReader%202039462188c680c3be78de44fe92e884.md)
4. [Exemplos de Código Otimizados](FileReader%202039462188c680c3be78de44fe92e884.md)
5. [Informações Adicionais](FileReader%202039462188c680c3be78de44fe92e884.md)
6. [Referências para Estudo Independente](FileReader%202039462188c680c3be78de44fe92e884.md)

---

### Sintaxe e Estrutura

O `FileReader` estende `InputStreamReader`, que por sua vez estende `Reader`. Suas assinaturas principais:

```java
public class FileReader extends InputStreamReader {
    // Construtores mais usados:
    public FileReader(String fileName) throws FileNotFoundException { … }
    public FileReader(File file)      throws FileNotFoundException { … }

    // Métodos herdados de Reader:
    public int  read()                throws IOException { … }
    public int  read(char[] cbuf)     throws IOException { … }
    public void close()               throws IOException { … }
}

```

- **Leitura simples:**
    - `read()` retorna o código Unicode do próximo caractere ou –1 ao atingir o fim de arquivo.
    - `read(char[] cbuf)` preenche o array com até `cbuf.length` caracteres, retornando a quantidade lida.

---

### Componentes Principais

1. **Construtores**
    - `new FileReader("caminho/para/arquivo.txt")`
    - `new FileReader(new File(...))`
2. **Métodos de Leitura**
    - `int read()`
    - `int read(char[] buffer)`
3. **Fechamento de Recurso**
    - `void close()` — sempre chame para liberar o descriptor de arquivo
4. **Interactuação com Outros Readers**
    - Em situações de grande volume de dados, recomenda-se *encapsular* o `FileReader` num `BufferedReader`:
        
        ```java
        try (BufferedReader br = new BufferedReader(new FileReader(path))) {
            // leitura linha a linha
        }
        
        ```
        

---

### Restrições de Uso

- **Encoding:** `FileReader` usa o charset padrão da JVM; não há como especificar outro diretamente.
- **Performance:** Leitura caractere a caractere (`read()`) pode ser lenta; prefira `read(char[])` ou `BufferedReader`.
- **Concorrência:** Instâncias não são *thread-safe*. Cada thread deve usar seu próprio `Reader`.

---

### Exemplos de Código Otimizados

### 1. Leitura Básica com `read()`

```java
Path path = Paths.get("dados.txt");
try (FileReader fr = new FileReader(path.toFile())) {
    int c;
    while ((c = fr.read()) != -1) {
        System.out.print((char) c);
    }
} catch (IOException e) {
    e.printStackTrace();
}

```

> Quando usar: Arquivos pequenos ou depuração rápida.
> 

### 2. Leitura em Blocos com `char[]`

```java
try (FileReader fr = new FileReader("dados.txt")) {
    char[] buffer = new char[1024];
    int len;
    while ((len = fr.read(buffer)) != -1) {
        System.out.print(new String(buffer, 0, len));
    }
}

```

> Vantagem: Menos chamadas a I/O, maior throughput.
> 

### 3. Leitura Linha a Linha com `BufferedReader`

```java
try (BufferedReader br = new BufferedReader(new FileReader("dados.txt"))) {
    String line;
    while ((line = br.readLine()) != null) {
        // processa cada linha
        System.out.println(line);
    }
}

```

> Uso comum: Processamento de logs, CSV simples, arquivos de configuração.
> 

### 4. Leitura com Charset Específico

```java
// Se precisar de UTF-8 ou outro encoding:
try (InputStreamReader isr = new InputStreamReader(
         new FileInputStream("dados.txt"), StandardCharsets.UTF_8);
     BufferedReader br = new BufferedReader(isr)) {
    // leitura como no exemplo anterior
}

```

> Observação: Use InputStreamReader quando for necessário controlar o charset.
> 

---

### Informações Adicionais

- **Alternativas Modernas:**
    - `Files.newBufferedReader(Path, Charset)` simplifica criação de `BufferedReader`.
    - `Files.lines(Path)` retorna `Stream<String>` para leitura funcional.
- **Cuidados com Recursos:**
    - *Try-with-resources* garante fechamento mesmo em caso de exceção.
- **Tratamento de Exceções:**
    - Diferencie `FileNotFoundException` (arquivo não existe) de `IOException` (erros gerais de I/O).

---

### Referências para Estudo Independente

1. **Documentação Oracle Java SE**
    - `FileReader` & `Reader` APIs:
    [https://docs.oracle.com/javase/8/docs/api/java/io/FileReader.html](https://docs.oracle.com/javase/8/docs/api/java/io/FileReader.html)
2. **Tutorial “The Java™ Tutorials”**
    - *Basic I/O*:
    [https://docs.oracle.com/javase/tutorial/essential/io/index.html](https://docs.oracle.com/javase/tutorial/essential/io/index.html)
3. **Artigo Baeldung**
    - *Guide to Java BufferedReader and BufferedWriter*:
    [https://www.baeldung.com/java-buffered-reader-writer](https://www.baeldung.com/java-buffered-reader-writer)
4. **Livro “Core Java Volume I”** (Cay S. Horstmann)
    - Capítulo sobre I/O tradicional e NIO.2.

---

*Com esta estrutura, você tem desde os fundamentos de leitura de arquivos de texto em Java até práticas modernas e eficientes para uso em cenários reais de desenvolvimento.*